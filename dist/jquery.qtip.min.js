/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Tue Feb 1 22:02:37 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(a,M,T){function $(){var d=M.console;return d&&(d.error||d.log||a.noop).apply(d,arguments)}function W(d){var b;if(!d||"object"!==typeof d)return p;if("object"!==typeof d.metadata)d.metadata={type:d.metadata};if("content"in d){if("object"!==typeof d.content||d.content.jquery)d.content={text:d.content};b=d.content.text||p;if(!a.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))d.content.text=p;if("title"in d.content){if("object"!==typeof d.content.title)d.content.title=
{text:d.content.title};b=d.content.title.text||p;if(!a.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))d.content.title.text=p}}if("position"in d)if("object"!==typeof d.position)d.position={my:d.position,at:d.position};if("show"in d)if("object"!==typeof d.show)d.show=d.show.jquery?{target:d.show}:{event:d.show};if("hide"in d)if("object"!==typeof d.hide)d.hide=d.hide.jquery?{target:d.hide}:{event:d.hide};if("style"in d)if("object"!==typeof d.style)d.style={classes:d.style};
a.each(a.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(d)});return d}function aa(d,b,i,k){function o(e){var f,j=e.split("."),s=b[j[0]];for(e=1;e<j.length;e+=1){f=s[j[e]];if(typeof f==="object"&&!f.jquery&&!f.precedance)s=s[j[e]];else break}return j[e]!==T?[s,j[e]]:[b,j[0]]}function h(){return g.css("left")!==ba&&g.css("visibility")!=="hidden"}function l(){var e=c.elements,f=b.style.widget;g.toggleClass(Z,f);e.content.toggleClass(Z+"-content",f);e.titlebar&&e.titlebar.toggleClass(Z+"-header",
f);e.button&&e.button.toggleClass(N+"-icon",!f)}function w(){var e=c.elements;if(e.title){e.titlebar.remove();e.titlebar=e.title=e.button=E;c.reposition()}}function n(){var e=c.elements,f=b.content.title.button;e.button&&e.button.remove();e.button=f.jquery?f:a("<a />",{"class":"ui-state-default "+(b.style.widget?"":N+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));e.button.appendTo(e.titlebar).attr("role","button").hover(function(j){a(this).toggleClass("ui-state-hover",
j.type==="mouseenter")}).click(function(j){g.hasClass(R)||c.hide(j);return p}).bind("mousedown keydown mouseup keyup mouseout",function(j){a(this).toggleClass("ui-state-active ui-state-focus",j.type.substr(-4)==="down")});c.redraw()}function y(){var e=c.elements,f=v+"-title";e.titlebar&&w();e.titlebar=a("<div />",{"class":N+"-titlebar "+(b.style.widget?"ui-widget-header":"")}).append(e.title=a("<div />",{id:f,"class":N+"-title","aria-atomic":x})).insertBefore(e.content);if(b.content.title.button)n();
else c.rendered&&c.redraw()}function z(e){var f=c.elements.title;if(!c.rendered||!e)return p;if(a.isFunction(e))e=e.call(d,c)||"";e.jquery&&e.length>0?f.empty().append(e.css({display:"block"})):f.html(e);c.redraw();c.rendered&&h()&&c.reposition(c.cache.event)}function A(e){var f=c.elements.content;if(!c.rendered||!e)return p;if(a.isFunction(e))e=e.call(d,c)||"";e.jquery&&e.length>0?f.empty().append(e.css({display:"block"})):f.html(e);g.queue("fx",function(j){function s(u){q=q.not(u);if(q.length===
0){c.redraw();c.rendered&&h()&&c.reposition(c.cache.event);j()}}var q=f.find("img:not([height]):not([width])");q.each(function(u,C){var K=["abort","error","load","unload",""].join(".qtip-image ");a(this).bind(K,function(){clearTimeout(c.timers.img[u]);s(this)});(function F(){if(C.height)return s(C);c.timers.img[u]=setTimeout(F,20)})();return x});q.length===0&&s(q)});return c}function O(e,f,j,s){function q(r){if(g.hasClass(R))return p;G.show.trigger("qtip-"+i+"-inactive");clearTimeout(c.timers.show);
clearTimeout(c.timers.hide);var H=function(){c.show(r)};if(b.show.delay>0)c.timers.show=setTimeout(H,b.show.delay);else H()}function u(r){if(g.hasClass(R))return p;var H=a(r.relatedTarget||r.target),J=H.closest(X)[0]===g[0];H=H[0]===G.show[0];clearTimeout(c.timers.show);clearTimeout(c.timers.hide);if(D.target==="mouse"&&J||b.hide.fixed&&/mouse(out|leave|move)/.test(r.type)&&(J||H)){r.stopPropagation();r.preventDefault();return p}g.stop(1,1);if(b.hide.delay>0)c.timers.hide=setTimeout(function(){c.hide(r)},
b.hide.delay);else c.hide(r)}function C(r){if(g.hasClass(R))return p;clearTimeout(c.timers.inactive);c.timers.inactive=setTimeout(function(){c.hide(r)},b.hide.inactive)}function K(r){h()&&c.reposition(r)}var F=".qtip-"+i,D=b.position,G={show:b.show.target,hide:b.hide.target,container:D.container[0]===t?document:D.container},P={show:String(b.show.event).split(" "),hide:String(b.hide.event).split(" ")},S=a(document),I=a.browser.msie&&parseInt(a.browser.version,10)===6;if(j){if(b.hide.fixed){G.hide=
G.hide.add(g);g.bind("mouseover"+F,function(){g.hasClass(R)||clearTimeout(c.timers.hide)})}g.bind("mouseenter"+F+" mouseleave"+F,function(r){c[r.type==="mouseenter"?"focus":"blur"](r)})}if(f){if("number"===typeof b.hide.inactive){G.show.bind("qtip-"+i+"-inactive",C);a.each(a.fn.qtip.inactiveEvents,function(r,H){G.hide.add(c.elements.tooltip).bind(H+F+"-inactive",C)})}a.each(P.hide,function(r,H){var J=a.inArray(H,P.show),L=a(G.hide);if(J>-1&&L.add(G.show).length===L.length||H==="unfocus"){G.show.bind(H+
F,function(Q){h()?u(Q):q(Q)});delete P.show[J]}else G.hide.bind(H+F,u)})}e&&a.each(P.show,function(r,H){G.show.bind(H+F,q)});if(s){if(D.adjust.resize||D.viewport)a(a.event.special.resize?D.viewport:M).bind("resize"+F,K);if(D.viewport||I&&g.css("position")==="fixed")a(D.viewport).bind("scroll"+F,K);/unfocus/i.test(b.hide.event)&&S.bind("mousedown"+F,function(r){var H=a(r.target);H.parents(X).length===0&&H.add(d).length>1&&h()&&!g.hasClass(R)&&c.hide(r)});D.target==="mouse"&&S.bind("mousemove"+F,function(r){if(D.adjust.mouse&&
!g.hasClass(R)&&h())c.reposition(r||a.fn.qtip.mouse)})}}function m(e,f,j,s){s=parseInt(s,10)!==0;var q=".qtip-"+i;f={show:e?b.show.target:E,hide:f?b.hide.target:E,tooltip:j?c.elements.tooltip:E,content:j?c.elements.content:E,container:s?b.position.container[0]===t?document:b.position.container:E,window:s?M:E};if(c.rendered)a([]).pushStack(a.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(q);else e&&f.show.unbind(q+"-create")}var c=this,t=document.body,
v=N+"-"+i,B=0,g;c.id=i;c.rendered=p;c.elements={target:d};c.timers={img:[]};c.options=b;c.checks={};c.plugins={};c.cache={event:{},target:E,disabled:p,attr:k};c.checks.builtin={"^id$":function(e,f,j){e=j===x?a.fn.qtip.nextid:j;f=N+"-"+e;if(e!==p&&e.length>0&&!a("#"+f).length){g[0].id=f;c.elements.content[0].id=f+"-content";c.elements.title[0].id=f+"-title"}},"^content.text$":function(e,f,j){A(j)},"^content.title.text$":function(e,f,j){if(!j)return w();!c.elements.title&&j&&y();z(j)},"^content.title.button$":function(e,
f,j){e=c.elements.button;f=c.elements.title;if(c.rendered)if(j){f||y();n()}else e.remove()},"^position.(my|at)$":function(e,f,j){if("string"===typeof j)e[f]=new a.fn.qtip.plugins.Corner(j)},"^position.container$":function(e,f,j){c.rendered&&g.appendTo(j)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(e,f,j,s){var q=f.search(/fixed/i)>-1?[0,[0,1,1,1]]:[f.substr(0,3),f.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(q[0])e[f]=s;m.apply(c,q[1]);if(q[0])e[f]=j;O.apply(c,q[1])},"^show.ready$":function(){c.rendered||
c.show()},"^style.classes$":function(e,f,j){a.attr(g[0],"class",N+" qtip ui-helper-reset "+j)},"^style.widget|content.title":l,"^events.(render|show|move|hide|focus|blur)$":function(e,f,j){g[(a.isFunction(j)?"":"un")+"bind"]("tooltip"+f,j)}};a.extend(c,{render:function(e){if(c.rendered)return p;var f=c.elements,j=b.content.text,s=b.content.title.text,q=a.Event("tooltiprender");a.attr(d[0],"aria-describedby",v);g=f.tooltip=a("<div/>").attr({id:v,"class":N+" qtip ui-helper-reset "+b.style.classes,role:"alert",
"aria-live":"polite","aria-atomic":p,"aria-describedby":v+"-content","aria-hidden":x}).toggleClass(R,c.cache.disabled).data("qtip",c).appendTo(b.position.container).append(f.content=a("<div />",{"class":N+"-content",id:v+"-content","aria-atomic":x}));c.rendered=x;if(s){y();z(s)}A(j);l();a.each(a.fn.qtip.plugins,function(){this.initialize==="render"&&this(c)});O(1,1,1,1);a.each(b.events,function(u,C){if(C)g.bind(u==="toggle"?"tooltipshow tooltiphide":"tooltip"+u,C)});g.css("visibility","hidden").queue("fx",
function(u){q.originalEvent=c.cache.event;g.trigger(q,[c]);if(b.show.ready||e)c.show(c.cache.event);u()});return c},get:function(e){switch(e.toLowerCase()){case "dimensions":e={height:g.outerHeight(),width:g.outerWidth()};break;case "offset":e=a.fn.qtip.plugins.offset(g,b.position.container);break;default:e=o(e.toLowerCase());e=e[0].precedance?e[0].string():e[0].jquery?e[0]:e[0][e[1]];break}return e},set:function(e,f){function j(K,F){K=K.toLowerCase();var D=o(K),G,P,S;G=D[0][D[1]];D[0][D[1]]=F.nodeType?
a(F):F;for(P in u)for(S in u[P])RegExp(S,"i").test(K)&&u[P][S].call(c,D[0],D[1],F,G)}var s=/^position.(my|at|adjust|target|container)|style|content/i,q=p,u=c.checks,C;if("string"===typeof e){C=e;e={};e[C]=f}B=1;for(C in e){j(C,e[C]);q=s.test(C)||q}B=0;q&&h()&&c.rendered&&c.reposition();W(b);return c},toggle:function(e,f){function j(){if(e)a.browser.msie&&g[0].style.removeAttribute("filter");else g.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(!c.rendered)return p;var s=
e?"show":"hide",q=b[s],u=h();if((typeof e).search("boolean|number"))e=!u;if(u===e)return c;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(c.cache.event.type)&&f.target===b.show.target[0]&&g.has(f.relatedTarget).length)return c;c.cache.event=a.extend({},f)}u=a.Event("tooltip"+s);u.originalEvent=f?c.cache.event:E;g.trigger(u,[c,90]);if(u.isDefaultPrevented())return c;a.attr(g[0],"aria-hidden",!!!e);if(e){g.hide().css({visibility:""});c.focus(f);c.reposition(f,0);q.solo&&a(X).not(g).qtip("hide",
u)}else{clearTimeout(c.timers.show);c.blur(f)}g.stop(1,1);if(a.isFunction(q.effect)){q.effect.call(g,c);g.queue("fx",function(C){j.call(this,C);C()})}else if(q.effect===p){g[s]();j.call(g)}else g.fadeTo(90,e?1:0,j);e&&q.target.trigger("qtip-"+i+"-inactive");return c},show:function(e){c.toggle(x,e)},hide:function(e){c.toggle(p,e)},focus:function(e){if(!c.rendered)return p;var f=a(X),j=parseInt(g[0].style.zIndex,10),s=a.fn.qtip.zindex+f.length;e=a.extend({},e);if(!g.hasClass(Y)){if(j!==s){f.each(function(){if(this.style.zIndex>
j)this.style.zIndex-=1});f.filter("."+Y).qtip("blur",e)}f=a.Event("tooltipfocus");f.originalEvent=e;g.trigger(f,[c,s]);if(!f.isDefaultPrevented())g.addClass(Y)[0].style.zIndex=s}return c},blur:function(e){e=a.extend({},e);var f;g.removeClass(Y);f=a.Event("tooltipblur");f.originalEvent=e;g.trigger(f,[c])},reposition:function(e,f){if(!c.rendered||B)return p;B=x;var j=b.position.target,s=b.position,q=s.my,u=s.at,C=s.adjust,K=g.outerWidth(),F=g.outerHeight(),D=0,G=0,P=a.Event("tooltipmove"),S=g.css("position")===
"fixed",I=s.viewport.jquery?s.viewport:a(M),r={left:0,top:0},H={left:function(J){var L=I.scrollLeft,Q=u.x==="left"?D:u.x==="right"?-D:-D/2,U=L-J;L=J+K-I.width-L;Q=(q.x==="left"?K:q.x==="right"?-K:-K/2)-(q.precedance==="x"||q.x===q.y?Q:0);if(U>0&&(q.x!=="left"||L>0))r.left-=Q;else if(L>0&&(q.x!=="right"||U>0))r.left-=(q.x==="center"?-1:1)*Q+2*C.x;if(r.left<0&&-r.left>L)r.left=J;return r.left-J},top:function(J){var L=I.scrollTop,Q=u.y==="top"?G:u.y==="bottom"?-G:-G/2,U=L-J;L=J+F-I.height-L;Q=(q.y===
"top"?F:q.y==="bottom"?-F:-F/2)-(q.precedance==="y"||q.x===q.y?Q:0);if(U>0&&(q.y!=="top"||L>0))r.top-=Q;else if(L>0&&(q.y!=="bottom"||U>0))r.top-=(q.y==="center"?-1:1)*Q+2*C.y;if(r.top<0&&-r.top>L)r.top=J;return r.top-J}};f=f===T||!!f||p;I=!I?p:{elem:I,height:I[(I[0]===M?"h":"outerH")+"eight"](),width:I[(I[0]===M?"w":"outerW")+"idth"](),scrollLeft:I.scrollLeft(),scrollTop:I.scrollTop()};if(j==="mouse"){u={x:"left",y:"top"};e=e&&(e.type==="resize"||e.type==="scroll")?c.cache.event:C.mouse||!e||!e.pageX?
a.extend({},a.fn.qtip.mouse):e;r={top:e.pageY,left:e.pageX}}else{if(j==="event")j=e&&e.target&&e.type!=="scroll"&&e.type!=="resize"?c.cache.target=a(e.target):c.cache.target;j=a(j).eq(0);if(j.length===0)return c;else if(j[0]===document||j[0]===M){D=j.width();G=j.height();if(j[0]===M)r={top:S?0:I.scrollTop,left:S?0:I.scrollLeft}}else if(j.is("area")&&a.fn.qtip.plugins.imagemap){r=a.fn.qtip.plugins.imagemap(j,u);D=r.width;G=r.height;r=r.offset}else if(j[0].namespaceURI=="http://www.w3.org/2000/svg"&&
a.fn.qtip.plugins.svg){r=a.fn.qtip.plugins.svg(j,u);D=r.width;G=r.height;r=r.offset}else{D=j.outerWidth();G=j.outerHeight();r=a.fn.qtip.plugins.offset(j,s.container)}r.left+=u.x==="right"?D:u.x==="center"?D/2:0;r.top+=u.y==="bottom"?G:u.y==="center"?G/2:0}r.left+=C.x+(q.x==="right"?-K:q.x==="center"?-K/2:0);r.top+=C.y+(q.y==="bottom"?-F:q.y==="center"?-F/2:0);r.adjusted=s.viewport.jquery&&j[0]!==M&&j[0]!==t?{left:H.left(r.left),top:H.top(r.top)}:{left:0,top:0};g.attr("class",function(){return a.attr(this,
"class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(N+"-pos-"+q.abbreviation());P.originalEvent=a.extend({},e);g.trigger(P,[c,r,I.elem]);if(P.isDefaultPrevented())return c;delete r.adjusted;if(!f||!isNaN(r.left,r.top))g.css(r);else if(h()&&a.isFunction(s.effect)){s.effect.call(g,c,r);g.queue(function(J){a(this).css({opacity:"",height:""});a.browser.msie&&this.style&&this.style.removeAttribute("filter");J()})}B=p;return c},redraw:function(){if(!c.rendered||!(a.browser.msie&&a.browser.version<8))return p;
var e=N+"-fluid",f;g.css({width:"auto",height:"auto"}).addClass(e);f={height:g.outerHeight(),width:g.outerWidth()};a.each(["width","height"],function(j,s){var q=parseInt(g.css("max-"+s),10)||0,u=parseInt(g.css("min-"+s),10)||0;f[s]=q+u?Math.min(Math.max(f[s],u),q):f[s]});g.css(f).removeClass(e)},disable:function(e){var f=R;if("boolean"!==typeof e)e=!(g.hasClass(f)||c.cache.disabled);if(c.rendered){g.toggleClass(f,e);a.attr(g[0],"aria-disabled",e)}else c.cache.disabled=!!e;return c},destroy:function(){var e=
d[0],f=a.data(e,V);if(c.rendered){g.remove();a.each(c.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(c.timers.show);clearTimeout(c.timers.hide);m(1,1,1,1);a.removeData(e,"qtip");f&&a.attr(e,"title",f);d.removeAttr("aria-describedby");return d}})}function ca(d,b){var i,k,o,h,l=a(this),w=a(document.body),n=this===document?w:l;k=l.metadata?l.metadata(b.metadata):E;h=b.metadata.type==="html5"&&k?k[b.metadata.name]:E;var y=l.data(b.metadata.name||"qtipopts");try{y=typeof y===
"string"?(new Function("return "+y))():y}catch(z){$("Unable to parse HTML5 attribute data: "+y)}h=a.extend(x,{},a.fn.qtip.defaults,b,typeof y==="object"?W(y):E,W(h||k));k&&a.removeData(this,"metadata");k=h.position;h.id=d;if("boolean"===typeof h.content.text){o=l.attr(h.content.attr);if(h.content.attr!==p&&o)h.content.text=o;else return p}if(k.container===p)k.container=w;if(k.target===p)k.target=n;if(h.show.target===p)h.show.target=n;if(h.hide.target===p)h.hide.target=n;if(h.position.viewport===x)h.position.viewport=
k.container;k.at=new a.fn.qtip.plugins.Corner(k.at);k.my=new a.fn.qtip.plugins.Corner(k.my);if(a.data(this,"qtip"))if(h.overwrite)l.qtip("destroy");else if(h.overwrite===p)return p;if(a.attr(this,"title")){a.data(this,V,a.attr(this,"title"));l.removeAttr("title")}i=new aa(l,h,d,!!o);a.data(this,"qtip",i);l.bind("remove.qtip",function(){i.destroy()});return i}function da(d){var b=this,i=d.elements.tooltip,k=d.options.content.ajax,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;d.checks.ajax=
{"^content.ajax":function(h,l){if(l==="once")b.once();else k&&k.url&&b.load()}};a.extend(b,{init:function(){if(k&&k.url){b.load();i.one("tooltipshow",b.once)}},once:function(){k.once?b.destroy():i.bind("tooltipshow.qtip-ajax",b.load)},load:function(){var h=k.url.indexOf(" "),l=k.url,w;if(h>-1){w=l.substr(h);l=l.substr(0,h)}a.ajax(a.extend({success:function(n){if(w)n=a("<div/>").append(n.replace(o,"")).find(w);d.set("content.text",n)},error:function(n,y,z){d.set("content.text",y+": "+z)},context:d},
k,{url:l}));return b},destroy:function(){i.unbind(".qtip-ajax")}});b.init()}function ea(d,b,i){var k=Math.ceil(b/2),o=Math.ceil(i/2);b={bottomright:[[0,0],[b,i],[b,0]],bottomleft:[[0,0],[b,0],[0,i]],topright:[[0,i],[b,0],[b,i]],topleft:[[0,0],[0,i],[b,i]],topcenter:[[0,i],[k,0],[b,i]],bottomcenter:[[0,0],[b,0],[k,i]],rightcenter:[[0,0],[b,o],[0,i]],leftcenter:[[b,0],[b,i],[0,o]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[d.string()]}function fa(d){function b(m,
c,t){if(l.tip){m=a.extend({},o.corner);c=t.adjusted;var v;if(o.corner.fixed!==x){if(c.left)m.x=m.x==="center"?c.left>0?"left":"right":m.x==="left"?"right":"left";if(c.top)m.y=m.y==="center"?c.top>0?"top":"bottom":m.y==="top"?"bottom":"top";if(m.string()!==n.corner&&(n.top!==c.top||n.left!==c.left))v=o.update(m)}v||(v=o.position(m,0));if(v.right!==T)v.left=v.right;if(v.bottom!==T)v.top=v.bottom;v.option=Math.max(0,h.offset);t.left-=v.left.charAt?v.option:(v.right?-1:1)*v.left;t.top-=v.top.charAt?v.option:
(v.bottom?-1:1)*v.top;n.left=c.left;n.top=c.top;n.corner=m.string()}}function i(m,c,t){c=!c?m[m.precedance]:c;c="border-"+c+"-width";m=parseInt((l.titlebar&&m.y==="top"?l.titlebar:l.content).css(c),10);return(t?m||parseInt(w.css(c),10):m)||0}function k(m){var c=m.precedance==="y",t=y[c?"width":"height"],v=y[c?"height":"width"],B=m.string().indexOf("center")>-1,g=t*(B?0.5:1),e=Math.pow;m=Math.round;var f=Math.sqrt(e(g,2)+e(v,2));g=[A/g*f,A/v*f];g[2]=Math.sqrt(e(g[0],2)-e(A,2));g[3]=Math.sqrt(e(g[1],
2)-e(A,2));B=(f+g[2]+g[3]+(B?0:g[0]))/f;t=[m(B*v),m(B*t)];return{height:t[c?0:1],width:t[c?1:0]}}var o=this,h=d.options.style.tip,l=d.elements,w=l.tooltip,n={top:0,left:0,corner:""},y={width:h.width,height:h.height},z={},A=h.border||0,O=a("<canvas />")[0].getContext;o.corner=E;o.mimic=E;d.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){o.init()||o.destroy();d.reposition()},"^style.tip.(height|width)$":function(){y={width:h.width,height:h.height};o.create();o.update();d.reposition()},
"^content.title.text|style.(classes|widget)$":function(){l.tip&&o.update()}};a.extend(o,{init:function(){var m=o.detectCorner()&&(O||a.browser.msie);if(m){o.create();o.update();w.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",b)}return m},detectCorner:function(){var m=h.corner,c=d.options.position,t=c.at;c=c.my.string?c.my.string():c.my;if(m===p||c===p&&t===p)return p;else if(m===x)o.corner=new a.fn.qtip.plugins.Corner(c);else if(!m.string){o.corner=new a.fn.qtip.plugins.Corner(m);o.corner.fixed=
x}return o.corner.string()!=="centercenter"},detectColours:function(){var m=l.tip.css({backgroundColor:"",border:""}),c=o.corner,t=c[c.precedance],v="border-"+t+"-color";t="border"+t.charAt(0)+t.substr(1)+"Color";var B=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;c=l.titlebar&&(c.y==="top"||c.y==="center"&&m.position().top+y.height/2+h.offset<l.titlebar.outerHeight(1))?l.titlebar:l.content;z.fill=m.css("background-color")||"transparent";z.border=m[0].style[t];if(!z.fill||B.test(z.fill)){z.fill=c.css("background-color");
if(B.test(z.fill))z.fill=w.css("background-color")}if(!z.border||B.test(z.border)){z.border=w.css(v);if(B.test(z.border)||z.border===a(document.body).css("color"))z.border=c.css(v)!==a(d.elements.content).css("color")?c.css(v):"transparent"}a("*",m).add(m).css("background-color","transparent").css("border","0px dashed transparent")},create:function(){var m=y.width,c=y.height;l.tip&&l.tip.remove();l.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:m,height:c}).prependTo(w);if(O)a("<canvas />").appendTo(l.tip)[0].getContext("2d").save();
else{m='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';l.tip.html(A?m+=m:m)}},update:function(m){var c=l.tip,t=c.children(),v=y.width,B=y.height,g=h.mimic,e=Math.round,f,j,s;if(!m)m=o.corner;if(g===p)g=m;else{g=new a.fn.qtip.plugins.Corner(g);g.precedance=m.precedance;if(g.x==="inherit")g.x=m.x;else if(g.y==="inherit")g.y=m.y;else if(g.x===g.y)g[m.precedance]=m[m.precedance]}f=g.precedance;o.detectColours();A=z.border==="transparent"||
z.border==="#123456"?0:h.border===x?i(m,E,x):h.border;j=ea(g,v,B);s=k(m);c.css(s);c=m.precedance==="y"?[e(g.x==="left"?A:g.x==="right"?s.width-v-A:(s.width-v)/2),e(g.y==="top"?s.height-B:0)]:[e(g.x==="left"?s.width-v:0),e(g.y==="top"?A:g.y==="bottom"?s.height-B-A:(s.height-B)/2)];if(O){t.attr(s);t=t[0].getContext("2d");t.restore();t.save();t.clearRect(0,0,3E3,3E3);t.translate(c[0],c[1]);t.beginPath();t.moveTo(j[0][0],j[0][1]);t.lineTo(j[1][0],j[1][1]);t.lineTo(j[2][0],j[2][1]);t.closePath();t.fillStyle=
z.fill;t.strokeStyle=z.border;t.lineWidth=A*2;t.lineJoin="miter";t.miterLimit=100;t.stroke();t.fill()}else{j="m"+j[0][0]+","+j[0][1]+" l"+j[1][0]+","+j[1][1]+" "+j[2][0]+","+j[2][1]+" xe";c[2]=A&&/^(r|b)/i.test(m.string())?1:0;t.css({antialias:""+(g.string().indexOf("center")>-1),left:c[0]-c[2]*Number(f==="x"),top:c[1]-c[2]*Number(f==="y"),width:v+A,height:B+A}).each(function(q){var u=a(this);u.attr({coordsize:v+A+" "+(B+A),path:j,fillcolor:z.fill,filled:!!q,stroked:!!!q}).css({display:A||q?"block":
"none"});!q&&A>0&&u.html()===""&&u.html('<vml:stroke weight="'+A*2+'px" color="'+z.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}return o.position(m,1)},position:function(m,c){var t=l.tip,v={},B=Math.max(0,h.offset),g,e,f;if(h.corner===p||!t)return p;m=m||o.corner;g=m.precedance;e=k(m);f=a.browser.msie&&A&&/^(b|r)/i.test(m.string())?1:0;a.each(g==="y"?[m.x,m.y]:[m.y,m.x],function(j,s){var q,u;if(s==="center"){q=g==="y"?"left":"top";v[q]="50%";
v["margin-"+q]=-Math.round(e[g==="y"?"width":"height"]/2)+B}else{q=i(m,s,x);u=a.browser.mozilla;var C=m.y+(u?"":"-")+m.x;u=(u?"-moz-":a.browser.webkit?"-webkit-":"")+(u?"border-radius-"+C:"border-"+C+"-radius");u=parseInt((l.titlebar&&m.y==="top"?l.titlebar:l.content).css(u),10)||parseInt(w.css(u),10)||0;v[s]=j||!A?i(m,s):B+(u>q?u:0)}});v[m[g]]-=e[g==="x"?"width":"height"]+f;c&&t.css({top:"",bottom:"",left:"",right:"",margin:""}).css(v);return v},destroy:function(){l.tip&&l.tip.remove();w.unbind(".qtip-tip")}});
o.init()}function ga(d){var b=this,i=d.options.show.modal,k=d.elements,o=k.tooltip;d.checks.modal={"^show.modal.(on|blur)$":function(){b.init();k.overlay.toggle(o.is(":visible"))}};a.extend(b,{init:function(){if(i.on){o.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(h,l,w){h=h.type.replace("tooltip","");a.isFunction(i[h])?i[h].call(k.overlay,w,l):b[h](w)});b.create();i.blur===x&&k.overlay.unbind(".qtipmodal"+d.id).bind("click.qtipmodal"+d.id,function(){d.hide.call(d)})}},
create:function(){var h=a("#qtip-overlay"),l;if(h.length)return k.overlay=h;l=k.overlay=a("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none"}}).appendTo(document.body);a(M).bind("resize.qtipmodal",function(){l.css({height:Math.max(a(M).height(),a(document).height()),width:Math.max(a(M).width(),a(document).width())})}).trigger("resize");return l},toggle:function(h){var l=k.overlay,w=d.options.show.modal.effect,n=h?"show":"hide",y;l||(l=b.create());if(!(l.is(":animated")&&
!h)){l.stop(x,p);if(h){y=parseInt(a.css(o[0],"z-index"),10);l.css("z-index",(y||a.fn.qtip.zindex)-1)}if(a.isFunction(w))w.call(l,h);else w===p?l[n]():l.fadeTo(90,h?0.7:0,function(){h||a(this).hide()})}},show:function(){b.toggle(x)},hide:function(){b.toggle(p)},destroy:function(){var h=x;a("*").each(function(){var l=a(this).data("qtip");if(l&&l.id!==d.id&&l.options.show.modal)return h=p});if(h){k.overlay.remove();a(M).unbind(".qtipmodal")}else k.overlay.unbind(".qtipmodal"+d.id);o.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});
b.init()}function ha(d){var b=this,i=d.elements,k=i.tooltip,o=".bgiframe-"+d.id,h="tooltipmove"+o+" tooltipshow"+o;a.extend(b,{init:function(){i.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');i.bgiframe.appendTo(k);k.bind(h,b.adjust)},adjust:function(){var l=d.get("dimensions"),w=d.plugins.tip,n=d.elements.tip,y;y=parseInt(k.css("border-left-width"),10)||
0;y={left:-y,top:-y};if(w&&n){w=w.corner.precedance==="x"?["width","left"]:["height","top"];y[w[1]]-=n[w[0]]()}i.bgiframe.css(y).css(l)},destroy:function(){b.iframe.remove();k.unbind(h)}});b.init()}var x=true,p=false,E=null,N="ui-tooltip",Z="ui-widget",R="ui-state-disabled",X="div.qtip."+N,Y=N+"-focus",ba="-31000px",V="oldtitle";a.fn.qtip=function(d,b,i){var k=String(d).toLowerCase(),o=E,h=k==="disable"?[x]:a.makeArray(arguments).slice(1,10),l=h[h.length-1],w=this[0]?a.data(this[0],"qtip"):E;if(!arguments.length&&
w||k==="api")return w;else if("string"===typeof d){this.each(function(){var n=a.data(this,"qtip");if(!n)return x;if(/option|set/.test(k)&&b)if(a.isPlainObject(b)||i!==T)n.set(b,i);else o=n.get(b);else{if(!n.rendered&&(k==="show"||k==="toggle")){if(l&&l.timeStamp)n.cache.event=l;n.render(1)}else if(k==="enable"){k="disable";h=[p]}n[k]&&n[k].apply(n[k],h)}});return o!==E?o:this}else if("object"===typeof d||!arguments.length){w=W(a.extend(x,{},d));return a.fn.qtip.bind.call(this,w,l)}};a.fn.qtip.bind=
function(d,b){return this.each(function(){function i(y){function z(){n.render(typeof y==="object"||k.show.ready);o.show.unbind(h.show);o.hide.unbind(h.hide)}if(n.cache.disabled)return p;n.cache.event=a.extend({},y);if(k.show.delay>0){clearTimeout(n.timers.show);n.timers.show=setTimeout(z,k.show.delay);h.show!==h.hide&&o.hide.bind(h.hide,function(){clearTimeout(n.timers.show)})}else z()}var k,o,h,l=!d.id||d.id===p||d.id.length<1||a("#"+N+"-"+d.id).length?a.fn.qtip.nextid++:d.id,w=".qtip-"+l+"-create",
n=ca.call(this,l,d);if(n===p)return x;k=n.options;a.each(a.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(n)});o={show:k.show.target,hide:k.hide.target};h={show:String(k.show.event).replace(" ",w+" ")+w,hide:String(k.hide.event).replace(" ",w+" ")+w};o.show.bind(h.show,i);if(k.show.ready||k.prerender)i(b)})};a.each({attr:function(d,b){if(this.length){var i=this[0],k=a.data(i,"qtip");if(d==="title")if(arguments.length<2)return a.data(i,V);else if(typeof k==="object"){k&&k.rendered&&
k.options.content.attr==="title"&&k.cache.attr&&k.set("content.text",b);a.fn.attr_replacedByqTip.apply(this,arguments);a.data(i,V,a.attr(i,"title"));return this.removeAttr("title")}}},clone:function(){var d=a([]),b;a("*",this).add(this).each(function(){var i=a.data(this,V);if(i){a.attr(this,"title",i);d=d.add(this)}});b=a.fn.clone_replacedByqTip.apply(this,arguments);d.removeAttr("title");return b},remove:a.ui?E:function(d,b){a(this).each(function(){if(!b)if(!d||a.filter(d,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}},
function(d,b){if(!b)return x;var i=a.fn[d+"_replacedByqTip"]=a.fn[d];a.fn[d]=function(){return b.apply(this,arguments)||i.apply(this,arguments)}});a(M).load(function(){var d=document,b=d.body;a(d).bind("mousemove.qtip",function(i){a.fn.qtip.mouse={pageX:i.pageX,pageY:i.pageY}});d.activeElement===T&&d.addEventListener("focus",function(i){if(i&&i.target)d.activeElement=i.target===d?b:i.target},true)});a.fn.qtip.version="2.0.0pre";a.fn.qtip.nextid=0;a.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");
a.fn.qtip.zindex=15E3;a.fn.qtip.plugins={Corner:function(d){d=String(d).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(d.match(/left|right/i)||d.match(/center/)||["inherit"])[0].toLowerCase();this.y=(d.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=d.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var b=this.x.substr(0,1),i=this.y.substr(0,1);
return b===i?b:b==="c"||b!=="c"&&i!=="c"?i+b:b+i}},offset:function(d,b){var i=d.offset(),k=b,o=0,h=!a.fn.qtip.plugins.iOS,l;if(k){do if(k[0]===document.body)break;else if(k.css("position")!=="static"){l=k.position();i.left-=l.left;i.top-=l.top;o++}while(k=k.offsetParent());if(!h||o>1){l=h?1:-1;i.left+=l*b.scrollLeft();i.top+=l*b.scrollTop()}}return i},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};a.fn.qtip.defaults={prerender:p,
id:p,overwrite:x,content:{text:x,attr:"title",title:{text:p,button:p}},position:{my:"top left",at:"bottom right",target:p,container:p,viewport:p,adjust:{x:0,y:0,mouse:x,resize:x},effect:x},show:{target:p,event:"mouseenter",effect:x,delay:90,solo:p,ready:p},hide:{target:p,event:"mouseleave",effect:x,delay:0,fixed:p,inactive:p},style:{classes:"",widget:p},events:{render:E,move:E,show:E,hide:E,toggle:E,focus:E,blur:E}};a.fn.qtip.plugins.ajax=function(d){var b=d.plugins.ajax;return"object"===typeof b?
b:d.plugins.ajax=new da(d)};a.fn.qtip.plugins.ajax.initialize="render";a.fn.qtip.plugins.ajax.sanitize=function(d){var b=d.content;if(b&&"ajax"in b){b=b.ajax;if(typeof b!=="object")b=d.content.ajax={url:b};if("boolean"!==typeof b.once&&b.once)b.once=!!b.once}};a.extend(x,a.fn.qtip.defaults,{content:{ajax:{once:x}}});a.fn.qtip.plugins.tip=function(d){var b=d.plugins.tip;return"object"===typeof b?b:d.plugins.tip=new fa(d)};a.fn.qtip.plugins.tip.initialize="render";a.fn.qtip.plugins.tip.sanitize=function(d){var b=
d.style;if(b&&"tip"in b){b=d.style.tip;if(typeof b!=="object")d.style.tip={corner:b};if(!/string|boolean/i.test(typeof b.corner))b.corner=x;typeof b.width!=="number"&&delete b.width;typeof b.height!=="number"&&delete b.height;typeof b.border!=="number"&&b.border!==x&&delete b.border;typeof b.offset!=="number"&&delete b.offset}};a.extend(x,a.fn.qtip.defaults,{style:{tip:{corner:x,mimic:p,width:6,height:6,border:x,offset:0}}});a.fn.qtip.plugins.imagemap=function(d,b){function i(A,O){for(var m=0,c=1,
t=1,v=0,B=0,g=A.width,e=A.height;g>0&&e>0&&c>0&&t>0;){g=Math.floor(g/2);e=Math.floor(e/2);if(b.x==="left")c=g;else if(b.x==="right")c=A.width-g;else c+=Math.floor(g/2);if(b.y==="top")t=e;else if(b.y==="bottom")t=A.height-e;else t+=Math.floor(e/2);for(m=O.length;m--;){if(O.length<2)break;v=O[m][0]-A.offset.left;B=O[m][1]-A.offset.top;if(b.x==="left"&&v>=c||b.x==="right"&&v<=c||b.x==="center"&&(v<c||v>A.width-c)||b.y==="top"&&B>=t||b.y==="bottom"&&B<=t||b.y==="center"&&(B<t||B>A.height-t))O.splice(m,
1)}}return{left:O[0][0],top:O[0][1]}}var k=d.attr("shape").toLowerCase(),o=d.attr("coords").split(","),h=[],l=a('img[usemap="#'+d.parent("map").attr("name")+'"]'),w=l.offset(),n={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},y=0,z=0;w.left+=Math.ceil((l.outerWidth()-l.width())/2);w.top+=Math.ceil((l.outerHeight()-l.height())/2);if(k==="poly")for(y=o.length;y--;){z=[parseInt(o[--y],10),parseInt(o[y+1],10)];if(z[0]>n.offset.right)n.offset.right=z[0];if(z[0]<n.offset.left)n.offset.left=
z[0];if(z[1]>n.offset.bottom)n.offset.bottom=z[1];if(z[1]<n.offset.top)n.offset.top=z[1];h.push(z)}else h=a.map(o,function(A){return parseInt(A,10)});switch(k){case "rect":n={width:Math.abs(h[2]-h[0]),height:Math.abs(h[3]-h[1]),offset:{left:h[0],top:h[1]}};break;case "circle":n={width:h[2]+2,height:h[2]+2,offset:{left:h[0],top:h[1]}};break;case "poly":a.extend(n,{width:Math.abs(n.offset.right-n.offset.left),height:Math.abs(n.offset.bottom-n.offset.top)});n.offset=b.string()==="centercenter"?{left:n.offset.left+
n.width/2,top:n.offset.top+n.height/2}:i(n,h.slice());n.width=n.height=0;break}n.offset.left+=w.left;n.offset.top+=w.top;return n};a.fn.qtip.plugins.svg=function(d){var b=a(document),i=d[0];d={width:0,height:0,offset:{top:1E10,left:1E10}};var k,o,h;if(i.getBBox&&i.parentNode){k=i.getBBox();o=i.getScreenCTM();i=i.farthestViewportElement||i;if(!i.createSVGPoint)return d;i=i.createSVGPoint();i.x=k.x;i.y=k.y;h=i.matrixTransform(o);d.offset.left=h.x;d.offset.top=h.y;i.x+=k.width;i.y+=k.height;h=i.matrixTransform(o);
d.width=h.x-d.offset.left;d.height=h.y-d.offset.top;d.offset.left+=b.scrollLeft();d.offset.top+=b.scrollTop()}return d};a.fn.qtip.plugins.modal=function(d){var b=d.plugins.modal;return"object"===typeof b?b:d.plugins.modal=new ga(d)};a.fn.qtip.plugins.modal.initialize="render";a.fn.qtip.plugins.modal.sanitize=function(d){if(d.show)if(typeof d.show.modal!=="object")d.show.modal={on:!!d.show.modal};else if(typeof d.show.modal.on==="undefined")d.show.modal.on=x};a.extend(x,a.fn.qtip.defaults,{show:{modal:{on:p,
effect:x,blur:x}}});a.fn.qtip.plugins.bgiframe=function(d){if(!(a.browser.msie&&/^6\.[0-9]/.test(a.browser.version)&&a("select, object").length))return p;var b=d.plugins.bgiframe;if(b)return b;else{d.plugins.bgiframe=new ha(d);return d.plugins.bgiframe}};a.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
