/*
* qTip - The jQuery tooltip plugin
* http://craigsworks.com/projects/qtip/
*
* Version: 2.0.0pre
* Copyright 2009 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPL Version 2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Sat Sep 18 15:35:10 2010 +0100
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null;
(function(a,D,F){function N(b,d){var h,i=a();if(!b)return FALSE;try{if("metadata"in b&&"object"!==typeof b.metadata)b.metadata={type:b.metadata};if("content"in b){if("object"!==typeof b.content||b.content.jquery)b.content={text:b.content};h=b.content.text||FALSE;if(!a.isFunction(h)&&(!h&&!h.attr||h.length<1||"object"===typeof h&&!h.jquery))h=b.content.text=FALSE;if("title"in b.content&&"object"!==typeof b.content.title)b.content.title={text:b.content.title}}if("position"in b){if("object"!==typeof b.position)b.position=
{my:b.position,at:b.position};if("object"!==typeof b.position.adjust)b.position.adjust={};if("undefined"!==typeof b.position.adjust.screen)b.position.adjust.screen=!!b.position.adjust.screen}if("show"in b){if("object"!==typeof b.show)b.show={event:b.show};if("object"!==typeof b.show)b.show=b.show.jquery?{target:b.show}:{event:b.show}}if("hide"in b)if("object"!==typeof b.hide)b.hide=b.hide.jquery?{target:b.hide}:{event:b.hide};if("style"in b&&"object"!==typeof b.style)b.style={classes:b.style}}catch(q){}if(a.isFunction(h)){b.content.text=
[];d.each(function(){var l=h.call(this);if(l){b.content.text.push(l);i=i.add(a(this))}})}else i=d;a.each(a.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(b)});return i}function Q(b,d,h){function i(f){var c,g;f=f.split(".");c=d[f[0]];for(g=1;g<f.length;g+=1)if(typeof c[f[g]]==="object"&&!c[f[g]].jquery)c=c[f[g]];else break;return[c,f[g]]}function q(f){var c=e.elements.tooltip,g=u+"-accessible",k=!c.is(":visible")?TRUE:FALSE,j=FALSE;if(!e.rendered)return FALSE;k&&c.addClass(g);switch(f){case "dimensions":j=
{height:c.outerHeight(),width:c.outerWidth()};break;case "position":j=c.offset();break}k&&c.removeClass(g);return j}function l(){var f=e.elements;if(f.title){f.titlebar.remove();f.titlebar=f.title=f.button=NULL;f.tooltip.removeAttr("aria-labelledby")}}function s(){var f=e.elements,c=d.content.title.button;f.titlebar&&l();f.titlebar=a("<div />",{"class":u+"-titlebar "+(d.style.widget?"ui-widget-header":"")}).append(f.title=a("<div />",{id:u+"-"+h+"-title","class":u+"-title",html:d.content.title.text})).prependTo(f.wrapper);
if(c){f.button=c.jquery?c:"string"===typeof c?a("<a />",{html:c}):a("<a />",{"class":"ui-state-default",text:"Close tooltip",title:"Close tooltip",css:{"text-indent":"-10000em"}}).prepend(a("<span />",{"class":"ui-icon ui-icon-close"}));f.button.prependTo(f.titlebar).attr("role","button").addClass(u+"-"+(c===TRUE?"close":"button")).hover(function(g){a(this).toggleClass("ui-state-hover",g.type==="mouseenter")}).click(function(){f.tooltip.hasClass("ui-state-disabled")||e.hide();return FALSE}).bind("mousedown keydown mouseup keyup mouseout",
function(g){a(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(g.type))})}}function n(f){if(!e.rendered||!f)return FALSE;if(a.isFunction(f))f=f.call(b);f.jquery&&f.length>0?e.elements.content.append(f.css({display:"block"})):e.elements.content.html(f);f=void 0;var c=e.elements.tooltip,g,k;if(e.rendered&&a.browser.msie&&parseInt(a.browser.version.charAt(0),10)<9){c.css({width:"auto",maxWidth:"none"});f=q("dimensions").width;c.css({maxWidth:""});g=parseInt(c.css("max-width"),10)||0;
k=parseInt(c.css("min-width"),10)||0;f=Math.min(Math.max(f,k),g);c.width(f)}e.rendered===TRUE&&e.reposition(e.cache.event);return e}function x(f,c,g,k){function j(y){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;o.show.trigger("qtip-"+h+"-inactive");clearTimeout(e.timers.show);clearTimeout(e.timers.hide);var A=function(){e.show(d.position.target!=="mouse"?y:NULL)};if(d.show.delay>0)e.timers.show=setTimeout(A,d.show.delay);else A()}function m(y){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;
var A=a(y.relatedTarget).parents(B)[0]==o.tooltip[0];clearTimeout(e.timers.show);clearTimeout(e.timers.hide);if(d.hide.fixed&&(d.position.target==="mouse"&&A||/mouse(out|leave|move)/.test(y.type)&&A)){y.stopPropagation();y.preventDefault();return FALSE}o.tooltip.stop(TRUE);if(d.hide.delay>0)e.timers.hide=setTimeout(function(){e.hide(y)},d.hide.delay);else e.hide(y)}function w(y){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;clearTimeout(e.timers.inactive);e.timers.inactive=setTimeout(function(){e.hide(y)},
d.hide.inactive)}function t(y){e.elements.tooltip.is(":visible")&&e.reposition(y)}var v=".qtip-"+h,o={show:d.show.target,hide:d.hide.target,tooltip:e.elements.tooltip},z={show:String(d.show.event).split(" "),hide:String(d.hide.event).split(" ")},r=a.browser.msie&&/^6\.[0-9]/.test(a.browser.version);b.bind("remove.qtip",function(){e.destroy()});if(g&&d.hide.fixed){o.hide=o.hide.add(o.tooltip);o.tooltip.bind("mouseover"+v,function(){o.tooltip.hasClass("ui-state-disabled")||clearTimeout(e.timers.hide)})}if(c){if("number"===
typeof d.hide.inactive){o.show.bind("qtip-"+h+"-inactive",w);a.each(a.fn.qtip.inactiveEvents,function(y,A){o.hide.add(e.elements.tooltip).bind(A+v+"-inactive",w)})}a.each(z.hide,function(y,A){var C=a.inArray(A,z.show);if(C>-1&&a(o.hide).add(o.show).length===a(o.hide).length||A==="unfocus"){o.show.bind(A+v,function(K){o.tooltip.is(":visible")?m(K):j(K)});delete z.show[C]}else o.hide.bind(A+v,m)})}if(f){a.each(z.show,function(y,A){o.show.bind(A+v,j)});o.tooltip.bind("mouseover"+v,function(){e.focus()})}if(k){if(d.position.adjust.resize||
d.position.adjust.screen)a(D).bind("resize"+v,t);if(d.position.adjust.screen||r&&o.tooltip.css("position")==="fixed")a(document).bind("scroll"+v,t);/unfocus/i.test(d.hide.event)&&a(document).bind("mousedown"+v,function(y){var A=e.elements.tooltip;a(y.target).parents(B).length===0&&a(y.target).add(b).length>1&&A.is(":visible")&&!A.hasClass("ui-state-disabled")&&e.hide()});d.position.target==="mouse"&&a(document).bind("mousemove"+v,function(y){if(d.position.adjust.mouse&&!o.tooltip.hasClass("ui-state-disabled")&&
o.tooltip.is(":visible"))e.reposition(y||a.fn.qtip.mouse)})}}function p(f,c,g,k){k=parseInt(k,10)!==0;var j=".qtip-"+h,m={show:f?d.show.target:a("<div/>"),hide:c?d.hide.target:a("<div/>"),tooltip:g?e.elements.tooltip:a("<div/>")};c={show:String(d.show.event).split(" "),hide:String(d.hide.event).split(" ")};if(e.rendered){a.each(c.show,function(w,t){m.show.unbind(t+j)});m.show.unbind("mousemove"+j).unbind("mouseout"+j).unbind("qtip-"+h+"-inactive");a.each(c.hide,function(w,t){m.hide.add(m.tooltip).unbind(t+
j)});a.each(a.fn.qtip.inactiveEvents,function(w,t){m.hide.add(g?e.elements.content:NULL).unbind(t+j+"-inactive")});m.hide.unbind("mouseout"+j);m.tooltip.unbind("mouseover"+j);if(k){a(D).unbind("resize"+j);a(document).unbind("mousedown"+j+" mousemove"+j)}}else f&&m.show.unbind(c.show+j+"-create")}var e=this,u="ui-tooltip",B=".qtip."+u;e.id=h;e.rendered=FALSE;e.elements={target:b};e.cache={event:{},target:NULL,disabled:FALSE};e.timers={};e.options=d;e.plugins={};a.extend(e,{render:function(f){var c=
e.elements;if(e.rendered)return FALSE;e.rendered=f?-2:-1;c.tooltip=a("<div/>").attr({id:u+"-"+h,role:"tooltip","class":u+" qtip ui-helper-reset "+d.style.classes}).css("z-index",a.fn.qtip.zindex+a(B).length).toggleClass("ui-widget",d.style.widget).toggleClass("ui-state-disabled",e.cache.disabled).data("qtip",e).appendTo(d.position.container);c.wrapper=a("<div />",{"class":u+"-wrapper"}).appendTo(c.tooltip);c.content=a("<div />",{"class":u+"-content"+(d.style.widget?"ui-widget-content":""),id:u+"-"+
h+"-content"}).appendTo(c.wrapper);n(d.content.text);d.content.title.text&&s();a.each(a.fn.qtip.plugins,function(){this.initialize==="render"&&this(e)});e.rendered=TRUE;if(d.show.ready||f){c.tooltip.hide();e.show(e.cache.event)}x(1,1,1,1);a.each(d.events,function(g,k){c.tooltip.bind("tooltip"+g,k)});c.tooltip.trigger("tooltiprender",[e.hash()]);return e},get:function(f){switch(f.toLowerCase()){case "offset":f=q("position");break;case "dimensions":f=q("dimensions");break;default:f=i(f.toLowerCase());
f=f[0].precedance?f[0].string():f[0].jquery?f[0]:f[0][f[1]];break}return f},set:function(f,c){var g=i(f.toLowerCase()),k,j,m,w={builtin:{"^content.text":function(){n(c)},"^content.title.text":function(){if(e.rendered)if(!e.elements.title&&c){s();e.reposition()}else c?e.elements.title.html(c):l()},"^position.container$":function(){if(e.rendered===TRUE){e.elements.tooltip.appendTo(c);e.reposition()}},"^position.(my|at)$":function(){var t=/my$/i.test(f)?"my":"at";if("string"===typeof c)d.position[t]=
new a.fn.qtip.plugins.Corner(c)},"^position.(my|at|adjust|target)":function(){e.rendered&&e.reposition()},"^(show|hide).(event|target|fixed)":function(t,v,o,z){var r=f.search(/fixed/i)>-1?[0,[0,1,1,1]]:f.search(/hide/i)<0?["show",[1,0,0,0]]:["hide",[0,1,0,0]];if(r[0])t[v]=z;p.apply(e,r[1]);if(r[0])t[v]=o;x.apply(e,r[1])}}};a.each(e.plugins,function(t){if("object"===typeof this.checks)w[t]=this.checks});k=g[0][g[1]];g[0][g[1]]=c;N(d,b);for(j in w)for(m in w[j])RegExp(m,"i").test(f)&&w[j][m].call(e,
g[0],g[1],c,k);return e},toggle:function(f,c){function g(){var v=f?"attr":"removeAttr",o=/^1|0$/.test(a(this).css("opacity"));e.elements.title&&b[v]("aria-labelledby",u+"-"+h+"-title");b[v]("aria-describedby",u+"-"+h+"-content");if(f){if(a.browser.msie&&a(this).get(0).style&&o){t=a(this).get(0).style;t.removeAttribute("filter");t.removeAttribute("opacity")}}else o&&a(this).hide()}if(e.rendered===FALSE)return FALSE;var k=f?"show":"hide",j=e.elements.tooltip,m=d[k],w=j.is(":visible"),t;if((typeof f).search("boolean|number"))f=
!j.is(":visible");if(!w&&!f||j.is(":animated"))return e;if(c){if(e.cache.event&&/over|enter/.test(c.type)&&/out|leave/.test(e.cache.event.type)&&a(c.target).add(d.show.target).length<2&&a(c.relatedTarget).parents(B).length>0)return e;e.cache.event=a.extend({},c)}w=a.Event("tooltip"+k);w.originalEvent=a.extend({},c);j.trigger(w,[e.hash(),90]);if(w.isDefaultPrevented())return e;if(f){e.focus();e.reposition(c);m.solo&&a(B).qtip("hide")}else clearTimeout(e.timers.show);j.attr("aria-hidden",Boolean(!f));
j.stop(TRUE,FALSE);if(a.isFunction(m.effect)){m.effect.call(j);j.queue(function(){g.call(this);a(this).dequeue()})}else if(m.effect===FALSE){j[k]();g.call(j)}else j.fadeTo(90,f?1:0,g);f&&m.target.trigger("qtip-"+h+"-inactive");return e},show:function(f){e.toggle(TRUE,f)},hide:function(f){e.toggle(FALSE,f)},focus:function(f){if(!e.rendered)return FALSE;var c=e.elements.tooltip,g=a(B),k=parseInt(c.css("z-index"),10),j=a.fn.qtip.zindex+g.length,m=u+"-focus",w=a.extend({},f);if(!c.hasClass(m)&&k!==j){g.each(function(){var t=
a(this).qtip(),v=a.Event("tooltipblur"),o,z;if(!t||t.rendered===FALSE)return TRUE;o=t.elements.tooltip;z=parseInt(o.css("z-index"),10);isNaN(z)||o.css({zIndex:z-1});o.removeClass(m);v.originalEvent=w;o.trigger(v,[t,j])});f=a.Event("tooltipfocus");f.originalEvent=w;c.trigger(f,[e.hash(),j]);f.isDefaultPrevented()||c.css({zIndex:j}).addClass(m)}return e},reposition:function(f){if(e.rendered===FALSE)return FALSE;var c=d.position.target,g=e.elements.tooltip,k=d.position,j=k.my,m=k.at,w=e.elements.tooltip.width(),
t=e.elements.tooltip.height(),v=a(k.container)[0],o=0,z=0,r={left:0,top:0},y=a.Event("tooltipmove"),A=g.css("position")==="fixed",C=a(D),K={left:function(E){var H=c==="mouse"?f.pageX:c.offset().left,I=C.scrollLeft(),G=C.width(),L=m.x==="left"?o:m.x==="right"?-o:o/2,J=j.x!==m.x&&m.x!=="center"?o:0,O=L+(j.x==="left"?-w:j.x==="right"?w:w/2)+-2*k.adjust.x;G=E+w-G-I;if(I-E>0&&!(E>=H&&E<H+o))r.left+=O-L+J;else if(G>0&&E+w>H)r.left+=(j.x==="center"?-1:1)*(O-L-J);return r.left-E},top:function(E){var H=C.scrollTop(),
I=C.height(),G=m.y==="top"?z:m.y==="bottom"?-z:0,L=j.y!==m.y&&m.y!=="center"?z:0,J=G+(j.y==="top"?-t:j.y==="bottom"?t:-t/2)+-2*k.adjust.y;I=E+t-I-H;if(H-E>0)r.top+=j.y==="center"?-J+G:J;else if(I>0)r.top+=J-G-L;return r.top-E}};if(c==="mouse"){m={x:"left",y:"top"};f=a.extend({},a.fn.qtip.mouse);r={top:f.pageY,left:f.pageX}}else{if(c==="event")c=f&&f.target&&f.type!=="scroll"&&f.type!=="resize"?e.cache.target=a(f.target):e.cache.target;if(c[0]===document||c[0]===D){o=c.width();z=c.height();if(c[0]===
D)r={top:A?0:C.scrollTop(),left:A?0:C.scrollLeft()}}else if(c.is("area")&&a.fn.qtip.plugins.imagemap){r=a.fn.qtip.plugins.imagemap(c,m);o=r.width;z=r.height;r=r.offset}else{o=c.outerWidth();z=c.outerHeight();r=c.offset();if(k.adjust.offset){do{r.left-=v.offsetLeft-v.scrollLeft;r.top-=v.offsetTop-v.scrollTop}while(v=v.offsetParent)}}r.left+=m.x==="right"?o:m.x==="center"?o/2:0;r.top+=m.y==="bottom"?z:m.y==="center"?z/2:0}r.left+=k.adjust.x+(j.x==="right"?-w:j.x==="center"?-w/2:0);r.top+=k.adjust.y+
(j.y==="bottom"?-t:j.y==="center"?-t/2:0);r.adjusted=k.adjust.screen&&c[0]!==D&&c[0]!==document.body?{left:K.left(r.left),top:K.top(r.top)}:{left:0,top:0};if(k.container[0]==document.body){if(r.top+C.scrollTop()<1)r.top=0;if(r.left+C.scrollLeft()<1)r.left=0}g.attr("class",function(){return a(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(u+"-pos-"+j.abbreviation());y.originalEvent=a.extend({},f);g.trigger(y,[e.hash(),r]);if(y.isDefaultPrevented())return e;delete r.adjust;if(g.is(":visible")&&
a.isFunction(k.adjust.effect)){k.adjust.effect.call(g,r);g.queue(function(){a(this).css({opacity:"",height:""});a.browser.msie&&a(this).get(0).style&&a(this).get(0).style.removeAttribute("filter");a(this).dequeue()})}else isNaN(r.left,r.top)||g.css(r);return e},disable:function(f){var c=e.elements.tooltip;if(e.rendered)c.toggleClass("ui-state-disabled",f);else e.cache.disabled=!!f;return e},destroy:function(){var f=e.elements,c=f.target.data("oldtitle");e.rendered&&a.each(e.plugins,function(){this.initialize===
"render"&&this.destroy()});p(1,1,1,1);b.removeData("qtip");e.rendered&&f.tooltip.remove();c&&b.attr("title",c);b.removeAttr("aria-describedby");return b},hash:function(){var f=a.extend({},e);delete f.cache;delete f.timers;delete f.options;delete f.plugins;delete f.render;delete f.hash;return f}})}function R(b,d){var h;h=a(this).metadata?a(this).metadata(d.metadata):{};h=a.extend(TRUE,{},d,h);var i=h.position,q=a(this)[0]===document?a(document.body):a(this);if("boolean"===typeof h.content.text)if(h.content.attr!==
FALSE&&a(this).attr(h.content.attr))h.content.text=a(this).attr(h.content.attr);else return FALSE;if(i.container===FALSE)i.container=a(document.body);if(i.target===FALSE)i.target=q;if(h.show.target===FALSE)h.show.target=q;if(h.hide.target===FALSE)h.hide.target=q;i.at=new a.fn.qtip.plugins.Corner(i.at);i.my=new a.fn.qtip.plugins.Corner(i.my);if(a(this).data("qtip"))if(h.overwrite)a(this).qtip("destroy");else if(h.overwrite===FALSE)return FALSE;h=new Q(a(this),h,b);a(this).data("qtip",h);return h}function S(b){var d=
this;d.checks={"^content.ajax":function(){this.plugins.ajax.load(this.options.content.ajax)}};a.extend(d,{init:function(){var h=b.options.content.ajax;b.elements.tooltip.bind("tooltiprender.ajax",function(){d.load(h);b.elements.tooltip.bind("tooltipshow.ajax",function(){h.once===FALSE&&b.rendered===TRUE&&d.load(h)})})},load:function(h){a.ajax(a.extend(TRUE,{},h,{success:function(i,q){if(a.isFunction(h.success))if(h.success.call(b.hash(),i,q)===FALSE)return;b.set("content.text",i);M.remove()},error:function(i,
q,l){var s=q||l;if(a.isFunction(h.error)){i=h.error.call(b.hash(),i,q,l);if(i===FALSE)return}b.set("content.text",s)}}));return d},destroy:function(){b.elements.tooltip.unbind("tooltipshow.ajax")}});d.init()}function P(b,d,h){var i=Math.floor(d/2),q=Math.floor(h/2);d={bottomright:[[0,0],[d,h],[d,0]],bottomleft:[[0,0],[d,0],[0,h]],topright:[[0,h],[d,0],[d,h]],topleft:[[0,0],[0,h],[d,h]],topcenter:[[0,h],[i,0],[d,h]],bottomcenter:[[0,0],[d,0],[i,h]],rightcenter:[[0,0],[d,q],[0,h]],leftcenter:[[d,0],
[d,h],[0,q]]};d.lefttop=d.bottomright;d.righttop=d.bottomleft;d.leftbottom=d.topright;d.rightbottom=d.topleft;return d[b]}function T(b){function d(c){var g=l.tip,k=["left","right"],j={left:0,right:0,top:0,bottom:0},m=0;if(q.corner===FALSE||!g)return FALSE;c=c||i.corner;g.css({top:"",bottom:"",left:"",right:"",margin:""});k[c.precedance==="y"?"push":"unshift"]("top","bottom");if(a.browser.msie)j={top:c.precedance==="y"?0:0,left:0,bottom:c.precedance==="y"?0:0,right:0};switch(c[c.precedance==="y"?"x":
"y"]){case "center":g.css(k[0],"50%").css("margin-"+k[0],-(p[c.precedance==="y"?"width":"height"]/2));break;case k[0]:g.css(k[0],j[k[0]]+B);break;case k[1]:g.css(k[1],j[k[1]]+B);break}m=p[c.precedance==="x"?"width":"height"];if(u){s.toggleClass("ui-tooltip-accessible",!s.is(":visible"));m-=parseInt(n.css("border-"+c[c.precedance]+"-width"),10)||0;s.removeClass("ui-tooltip-accessible")}g.css(c[c.precedance],-1*j[c[c.precedance]]-m)}function h(c,g,k){if(l.tip){c=a.extend({},i.corner);g=i.mimic.adjust?
a.extend({},i.mimic):NULL;var j=c.precedance==="y"?["y","top","left","height"]:["x","left","top","width"],m=k.adjusted,w=parseInt(n.css("border-"+c[j[0]]+"-width"),10)||0;a.each([c,g],function(){if(m.left)this.x=this.x==="center"?m.left>0?"left":"right":this.x==="left"?"right":"left";if(m.top)this.y=this.y==="center"?m.top>0?"top":"bottom":this.y==="top"?"bottom":"top"});k[j[1]]+=(c[j[0]]===j[1]?1:-1)*(p[j[3]]-w);k[j[2]]-=B;if(c.string()!==x.corner.string()&&(x.top!==m.top||x.left!==m.left))i.update(c,
g);x.left=m.left;x.top=m.top;x.corner=c}}var i=this,q=b.options.style.tip,l=b.elements,s=l.tooltip,n=l.wrapper,x={top:0,left:0,corner:{string:function(){}}},p={width:q.width,height:q.height},e={},u=q.border||0,B=q.adjust||0,f=q.method||FALSE;i.corner=NULL;i.mimic=NULL;i.checks={"^position.my|style.tip.(corner|mimic|method|border)":function(){u=q.border;if(i.detectCorner()){i.create();i.detectColours();i.update()}else i.tip.remove();this.get("position.target")!=="mouse"&&this.reposition()},"^style.tip.(height|width)":function(){p=
{width:q.width,height:q.height};i.create();i.update();b.reposition()}};a.extend(i,{init:function(){if(f===TRUE)f=a("<canvas />")[0].getContext?"canvas":a.browser.msie&&(i.mimic&&/center/i.test(i.mimic.string())||p.height!==p.width)?"vml":"polygon";else if(f==="canvas")f=a.browser.msie?"vml":!a("<canvas />")[0].getContext?"polygon":"canvas";else if(f==="polygon")f=a.browser.msie&&/center/i.test(i.mimic.string())?"vml":f;if(i.detectCorner()){i.create();i.detectColours();i.update();s.bind("tooltipmove.tip",
h)}return i},detectCorner:function(){var c=q.corner,g=q.mimic||c,k=b.options.position.at,j=b.options.position.my;if(j.string)j=j.string();if(c===FALSE||j===FALSE&&k===FALSE)return FALSE;else{if(c===TRUE)i.corner=new a.fn.qtip.plugins.Corner(j);else if(!c.string)i.corner=new a.fn.qtip.plugins.Corner(c);if(g===TRUE)i.mimic=new a.fn.qtip.plugins.Corner(j);else if(!g.string){i.mimic=new a.fn.qtip.plugins.Corner(g);i.mimic.precedance=i.corner.precedance}}return i.corner.string()!=="centercenter"},detectColours:function(){var c=
l.tip,g=i.mimic[i.mimic.precedance],k="border-"+g+"-color";e.fill=c.css("background-color","").css("border","").css("background-color")||"transparent";e.border=c.get(0).style?c.get(0).style["border"+g.charAt(0)+g.substr(1)+"Color"]:c.css(k)||"transparent";if(/rgba?\(0, 0, 0(, 0)?\)|transparent/i.test(e.fill))e.fill=n.css(u?"background-color":k);if(!e.border||/rgba?\(0, 0, 0(, 0)?\)|transparent/i.test(e.border))e.border=n.css(k)||e.fill;a("*",c).add(c).css("background-color","transparent").css("border",
0)},create:function(){var c=p.width,g=p.height;l.tip&&l.tip.remove();l.tip=a('<div class="ui-tooltip-tip" />').toggleClass("ui-widget-content",b.options.style.widget).css(p).prependTo(s);switch(f){case "canvas":l.tip.append('<canvas height="'+g+'" width="'+c+'" />');break;case "vml":l.tip.html('<vml:shape coordorigin="0 0" coordsize="'+c+" "+g+'" stroked="'+!!u+'"  style="behavior:url(#default#VML); display:inline-block; antialias:TRUE; position: absolute;  top:0; left:0; width:'+c+"px; height:"+
g+"px; vertical-align:"+i.corner.y+';"><vml:stroke weight="'+(u-2)+'px" joinstyle="miter" miterlimit="10"  style="behavior:url(#default#VML); display:inline-block;" /></vml:shape>');break;case "polygon":l.tip.append('<div class="ui-tooltip-tip-inner" />').append(u?'<div class="ui-tooltip-tip-border" />':"");break}return i},update:function(c,g){var k=l.tip,j=p.width,m=p.height,w=u>0?0:1,t=Math.ceil(u/2+0.5),v;g||(g=c?c:i.mimic);if(!c)c=i.corner;if(g.x==="false")g.x=c.x;if(g.y==="false")g.y=c.y;k=k.children();
switch(f){case "canvas":k=k.get(0).getContext("2d");k.restore();k.clearRect(0,0,3E3,3E3);for(v=P(g.string(),j,m);w<2;w++){if(w){k.save();k.translate(Math.floor((g.x==="left"?1:g.x==="right"?-1:0)*(u+1)*(g.precedance==="y"?0.5:1)),Math.floor((g.y==="top"?1:g.y==="bottom"?-1:0)*(u+1)*(g.precedance==="x"?0.5:1)))}k.beginPath();k.moveTo(v[0][0],v[0][1]);k.lineTo(v[1][0],v[1][1]);k.lineTo(v[2][0],v[2][1]);k.closePath();k.fillStyle=e[w?"fill":"border"];k.fill()}break;case "vml":v=P(g.string(),j,m);w="m"+
v[0][0]+","+v[0][1]+" l"+v[1][0]+","+v[1][1]+" "+v[2][0]+","+v[2][1]+" xe";k.attr({path:w,fillcolor:e.fill});if(u){k.children().attr("color",e.border);if(g.precedance==="y"){k.css("top",(g.y==="top"?1:-1)*(u-2));k.css("left",g.x==="left"?1:-2)}else{k.css("left",(g.x==="left"?1:-1)*(u-2));k.css("top",g.y==="top"?1:-2)}}break;case "polygon":if(g.precedance==="y"){w=j>m?1.5:j<m?5:2.2;t=[g.x==="left"?t:g.x==="right"?-t:0,Math.floor(w*t*(g.y==="bottom"?-1:1)*(g.x==="center"?0.8:1))]}else{w=j<m?1.5:j>m?
5:2.2;t=[Math.floor(w*t*(g.x==="right"?-1:1)*(g.y==="center"?0.9:1)),g.y==="top"?t:g.y==="bottom"?-t:0]}k.removeAttr("style").each(function(o){var z={x:g.precedance==="x"?g.x==="left"?"right":"left":g.x,y:g.precedance==="y"?g.y==="top"?"bottom":"top":g.y},r=g.x==="center"?["left","right",z.y,m,j]:["top","bottom",z.x,j,m],y=e[!o&&u?"border":"fill"];o&&a(this).css({position:"absolute","z-index":1,left:t[0],top:t[1]});g.x==="center"||g.y==="center"?a(this).css("border-"+r[2],r[3]+"px solid "+y).css("border-"+
r[0],Math.floor(r[4]/2)+"px dashed transparent").css("border-"+r[1],Math.floor(r[4]/2)+"px dashed transparent"):a(this).css("border-width",Math.floor(m/2)+"px "+Math.floor(j/2)+"px").css("border-"+z.x,Math.floor(j/2)+"px solid "+y).css("border-"+z.y,Math.floor(m/2)+"px solid "+y)});break}d(c);return i},destroy:function(){l.tip&&l.tip.remove();s.unbind("tooltipmove.tip")}})}function U(b,d){var h=this,i=b.elements,q=i.tooltip;i.overlay=a("#qtip-overlay");a.extend(h,{init:function(){d=a.extend(TRUE,
a.fn.qtip.plugins.modal.defaults,d);q.bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(l,s,n){l=l.type.replace("tooltip","");a.isFunction(d[l])?d[l].call(i.overlay,n,s):h[l](n)});i.overlay.length||h.create();d.blur===TRUE&&i.overlay.bind("click.qtipmodal"+b.id,function(){b.hide.call(b)})},create:function(){i.overlay=a("<div />",{id:"qtip-overlay",css:{position:"absolute",top:0,left:0,display:"none"}}).appendTo(document.body);a(D).bind("resize.qtipmodal",function(){i.overlay.css({height:Math.max(a(D).height(),
a(document).height()),width:Math.max(a(D).width(),a(document).width())})}).trigger("resize")},toggle:function(l){var s=i.overlay,n=b.options.show.modal.effect,x=l?"show":"hide";s.stop(TRUE,FALSE);if(a.isFunction(n))n.call(s,l);else n===FALSE?s[x]():s.fadeTo(90,l?0.7:0,function(){l||a(this).hide()})},show:function(){h.toggle(TRUE)},hide:function(){h.toggle(FALSE)},destroy:function(){var l=TRUE;a("*").each(function(){var s=a(this).data("qtip");if(s&&s.id!==b.id&&s.options.show.modal)return l=FALSE});
if(l){i.overlay.remove();a(D).unbind("scroll.qtipmodal resize.qtipmodal")}else i.overlay.unbind("click.qtipmodal"+b.id);q.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});h.init()}function V(b){var d=this,h=b.elements,i=h.tooltip,q=".bgiframe-"+b.id,l="tooltipmove"+q+" tooltipshow"+q;a.extend(d,{init:function(){h.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');
h.bgiframe.appendTo(i);i.bind(l,d.adjust)},adjust:function(){var s=b.calculate("dimensions"),n=b.plugins.tip,x=b.elements.tip,p;p=parseInt(i.css("border-left-width"),10);p={left:-p,top:-p};if(n&&x){n=n.corner.precedance==="x"?["width","left"]:["height","top"];p[n[1]]-=x[n[0]]()}h.bgiframe.css(p).css(s)},destroy:function(){d.iframe.remove();i.unbind(l)}});d.init()}a.fn.qtip=function(b,d,h){var i=String(b).toLowerCase(),q=FALSE,l=i==="disable"?[TRUE]:a.makeArray(arguments).slice(1,10),s=l[l.length-
1],n=a.extend(TRUE,{},b),x;if(!l.length&&a(this).data("qtip")||i==="api")return(n=a(this).eq(0).data("qtip"))?n.hash():F;else if("string"===typeof b){a(this).each(function(){var p=a(this).data("qtip");if(!p)return TRUE;if(/option|set/.test(i)&&d)if(h!==F)p.set(d,h);else q=p.get(d);else{if(!p.rendered&&(i==="show"||i==="toggle")){if(s&&s.timeStamp)p.cache.event=s;p.render()}else if(i==="enable"){i="disable";l=[FALSE]}p[i]&&p[i].apply(p[i],l)}});return q!==FALSE?q:a(this)}else if("object"===typeof b){x=
N(n,this);n=a.extend(TRUE,{},a.fn.qtip.defaults,n);return a.fn.qtip.bind.call(x,n,s)}};a.fn.qtip.bind=function(b,d){return a(this).each(function(h){function i(u){function B(){l.render(typeof u==="object"||s.show.ready);n.show.unbind(x.show);n.hide.unbind(x.hide)}if(l.cache.disabled)return FALSE;l.cache.event=a.extend({},u);if(s.show.delay>0){clearTimeout(l.timers.show);l.timers.show=setTimeout(B,s.show.delay);x.show!==x.hide&&n.hide.bind(x.hide,function(){clearTimeout(l.timers.show)})}else B()}var q,
l,s,n,x,p,e=b.content.text;q=b.id===FALSE||b.id.length<1||a("#ui-tooltip-"+b.id).length?a.fn.qtip.nextid++:b.id;p=".qtip-"+q+"-create";l=R.call(a(this),q,b);if(l===FALSE)return TRUE;s=l.options;if(a.isArray(e))s.content.text=e[h];a(this).attr("title")&&a(this).data("oldtitle",a(this).attr("title")).removeAttr("title");a.each(a.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(l)});n={show:s.show.target,hide:s.hide.target};x={show:String(s.show.event).replace(" ",p+" ")+p,hide:String(s.hide.event).replace(" ",
p+" ")+p};n.show.bind(x.show,i);if(b.show.ready||b.prerender||b.show.event===FALSE)i(d)})};a.each({attr:function(b){var d=a(this).data("qtip");return arguments.length===1&&b==="title"&&d&&d.rendered===TRUE?a(this).data("oldtitle"):NULL},remove:a.ui?NULL:function(b,d){this.each(function(){if(!d)if(!b||a.filter(b,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}},function(b,d){if(!d)return TRUE;var h=a.fn[b];a.fn[b]=function(){return d.apply(this,arguments)||
h.apply(this,arguments)}});a(document.body).attr("role",function(b,d){return!d?"application":d});a(document).bind("mousemove.qtip",function(b){a.fn.qtip.mouse={pageX:b.pageX,pageY:b.pageY}});a.fn.qtip.nextid=0;a.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");a.fn.qtip.zindex=15E3;a.fn.qtip.plugins={Corner:function(b){this.x=(String(b).replace(/middle/i,"center").match(/left|right|center/i)||["false"])[0].toLowerCase();this.y=(String(b).replace(/middle/i,
"center").match(/top|bottom|center/i)||["false"])[0].toLowerCase();this.precedance=b.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var d=this.x.substr(0,1),h=this.y.substr(0,1);return d===h?d:d==="c"||d!=="c"&&h!=="c"?h+d:d+h}}};a.fn.qtip.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",
at:"bottom right",target:FALSE,container:FALSE,adjust:{x:0,y:0,mouse:TRUE,screen:FALSE,resize:TRUE,effect:TRUE,offset:FALSE}},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",widget:FALSE},events:{render:a.noop,move:a.noop,show:a.noop,hide:a.noop,focus:a.noop,blur:a.noop}};var M=a();a.fn.qtip.plugins.ajax=function(b){var d=b.plugins.ajax,h=b.options.content;if(h.ajax&&
h.ajax.url)if(d)return d;else{b.plugins.ajax=new S(b);return b.plugins.ajax}};a.fn.qtip.plugins.ajax.initialize="render";a.fn.qtip.plugins.ajax.sanitize=function(b){if(b.content!==F)if(b.content.ajax!==F){if(typeof b.content.ajax!=="object")b.content.ajax={url:b.content.ajax};if(b.content.text===FALSE)b.content.text="Loading...";b.content.ajax.once=Boolean(b.content.ajax.once);b.content.ajax.preload=Boolean(b.content.ajax.preload);if(b.content.ajax.preload){b=b.content.ajax.url;a("#qtip-preload").length||
a('<div id="qtip-preload" class="ui-tooltip-accessible" />').appendTo(document.body);M.length||(M=a("<div />").appendTo("#qtip-preload").load(b+" img"))}}};a.fn.qtip.plugins.tip=function(b){var d=b.plugins.tip,h=b.options.style.tip;if(h&&h.corner)if(d)return d;else{b.plugins.tip=new T(b);b.plugins.tip.init();return b.plugins.tip}};a.fn.qtip.plugins.tip.initialize="render";a.fn.qtip.plugins.tip.sanitize=function(b){if(b.style===F)b.style={};if(b.style.tip===F)b.style.tip={corner:TRUE};if(typeof b.style.tip!==
"object")b.style.tip={corner:!!b.style.tip};if(typeof b.style.tip.method!=="string")b.style.tip.method=TRUE;if(!/canvas|polygon/i.test(b.style.tip.method))b.style.tip.method=TRUE;if(typeof b.style.tip.width!=="number")b.style.tip.width=12;if(typeof b.style.tip.height!=="number")b.style.tip.height=12;if(typeof b.style.tip.border!=="number")b.style.tip.border=0};a.fn.qtip.plugins.imagemap=function(b,d){function h(e,u){for(var B=0,f=1,c=1,g=0,k=0,j=e.width,m=e.height;j>0&&m>0&&f>0&&c>0;){j=Math.floor(j/
2);m=Math.floor(m/2);if(d.x==="left")f=j;else if(d.x==="right")f=e.width-j;else f+=Math.floor(j/2);if(d.y==="top")c=m;else if(d.y==="bottom")c=e.height-m;else c+=Math.floor(m/2);for(B=u.length;B--;){if(u.length<2)break;g=u[B][0]-e.offset.left;k=u[B][1]-e.offset.top;if(d.x==="left"&&g>=f||d.x==="right"&&g<=f||d.x==="center"&&(g<f||g>e.width-f)||d.y==="top"&&k>=c||d.y==="bottom"&&k<=c||d.y==="center"&&(k<c||k>e.height-c))u.splice(B,1)}}return{left:u[0][0],top:u[0][1]}}var i=b.attr("shape").toLowerCase(),
q=b.attr("coords").split(","),l=[],s=a('img[usemap="#'+b.parent("map").attr("name")+'"]').offset(),n={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},x=0,p=0;if(i==="poly")for(x=q.length;x--;){p=[parseInt(q[--x],10),parseInt(q[x+1],10)];if(p[0]>n.offset.right)n.offset.right=p[0];if(p[0]<n.offset.left)n.offset.left=p[0];if(p[1]>n.offset.bottom)n.offset.bottom=p[1];if(p[1]<n.offset.top)n.offset.top=p[1];l.push(p)}else l=a.map(q,function(e){return parseInt(e,10)});switch(i){case "rect":n=
{width:Math.abs(l[2]-l[0]),height:Math.abs(l[3]-l[1]),offset:{left:l[0],top:l[1]}};break;case "circle":n={width:l[2]+2,height:l[2]+2,offset:{left:l[0],top:l[1]}};break;case "poly":a.extend(n,{width:Math.abs(n.offset.right-n.offset.left),height:Math.abs(n.offset.bottom-n.offset.top)});n.offset=d.string()==="centercenter"?{left:n.offset.left+n.width/2,top:n.offset.top+n.height/2}:h(n,l.slice());n.width=n.height=0;break}n.offset.left+=s.left;n.offset.top+=s.top;return n};a.fn.qtip.plugins.modal=function(b){var d=
b.plugins.modal,h=b.options.show.modal;if(d)return d;else if(h&&h.on===TRUE){b.plugins.modal=new U(b,h);return b.plugins.modal}};a.fn.qtip.plugins.modal.initialize="render";a.fn.qtip.plugins.modal.sanitize=function(b){if(b.show&&b.show.modal!==F)if(typeof b.show.modal!=="object")b.show.modal={on:!!b.show.modal}};a.fn.qtip.plugins.modal.defaults={on:TRUE,effect:TRUE,blur:TRUE};a.fn.qtip.plugins.bgiframe=function(b){if(!(a.browser.msie&&/^6\.[0-9]/.test(a.browser.version)&&a("select, object").length))return FALSE;
var d=b.plugins.bgiframe;if(d)return d;else{b.plugins.bgiframe=new V(b);return b.plugins.bgiframe}};a.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
