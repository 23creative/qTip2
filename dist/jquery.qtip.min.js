/*
* qTip2 - Pretty pwoerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Thu Dec 9 03:08:07 2010 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null;
(function(a,G,K){function L(d,c){var i;if(!d)return FALSE;if("object"!==typeof d.metadata)d.metadata={type:d.metadata};if("content"in d){if("object"!==typeof d.content||d.content.jquery)d.content={text:d.content};i=d.content.text||FALSE;if(!a.isFunction(i)&&(!i&&!i.attr||i.length<1||"object"===typeof i&&!i.jquery))i=d.content.text=FALSE;if("title"in d.content&&"object"!==typeof d.content.title)d.content.title={text:d.content.title}}if("position"in d){if("object"!==typeof d.position)d.position={my:d.position,
at:d.position};if("object"!==typeof d.position.adjust)d.position.adjust={};if("undefined"!==typeof d.position.adjust.screen)d.position.adjust.screen=!!d.position.adjust.screen}if("show"in d){if("object"!==typeof d.show)d.show={event:d.show};if("object"!==typeof d.show)d.show=d.show.jquery?{target:d.show}:{event:d.show}}if("hide"in d)if("object"!==typeof d.hide)d.hide=d.hide.jquery?{target:d.hide}:{event:d.hide};if("style"in d&&"object"!==typeof d.style)d.style={classes:d.style};c&&a.each(a.fn.qtip.plugins,
function(){this.sanitize&&this.sanitize(d)});return d}function O(d,c,i){function h(b){var f,j=b.split("."),m=c[j[0]];for(b=1;b<j.length;b+=1){f=m[j[b]];if(typeof f==="object"&&!f.jquery&&!f.precedance)m=m[j[b]];else break}return j[b]!==K?[m,j[b]]:[c,j[0]]}function r(b){b=b[0];var f={left:0,top:0},j=!c.position.adjust.container;if(b.offsetParent){do{f.left+=b.offsetLeft;f.top+=b.offsetTop}while(b=j?b.offsetParent:0)}return f}function l(b,f){var j=e.elements.tooltip,m=k+"-accessible "+(f?k+"-accessible-fluid":
""),g=!j.is(":visible"),p=FALSE;if(!e.rendered)return FALSE;g&&j.addClass(m);switch(b){case "dimensions":p={height:j.outerHeight(),width:j.outerWidth()};break;case "position":p=r(j);break}g&&j.removeClass(m);return p}function s(){var b=e.elements;if(b.title){b.titlebar.remove();b.titlebar=b.title=b.button=NULL;b.tooltip.removeAttr("aria-labelledby")}}function u(){var b=e.elements,f=c.content.title.button;b.button&&b.button.remove();b.button=f.jquery?f:"string"===typeof f?a("<a />",{html:f}):a("<a />",
{"class":"ui-state-default",text:"Close tooltip",title:"Close tooltip",css:{"text-indent":"-10000em"}}).prepend(a("<span />",{"class":(c.style.widget?"ui":k)+"-icon ui-icon-close"}));b.button.prependTo(b.titlebar).attr("role","button").addClass(k+"-close").hover(function(j){a(this).toggleClass("ui-state-hover",j.type==="mouseenter")}).click(function(){b.tooltip.hasClass("ui-state-disabled")||e.hide();return FALSE}).bind("mousedown keydown mouseup keyup mouseout",function(j){a(this).toggleClass("ui-state-active ui-state-focus",
/down$/i.test(j.type))});e.redraw()}function q(){var b=e.elements;b.titlebar&&s();b.titlebar=a("<div />",{"class":k+"-titlebar "+(c.style.widget?"ui-widget-header":"")}).append(b.title=a("<div />",{id:k+"-"+i+"-title","class":k+"-title",html:c.content.title.text})).prependTo(b.wrapper);if(c.content.title.button)u();else e.rendered===TRUE&&e.redraw()}function A(b){var f=e.elements;if(!e.rendered||!b)return FALSE;if(a.isFunction(b))b=b.call(d);b.jquery&&b.length>0?f.content.empty().append(b.css({display:"block"})):
f.content.html(b);f.tooltip.queue("fx",function(j){function m(p){g=g.not(p);if(g.length===0){e.redraw();e.rendered===TRUE&&e.reposition(e.cache.event);j()}}var g=a("img:not([height]):not([width])",e.elements.content);g.each(function(p,v){var w=["abort","error","load","unload",""].join(".qtip-image ");a(this).bind(w,function(){clearTimeout(e.timers.img[p]);m(this)});(function t(){if(v.height)return m(v);e.timers.img[p]=setTimeout(t,20)})();return TRUE});g.length===0&&m(g)});return e}function B(b,f,
j,m){function g(C){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;o.show.trigger("qtip-"+i+"-inactive");clearTimeout(e.timers.show);clearTimeout(e.timers.hide);var D=function(){e.show(C)};if(c.show.delay>0)e.timers.show=setTimeout(D,c.show.delay);else D()}function p(C){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;var D=a(C.relatedTarget||C.target).parents(n)[0]==o.tooltip[0];clearTimeout(e.timers.show);clearTimeout(e.timers.hide);if(c.hide.fixed&&(c.position.target==="mouse"&&
D||/mouse(out|leave|move)/.test(C.type)&&D)){C.stopPropagation();C.preventDefault();return FALSE}o.tooltip.stop(1,1);if(c.hide.delay>0)e.timers.hide=setTimeout(function(){e.hide(C)},c.hide.delay);else e.hide(C)}function v(C){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;clearTimeout(e.timers.inactive);e.timers.inactive=setTimeout(function(){e.hide(C)},c.hide.inactive)}function w(C){e.elements.tooltip.is(":visible")&&e.reposition(C)}var t=".qtip-"+i,o={show:c.show.target,hide:c.hide.target,
tooltip:e.elements.tooltip},x={show:String(c.show.event).split(" "),hide:String(c.hide.event).split(" ")},F=a.browser.msie&&/^6\.[0-9]/.test(a.browser.version);d.bind("remove.qtip",function(){e.destroy()});if(j&&c.hide.fixed){o.hide=o.hide.add(o.tooltip);o.tooltip.bind("mouseover"+t,function(){o.tooltip.hasClass("ui-state-disabled")||clearTimeout(e.timers.hide)})}if(f){if("number"===typeof c.hide.inactive){o.show.bind("qtip-"+i+"-inactive",v);a.each(a.fn.qtip.inactiveEvents,function(C,D){o.hide.add(e.elements.tooltip).bind(D+
t+"-inactive",v)})}a.each(x.hide,function(C,D){var E=a.inArray(D,x.show);if(E>-1&&a(o.hide).add(o.show).length===a(o.hide).length||D==="unfocus"){o.show.bind(D+t,function(y){o.tooltip.is(":visible")?p(y):g(y)});delete x.show[E]}else o.hide.bind(D+t,p)})}if(b){a.each(x.show,function(C,D){o.show.bind(D+t,g)});o.tooltip.bind("mouseover"+t,function(){e.focus()})}if(m){if(c.position.adjust.resize||c.position.adjust.screen)a(G).bind("resize"+t,w);if(c.position.adjust.screen||F&&o.tooltip.css("position")===
"fixed")a(document).bind("scroll"+t,w);/unfocus/i.test(c.hide.event)&&a(document).bind("mousedown"+t,function(C){var D=e.elements.tooltip;a(C.target).parents(n).length===0&&a(C.target).add(d).length>1&&D.is(":visible")&&!D.hasClass("ui-state-disabled")&&e.hide()});c.position.target==="mouse"&&a(document).bind("mousemove"+t,function(C){if(c.position.adjust.mouse&&!o.tooltip.hasClass("ui-state-disabled")&&o.tooltip.is(":visible"))e.reposition(C||a.fn.qtip.mouse)})}}function z(b,f,j,m){m=parseInt(m,
10)!==0;var g=".qtip-"+i,p={show:b?c.show.target:a("<div/>"),hide:f?c.hide.target:a("<div/>"),tooltip:j?e.elements.tooltip:a("<div/>")};f={show:String(c.show.event).split(" "),hide:String(c.hide.event).split(" ")};if(e.rendered){a.each(f.show,function(v,w){p.show.unbind(w+g)});p.show.unbind("mousemove"+g).unbind("mouseout"+g).unbind("qtip-"+i+"-inactive");a.each(f.hide,function(v,w){p.hide.add(p.tooltip).unbind(w+g)});a.each(a.fn.qtip.inactiveEvents,function(v,w){p.hide.add(j?e.elements.content:NULL).unbind(w+
g+"-inactive")});p.hide.unbind("mouseout"+g);p.tooltip.unbind("mouseover"+g);if(m){a(G).unbind("resize"+g);a(document).unbind("mousedown"+g+" mousemove"+g)}}else b&&p.show.unbind(f.show+g+"-create")}var e=this,k="ui-tooltip",n=".qtip."+k;e.id=i;e.rendered=FALSE;e.elements={target:d};e.cache={event:{},target:NULL,disabled:FALSE};e.timers={img:[]};e.options=c;e.plugins={};a.extend(e,{render:function(b){var f=e.elements,j=a.Event("tooltiprender");if(e.rendered)return FALSE;e.rendered=b?-2:-1;f.tooltip=
a("<div/>").attr({id:k+"-"+i,role:"tooltip","class":k+" qtip ui-tooltip-accessible ui-helper-reset "+c.style.classes}).css("z-index",a.fn.qtip.zindex+a(n).length).toggleClass("ui-widget",c.style.widget).toggleClass("ui-state-disabled",e.cache.disabled).data("qtip",e).appendTo(c.position.container);f.wrapper=a("<div />",{"class":k+"-wrapper"}).appendTo(f.tooltip);f.content=a("<div />",{"class":k+"-content "+(c.style.widget?"ui-widget-content":""),id:k+"-"+i+"-content"}).appendTo(f.wrapper);c.content.title.text&&
q();A(c.content.text);a.each(a.fn.qtip.plugins,function(){this.initialize==="render"&&this(e)});e.rendered=TRUE;B(1,1,1,1);a.each(c.events,function(m,g){g&&f.tooltip.bind("tooltip"+m,g)});f.tooltip.queue("fx",function(m){if(c.show.ready||b){f.tooltip.hide();e.show(e.cache.event)}f.tooltip.removeClass("ui-tooltip-accessible");j.originalEvent=e.cache.event;f.tooltip.trigger(j,[e.hash()]);m()});return e},get:function(b){switch(b.toLowerCase()){case "offset":b=l("position");break;case "dimensions":b=
l("dimensions");break;default:b=h(b.toLowerCase());b=b[0].precedance?b[0].string():b[0].jquery?b[0]:b[0][b[1]];break}return b},set:function(b,f){b=b.toLowerCase();var j=h(b),m=e.elements,g=m.tooltip,p,v,w,t={builtin:{id:function(){var o=f===TRUE?a.fn.qtip.nextid:f,x=k+"-"+o;if(o!==FALSE&&o.length>0&&!a("#ui-tooltip-"+o).length){g[0].id=x;m.content[0].id=x+"-content";m.title[0].id=x+"-title"}},"^content.text":function(){A(f)},"^content.title.text":function(){if(e.rendered)if(!e.elements.title&&f){q();
e.reposition()}else f?e.elements.title.html(f):s()},"^content.title.button":function(){var o=e.elements.button,x=e.elements.title;if(e.rendered)if(f){x||q();u()}else o.remove()},"^position.(my|at)$":function(){var o=/my$/i.test(b)?"my":"at";if("string"===typeof f)c.position[o]=new a.fn.qtip.plugins.Corner(f)},"^position.(my|at|adjust|target)":function(){e.rendered&&e.reposition()},"^position.container$":function(){if(e.rendered===TRUE){g.appendTo(f);e.reposition()}},"^(show|hide).(event|target|fixed|delay|inactive)":function(o,
x,F,C){var D=b.search(/fixed/i)>-1?[0,[0,1,1,1]]:[b.substr(0,3),b.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(D[0])o[x]=C;z.apply(e,D[1]);if(D[0])o[x]=F;B.apply(e,D[1])},"^show.ready$":function(){e.rendered===FALSE&&e.show()},"^style.classes$":function(){e.elements.tooltip.attr("class",k+" qtip ui-helper-reset "+f)},"^style.widget$":function(){var o=!!f;g.toggleClass("ui-widget",o);m.titlebar.toggleClass("ui-widget-header",o);m.content.toggleClass("ui-widget-content",o);m.button.children("span").toggleClass(k+
"-icon",!o).toggleClass("ui-icon",o)},"^events.(render|show|move|hide|focus|blur)":function(o,x,F){m.tooltip[(a.isFunction(f)?"":"un")+"bind"]("tooltip"+x,F)}}};a.each(e.plugins,function(o){if("object"===typeof this.checks)t[o]=this.checks});p=j[0][j[1]];j[0][j[1]]=f.nodeType?a(f):f;L(c,1);for(v in t)for(w in t[v])RegExp(w,"i").test(b)&&t[v][w].call(e,j[0],j[1],f,p);return e},toggle:function(b,f){function j(){var t=a(this),o=b?"attr":"removeAttr",x=/^1|0$/.test(t.css("opacity"));e.elements.title&&
d[o]("aria-labelledby",k+"-"+i+"-title");d[o]("aria-describedby",k+"-"+i+"-content");if(b){if(a.browser.msie&&this.style&&x){w=this.style;w.removeAttribute("filter");w.removeAttribute("opacity")}}else x&&t.hide()}if(e.rendered===FALSE)return FALSE;var m=b?"show":"hide",g=e.elements.tooltip,p=c[m],v=g.is(":visible"),w;if((typeof b).search("boolean|number"))b=!g.is(":visible");if(!v&&!b||g.is(":animated"))return e;if(f){if(e.cache.event&&/over|enter/.test(f.type)&&/out|leave/.test(e.cache.event.type)&&
a(f.target).add(c.show.target).length<2&&a(f.relatedTarget).parents(n).length>0)return e;e.cache.event=a.extend({},f)}v=a.Event("tooltip"+m);v.originalEvent=f?e.cache.event:NULL;g.trigger(v,[e.hash(),90]);if(v.isDefaultPrevented())return e;if(b){e.focus();e.reposition(f);p.solo&&a(n).qtip("hide")}else clearTimeout(e.timers.show);g.attr("aria-hidden",Boolean(!b));g.stop(1,1);if(a.isFunction(p.effect)){p.effect.call(g,e.hash());g.queue(function(){j.call(this);a(this).dequeue()})}else if(p.effect===
FALSE){g[m]();j.call(g)}else g.fadeTo(90,b?1:0,j);b&&p.target.trigger("qtip-"+i+"-inactive");return e},show:function(b){e.toggle(TRUE,b)},hide:function(b){e.toggle(FALSE,b)},focus:function(b){if(e.rendered===FALSE)return FALSE;var f=e.elements.tooltip,j=a(n),m=parseInt(f[0].style.zIndex,10),g=a.fn.qtip.zindex+j.length,p=k+"-focus",v=a.extend({},b);if(!f.hasClass(p)&&m!==g){j.each(function(){this.style.zIndex-=1});a(n+"."+p).each(function(){var w=a(this),t=w.qtip(),o;if(!t||t.rendered===FALSE)return TRUE;
w.removeClass(p);o=a.Event("tooltipblur");o.originalEvent=v;w.trigger(o,[t,g])});b=a.Event("tooltipfocus");b.originalEvent=v;f.trigger(b,[e.hash(),g]);if(!b.isDefaultPrevented())f.addClass(p)[0].style.zIndex=g}return e},reposition:function(b){if(e.rendered===FALSE)return FALSE;var f=c.position.target,j=e.elements.tooltip,m=c.position,g=m.my,p=m.at,v=m.adjust,w=e.elements.tooltip.width(),t=e.elements.tooltip.height(),o=a(m.container)[0],x=0,F=0,C=a.Event("tooltipmove"),D=j.css("position")==="fixed",
E=a(v.container&&o!==document.body?o:G),y={left:0,top:0};o={left:function(H){var J=E.scrollLeft,I=p.x==="left"?x:p.x==="right"?-x:-x/2,M=H+w-E.width-J;I=(g.x==="left"?w:g.x==="right"?-w:-w/2)-(g.x===g.y?1:-2)*v.x-(g.precedance==="x"||g.x===g.y?I:0);if(J-H>0)y.left-=I;else if(M>0)y.left-=(g.x==="center"?-1:1)*I;return y.left-H},top:function(H){var J=E.scrollTop,I=p.y==="top"?F:p.y==="bottom"?-F:-F/2,M=H+t-E.height-J;I=(g.y==="top"?t:g.y==="bottom"?-t:-t/2)-(g.y===g.x?1:-2)*v.y-(g.precedance==="y"||
g.x===g.y?I:0);if(J-H>0)y.top-=I;else if(M>0)y.top-=(g.y==="center"?-1:1)*I;return y.top-H}};E={elem:E,height:E[(E[0]===G?"h":"outerH")+"eight"](),width:E[(E[0]===G?"w":"outerW")+"idth"](),scrollLeft:E.scrollLeft(),scrollTop:E.scrollTop()};if(f==="mouse"){p={x:"left",y:"top"};b=v.mouse||!b||!b.pageX?a.extend({},a.fn.qtip.mouse):b;y={top:b.pageY,left:b.pageX}}else{if(f==="event")f=b&&b.target&&b.type!=="scroll"&&b.type!=="resize"?e.cache.target=a(b.target):e.cache.target;f=a(f).eq(0);if(f.length===
0)return e;else if(f[0]===document||f[0]===G){x=f.width();F=f.height();if(f[0]===G)y={top:D?0:E.scrollTop,left:D?0:E.scrollLeft}}else if(f.is("area")&&a.fn.qtip.plugins.imagemap){y=a.fn.qtip.plugins.imagemap(f,p);x=y.width;F=y.height;y=y.offset}else{x=f.outerWidth();F=f.outerHeight();y=r(f)}y.left+=p.x==="right"?x:p.x==="center"?x/2:0;y.top+=p.y==="bottom"?F:p.y==="center"?F/2:0}y.left+=v.x+(g.x==="right"?-w:g.x==="center"?-w/2:0);y.top+=v.y+(g.y==="bottom"?-t:g.y==="center"?-t/2:0);y.adjusted=v.screen&&
f[0]!==G&&f[0]!==document.body?{left:o.left(y.left),top:o.top(y.top)}:{left:0,top:0};j.attr("class",function(){return a(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(k+"-pos-"+g.abbreviation());C.originalEvent=a.extend({},b);j.trigger(C,[e.hash(),y,E.elem]);if(C.isDefaultPrevented())return e;delete y.adjusted;if(j.is(":visible")&&a.isFunction(m.effect)){m.effect.call(j,e.hash(),y);j.queue(function(){var H=a(this);H.css({opacity:"",height:""});a.browser.msie&&this.style&&this.style.removeAttribute("filter");
H.dequeue()})}else isNaN(y.left,y.top)||j.css(y);return e},redraw:function(){if(!e.rendered||!(a.browser.msie&&parseInt(a.browser.version.charAt(0),10)<9))return FALSE;var b=e.elements.tooltip;b.attr("style");var f;b.css({width:"auto",height:"auto"});f=l("dimensions",1);a.each(["width","height"],function(j,m){var g=parseInt(b.css("max-"+m),10)||0,p=parseInt(b.css("min-"+m),10)||0;f[m]=g+p?Math.min(Math.max(f[m],p),g):f[m]});b.css(f)},disable:function(b){var f=e.elements.tooltip;if(e.rendered)f.toggleClass("ui-state-disabled",
b);else e.cache.disabled=!!b;return e},destroy:function(){var b=e.elements,f=b.target.data("oldtitle");e.rendered&&a.each(e.plugins,function(){this.initialize==="render"&&this.destroy()});z(1,1,1,1);d.removeData("qtip");e.rendered&&b.tooltip.remove();f&&d.attr("title",f);d.removeAttr("aria-describedby");return d},hash:function(){var b=a.extend({},e);delete b.cache;delete b.timers;delete b.options;delete b.plugins;delete b.render;delete b.hash;return b}})}function P(d,c){var i,h,r=a(this);i=a(document.body);
var l=this===document?i:r;h=r.metadata?r.metadata(c.metadata):NULL;var s=a.extend(TRUE,{},a.fn.qtip.defaults,c,L((h&&c.metadata.type==="html5"?h[c.metadata.name]:NULL)||h),1);r.removeData("metadata");h=s.position;if("boolean"===typeof s.content.text)if(s.content.attr!==FALSE&&r.attr(s.content.attr))s.content.text=r.attr(s.content.attr);else return FALSE;if(h.container===FALSE)h.container=i;if(h.target===FALSE)h.target=l;if(s.show.target===FALSE)s.show.target=l;if(s.hide.target===FALSE)s.hide.target=
l;h.at=new a.fn.qtip.plugins.Corner(h.at);h.my=new a.fn.qtip.plugins.Corner(h.my);if(r.data("qtip"))if(s.overwrite)r.qtip("destroy");else if(s.overwrite===FALSE)return FALSE;r.attr("title")&&r.data("oldtitle",r.attr("title")).removeAttr("title");i=new O(r,s,d);r.data("qtip",i);return i}function Q(d){var c=this;c.checks={"^content.ajax":function(){this.plugins.ajax.load(this.options.content.ajax)}};a.extend(c,{init:function(){var i=d.options.content.ajax;d.elements.tooltip.bind("tooltiprender.ajax",
function(){c.load(i);d.elements.tooltip.bind("tooltipshow.ajax",function(){i.once===FALSE&&d.rendered===TRUE&&c.load(i)})})},load:function(i){a.ajax(a.extend(TRUE,{},i,{success:function(h,r){if(a.isFunction(i.success))if(i.success.call(d.hash(),h,r)===FALSE)return;d.set("content.text",h)},error:function(h,r,l){var s=r||l;if(a.isFunction(i.error)){h=i.error.call(d.hash(),h,r,l);if(h===FALSE)return}d.set("content.text",s)}}));return c},destroy:function(){d.elements.tooltip.unbind("tooltipshow.ajax")}});
c.init()}function N(d,c,i){var h=Math.floor(c/2),r=Math.floor(i/2);c={bottomright:[[0,0],[c,i],[c,0]],bottomleft:[[0,0],[c,0],[0,i]],topright:[[0,i],[c,0],[c,i]],topleft:[[0,0],[0,i],[c,i]],topcenter:[[0,i],[h,0],[c,i]],bottomcenter:[[0,0],[c,0],[h,i]],rightcenter:[[0,0],[c,r],[0,i]],leftcenter:[[c,0],[c,i],[0,r]]};c.lefttop=c.bottomright;c.righttop=c.bottomleft;c.leftbottom=c.topright;c.rightbottom=c.topleft;return c[d]}function R(d){function c(k){var n=l.tip,b=["left","right"],f=r.offset,j,m;if(r.corner===
FALSE||!n)return FALSE;k=k||h.corner;j=k.precedance;m=j==="y"?"x":"y";b[j==="y"?"push":"unshift"]("top","bottom");f=Math.max(k[m]==="center"?f:0,f);n.css({top:"",bottom:"",left:"",right:"",margin:""});switch(k[j==="y"?"x":"y"]){case "center":n.css(b[0],"50%").css("margin-"+b[0],-Math.floor(A[j==="y"?"width":"height"]/2)+f);break;case b[0]:n.css(b[0],f);break;case b[1]:n.css(b[1],f);break}f=A[j==="x"?"width":"height"];if(z){s.toggleClass("ui-tooltip-accessible",!s.is(":visible"));f-=parseInt(u.css("border-"+
k[j]+"-width"),10)||0;s.removeClass("ui-tooltip-accessible")}if(e==="vml"&&/bottom|right/.test(k[k.precedance]))f+=z?1:-1;n.css(k[j],-f)}function i(k,n,b){if(l.tip){k=a.extend({},h.corner);n=k.precedance==="y"?["y","top","left","height","x"]:["x","left","top","width","y"];var f=b.adjusted,j=[0,0];if(h.corner.fixed!==TRUE){if(f.left)k.x=k.x==="center"?f.left>0?"left":"right":k.x==="left"?"right":"left";if(f.top)k.y=k.y==="center"?f.top>0?"top":"bottom":k.y==="top"?"bottom":"top";if(k.string()!==q.corner.string()&&
(q.top!==f.top||q.left!==f.left))h.update(k)}j[0]=z?parseInt(u.css("border-"+k[n[0]]+"-width"),10)||0:e==="vml"?1:0;j[1]=Math.max(k[n[4]]==="center"?r.offset:0,r.offset);b[n[1]]+=(k[n[0]]===n[1]?1:-1)*(A[n[3]]-j[0]);b[n[2]]-=(k[n[4]]===n[2]||k[n[4]]==="center"?1:-1)*j[1];q.left=f.left;q.top=f.top;q.corner=k}}var h=this,r=d.options.style.tip,l=d.elements,s=l.tooltip,u=l.wrapper,q={top:0,left:0,corner:{string:function(){}}},A={width:r.width,height:r.height},B={},z=r.border||0,e=r.method||FALSE;h.corner=
NULL;h.mimic=NULL;h.checks={"^position.my|style.tip.(corner|mimic|method|border)":function(){z=r.border;if(h.init())this.get("position.target")!=="mouse"&&this.reposition();else h.destroy()},"^style.tip.(height|width)":function(){A={width:r.width,height:r.height};h.create();h.update();d.reposition()},"^style.(classes|widget)$":function(){h.detectColours();h.update()}};a.extend(h,{init:function(){var k=a.browser.msie,n=h.detectCorner(),b=h[h.mimic?"mimic":"corner"].string().indexOf("center")>-1;if(n){if(e===
TRUE)e=a("<canvas />")[0].getContext?"canvas":k&&(b||A.height!==A.width)?"vml":"polygon";else if(e==="canvas")e=k?"vml":!a("<canvas />")[0].getContext?"polygon":"canvas";else if(e==="polygon")e=k&&b?"vml":e;h.create();h.detectColours();h.update();s.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",i)}return n},detectCorner:function(){var k=r.corner,n=d.options.position.at,b=d.options.position.my;if(b.string)b=b.string();if(k===FALSE||b===FALSE&&n===FALSE)return FALSE;else if(k===TRUE)h.corner=new a.fn.qtip.plugins.Corner(b);
else if(!k.string){h.corner=new a.fn.qtip.plugins.Corner(k);h.corner.fixed=TRUE}return h.corner.string()!=="centercenter"},detectColours:function(){var k=l.tip,n=h.corner,b=h.corner[h.corner.precedance],f="border-"+b+"-color",j=/rgba?\(0, 0, 0(, 0)?\)|transparent/i,m=l.titlebar&&n.y==="top",g=d.options.style.widget;n=g?l.content:m?l.titlebar:l.wrapper;m=!g?l.wrapper:m?l.titlebar:l.content;B.fill=k.css({backgroundColor:"",border:""}).css("background-color")||"transparent";B.border=k.get(0).style?k.get(0).style["border"+
b.charAt(0)+b.substr(1)+"Color"]:k.css(f)||"transparent";if(j.test(B.fill))B.fill=z?n.css("background-color"):m.css(f);if(!B.border||j.test(B.border))B.border=m.css(f)||B.fill;a("*",k).add(k).css("background-color","transparent").css("border",0)},create:function(){var k=A.width,n=A.height;l.tip&&l.tip.remove();l.tip=a('<div class="ui-tooltip-tip" />').toggleClass("ui-widget-content",d.options.style.widget).css(A).prependTo(s);switch(e){case "canvas":a('<canvas height="'+n+'" width="'+k+'" />').appendTo(l.tip)[0].getContext("2d").save();
break;case "vml":l.tip.html('<vml:shape coordorigin="0 0" coordsize="'+k+" "+n+'" stroked="'+!!z+'"  style="behavior:url(#default#VML); display:inline-block; antialias:TRUE; position: absolute;  top:0; left:0; width:'+k+"px; height:"+n+"px; vertical-align:"+h.corner.y+';"><vml:stroke weight="'+(z-2)+'px" joinstyle="miter" miterlimit="10"  style="behavior:url(#default#VML); display:inline-block;" /></vml:shape>');break;case "polygon":l.tip.append('<div class="ui-tooltip-tip-inner" />').append(z?'<div class="ui-tooltip-tip-border" />':
"");break}return h},update:function(k){var n=l.tip,b=A.width,f=A.height,j=z>0?0:1,m=Math.ceil(z/2+0.5),g=r.mimic,p,v;if(!k)k=h.corner;if(g===FALSE)g=k;else{g=new a.fn.qtip.plugins.Corner(g);g.precedance=k.precedance;if(g.x==="inherit")g.x=k.x;else if(g.y==="inherit")g.y=k.y;else if(g.x===g.y)g[k.precedance]=k[k.precedance]}v=Math[/b|r/.test(g[g.precedance==="y"?"x":"y"])?"ceil":"floor"];n=n.children();switch(e){case "canvas":n=n.get(0).getContext("2d");n.restore&&n.restore();n.clearRect(0,0,3E3,3E3);
for(p=N(g.string(),b,f);j<2;j++){if(j){n.save();n.translate(v((g.x==="left"?1:g.x==="right"?-1:0)*(z+1)*(g.precedance==="y"?0.5:1)),v((g.y==="top"?1:g.y==="bottom"?-1:0)*(z+1)*(g.precedance==="x"?0.5:1)))}n.beginPath();n.moveTo(p[0][0],p[0][1]);n.lineTo(p[1][0],p[1][1]);n.lineTo(p[2][0],p[2][1]);n.closePath();n.fillStyle=B[j?"fill":"border"];n.fill()}break;case "vml":p=N(g.string(),b,f);j="m"+p[0][0]+","+p[0][1]+" l"+p[1][0]+","+p[1][1]+" "+p[2][0]+","+p[2][1]+" xe";n.attr({path:j,fillcolor:B.fill});
if(z){n.children().attr("color",B.border);if(g.precedance==="y"){n.css("top",(g.y==="top"?1:-1)*(z-2));n.css("left",g.x==="left"?1:-2)}else{n.css("left",(g.x==="left"?1:-1)*(z-2));n.css("top",g.y==="top"?1:-2)}}break;case "polygon":if(g.precedance==="y"){j=b>f?1.5:b<f?5:2.2;m=[g.x==="left"?m:g.x==="right"?-m:0,Math.floor(j*m*(g.y==="bottom"?-1:1)*(g.x==="center"?0.8:1))]}else{j=b<f?1.5:b>f?5:2.2;m=[Math.floor(j*m*(g.x==="right"?-1:1)*(g.y==="center"?0.9:1)),g.y==="top"?m:g.y==="bottom"?-m:0]}n.removeAttr("style").each(function(w){var t=
{x:g.precedance==="x"?g.x==="left"?"right":"left":g.x,y:g.precedance==="y"?g.y==="top"?"bottom":"top":g.y},o=g.x==="center"?["left","right",t.y,f,b]:["top","bottom",t.x,b,f],x=B[!w&&z?"border":"fill"];w&&a(this).css({position:"absolute","z-index":1,left:m[0],top:m[1]});g.x==="center"||g.y==="center"?a(this).css("border-"+o[2],o[3]+"px solid "+x).css("border-"+o[0],Math.floor(o[4]/2)+"px dashed transparent").css("border-"+o[1],Math.floor(o[4]/2)+"px dashed transparent"):a(this).css("border-width",
Math.floor(f/2)+"px "+Math.floor(b/2)+"px").css("border-"+t.x,Math.floor(b/2)+"px solid "+x).css("border-"+t.y,Math.floor(f/2)+"px solid "+x)});break}c(k);return h},destroy:function(){l.tip&&l.tip.remove();s.unbind(".qtip-tip")}})}function S(d,c){var i=this,h=d.elements,r=h.tooltip;h.overlay=a("#qtip-overlay");a.extend(i,{init:function(){r.bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(l,s,u){l=l.type.replace("tooltip","");a.isFunction(c[l])?c[l].call(h.overlay,u,s):i[l](u)});h.overlay.length||
i.create();c.blur===TRUE&&h.overlay.bind("click.qtipmodal"+d.id,function(){d.hide.call(d)})},create:function(){h.overlay=a("<div />",{id:"qtip-overlay",css:{position:"absolute",top:0,left:0,display:"none"}}).appendTo(document.body);a(G).bind("resize.qtipmodal",function(){h.overlay.css({height:Math.max(a(G).height(),a(document).height()),width:Math.max(a(G).width(),a(document).width())})}).trigger("resize")},toggle:function(l){var s=h.overlay,u=d.options.show.modal.effect,q=l?"show":"hide";s.stop(TRUE,
FALSE);if(a.isFunction(u))u.call(s,l);else u===FALSE?s[q]():s.fadeTo(90,l?0.7:0,function(){l||a(this).hide()})},show:function(){i.toggle(TRUE)},hide:function(){i.toggle(FALSE)},destroy:function(){var l=TRUE;a("*").each(function(){var s=a(this).data("qtip");if(s&&s.id!==d.id&&s.options.show.modal)return l=FALSE});if(l){h.overlay.remove();a(G).unbind("scroll.qtipmodal resize.qtipmodal")}else h.overlay.unbind("click.qtipmodal"+d.id);r.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});i.init()}
function T(d){var c=this,i=d.elements,h=i.tooltip,r=".bgiframe-"+d.id,l="tooltipmove"+r+" tooltipshow"+r;a.extend(c,{init:function(){i.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');i.bgiframe.appendTo(h);h.bind(l,c.adjust)},adjust:function(){var s=d.get("dimensions"),u=d.plugins.tip,q=d.elements.tip,A;A=parseInt(h.css("border-left-width"),10)||0;A={left:-A,
top:-A};if(u&&q){u=u.corner.precedance==="x"?["width","left"]:["height","top"];A[u[1]]-=q[u[0]]()}i.bgiframe.css(A).css(s)},destroy:function(){c.iframe.remove();h.unbind(l)}});c.init()}a.fn.qtip=function(d,c,i){var h=String(d).toLowerCase(),r=NULL,l=h==="disable"?[TRUE]:a.makeArray(arguments).slice(1,10),s=l[l.length-1],u;if(!arguments.length&&this.data("qtip")||h==="api")return(u=this.data("qtip"))?u.hash():K;else if("string"===typeof d){this.each(function(){var q=a(this).data("qtip");if(!q)return TRUE;
if(/option|set/.test(h)&&c)if(i!==K)q.set(c,i);else r=q.get(c);else{if(!q.rendered&&(h==="show"||h==="toggle")){if(s&&s.timeStamp)q.cache.event=s;q.render(1)}else if(h==="enable"){h="disable";l=[FALSE]}q[h]&&q[h].apply(q[h],l)}});return r!==NULL?r:this}else if("object"===typeof d||!arguments.length){u=L(a.extend(TRUE,{},d));return a.fn.qtip.bind.call(this,u,s)}};a.fn.qtip.bind=function(d,c){return this.each(function(){function i(A){function B(){q.render(typeof A==="object"||h.show.ready);r.show.unbind(l.show);
r.hide.unbind(l.hide)}if(q.cache.disabled)return FALSE;q.cache.event=a.extend({},A);if(h.show.delay>0){clearTimeout(q.timers.show);q.timers.show=setTimeout(B,h.show.delay);l.show!==l.hide&&r.hide.bind(l.hide,function(){clearTimeout(q.timers.show)})}else B()}var h,r,l,s=d.id=!d.id||d.id===FALSE||d.id.length<1||a("#ui-tooltip-"+d.id).length?a.fn.qtip.nextid++:d.id,u=".qtip-"+s+"-create",q=P.call(this,s,d);if(q===FALSE)return TRUE;h=q.options;a.each(a.fn.qtip.plugins,function(){this.initialize==="initialize"&&
this(q)});r={show:h.show.target,hide:h.hide.target};l={show:String(h.show.event).replace(" ",u+" ")+u,hide:String(h.hide.event).replace(" ",u+" ")+u};r.show.bind(l.show,i);if(d.show.ready||d.prerender)i(c)})};a.each({attr:function(d){var c=a(this),i=c.data("qtip");return arguments.length===1&&d==="title"&&i&&i.rendered===TRUE?c.data("oldtitle"):NULL},remove:a.ui?NULL:function(d,c){a(this).each(function(){if(!c)if(!d||a.filter(d,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}},
function(d,c){if(!c)return TRUE;a.fn["Old"+d]=a.fn[d];a.fn[d]=function(){return c.apply(this,arguments)||a.fn["Old"+d].apply(this,arguments)}});a(document.body).attr("role",function(d,c){return!c?"application":c});a(document).bind("mousemove.qtip",function(d){a.fn.qtip.mouse={pageX:d.pageX,pageY:d.pageY}});a.fn.qtip.version="2.0.0pre";a.fn.qtip.nextid=0;a.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");a.fn.qtip.zindex=15E3;a.fn.qtip.plugins={Corner:function(d){d=
String(d).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(d.match(/left|right/i)||d.match(/center/)||["inherit"])[0].toLowerCase();this.y=(d.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=d.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var c=this.x.substr(0,1),i=this.y.substr(0,1);return c===i?c:c==="c"||c!=="c"&&i!=="c"?i+c:c+i}}};a.fn.qtip.defaults=
{prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,adjust:{x:0,y:0,mouse:TRUE,screen:FALSE,resize:TRUE,container:FALSE},effect:TRUE},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",widget:FALSE},events:{render:NULL,
move:NULL,show:NULL,hide:NULL,focus:NULL,blur:NULL}};a.fn.qtip.plugins.ajax=function(d){var c=d.plugins.ajax,i=d.options.content.ajax;if(i&&i.url)if(c)return c;else{d.plugins.ajax=new Q(d);return d.plugins.ajax}};a.fn.qtip.plugins.ajax.initialize="render";a.fn.qtip.plugins.ajax.sanitize=function(d){var c=d.content;if(c&&"ajax"in c){c=c.ajax;if(typeof c!=="object")c=d.content.ajax={url:c};if("boolean"!==typeof c.once&&c.once)c.once=!!c.once}};a.extend(TRUE,a.fn.qtip.defaults,{content:{ajax:{once:TRUE}}});
a.fn.qtip.plugins.tip=function(d){var c=d.plugins.tip,i=d.options.style.tip;if(i&&i.corner)if(c)return c;else{d.plugins.tip=new R(d);d.plugins.tip.init();return d.plugins.tip}};a.fn.qtip.plugins.tip.initialize="render";a.fn.qtip.plugins.tip.sanitize=function(d){var c=d.style;if(c&&"tip"in c){c=d.style.tip;if(typeof c!=="object")d.style.tip={corner:c};if(!/string|boolean/i.test(typeof c.corner))c.corner=true;if(typeof c.method!=="string")c.method=TRUE;if(!/canvas|polygon/i.test(c.method))c.method=
TRUE;typeof c.width!=="number"&&delete c.width;typeof c.height!=="number"&&delete c.height;typeof c.border!=="number"&&delete c.border;typeof c.offset!=="number"&&delete c.offset}};a.extend(TRUE,a.fn.qtip.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,method:TRUE,width:9,height:9,border:0,offset:0}}});a.fn.qtip.plugins.imagemap=function(d,c){function i(z,e){for(var k=0,n=1,b=1,f=0,j=0,m=z.width,g=z.height;m>0&&g>0&&n>0&&b>0;){m=Math.floor(m/2);g=Math.floor(g/2);if(c.x==="left")n=m;else if(c.x==="right")n=
z.width-m;else n+=Math.floor(m/2);if(c.y==="top")b=g;else if(c.y==="bottom")b=z.height-g;else b+=Math.floor(g/2);for(k=e.length;k--;){if(e.length<2)break;f=e[k][0]-z.offset.left;j=e[k][1]-z.offset.top;if(c.x==="left"&&f>=n||c.x==="right"&&f<=n||c.x==="center"&&(f<n||f>z.width-n)||c.y==="top"&&j>=b||c.y==="bottom"&&j<=b||c.y==="center"&&(j<b||j>z.height-b))e.splice(k,1)}}return{left:e[0][0],top:e[0][1]}}var h=d.attr("shape").toLowerCase(),r=d.attr("coords").split(","),l=[],s=a('img[usemap="#'+d.parent("map").attr("name")+
'"]'),u=s.offset(),q={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},A=0,B=0;u.left+=Math.ceil((s.outerWidth()-s.width())/2);u.top+=Math.ceil((s.outerHeight()-s.height())/2);if(h==="poly")for(A=r.length;A--;){B=[parseInt(r[--A],10),parseInt(r[A+1],10)];if(B[0]>q.offset.right)q.offset.right=B[0];if(B[0]<q.offset.left)q.offset.left=B[0];if(B[1]>q.offset.bottom)q.offset.bottom=B[1];if(B[1]<q.offset.top)q.offset.top=B[1];l.push(B)}else l=a.map(r,function(z){return parseInt(z,10)});switch(h){case "rect":q=
{width:Math.abs(l[2]-l[0]),height:Math.abs(l[3]-l[1]),offset:{left:l[0],top:l[1]}};break;case "circle":q={width:l[2]+2,height:l[2]+2,offset:{left:l[0],top:l[1]}};break;case "poly":a.extend(q,{width:Math.abs(q.offset.right-q.offset.left),height:Math.abs(q.offset.bottom-q.offset.top)});q.offset=c.string()==="centercenter"?{left:q.offset.left+q.width/2,top:q.offset.top+q.height/2}:i(q,l.slice());q.width=q.height=0;break}q.offset.left+=u.left;q.offset.top+=u.top;return q};a.fn.qtip.plugins.modal=function(d){var c=
d.plugins.modal,i=d.options.show.modal;if(c)return c;else if(i&&i.on===TRUE){d.plugins.modal=new S(d,i);return d.plugins.modal}};a.fn.qtip.plugins.modal.initialize="render";a.fn.qtip.plugins.modal.sanitize=function(d){if(d.show)if(typeof d.show.modal!=="object")d.show.modal={on:!!d.show.modal};else if(typeof d.show.modal.on==="undefined")d.show.modal.on=TRUE};a.extend(TRUE,a.fn.qtip.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE}}});a.fn.qtip.plugins.bgiframe=function(d){if(!(a.browser.msie&&
/^6\.[0-9]/.test(a.browser.version)&&a("select, object").length))return FALSE;var c=d.plugins.bgiframe;if(c)return c;else{d.plugins.bgiframe=new T(d);return d.plugins.bgiframe}};a.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
