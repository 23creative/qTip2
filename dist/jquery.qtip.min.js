/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Thu Jan 13 09:18:01 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(b,M,R){function W(e){var a;if(!e)return n;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};a=e.content.text||n;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))a=e.content.text=n;if("title"in e.content&&"object"!==typeof e.content.title)e.content.title={text:e.content.title}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,at:e.position};
if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e)if("object"!==typeof e.style)e.style={classes:e.style};b.each(b.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function Z(e,a,o){function g(c){var f,l=c.split("."),k=a[l[0]];for(c=1;c<l.length;c+=1){f=k[l[c]];if(typeof f==="object"&&!f.jquery&&!f.precedance)k=k[l[c]];else break}return l[c]!==
R?[k,l[c]]:[a,l[0]]}function p(c,f){var l={left:0,top:0},k=!b.fn.qtip.plugins.iOS,m=b(f),x;if(f)if(m.css("position")!=="static"){l=p(f);l.left*=-1;l.top*=-1}else if(m.css("overflow")!=="visible"){l.left-=f.scrollLeft;l.top-=f.scrollTop}if(c.offsetParent){do{m=c.offsetParent;x=m===f;l.left+=c.offsetLeft-(k&&m&&!x?m.scrollLeft:0);l.top+=c.offsetTop-(k&&m&&!x?m.scrollTop:0)}while(c=m)}return l}function i(){return h.css("left")!==$}function z(){var c=d.elements,f=a.style.widget;h.toggleClass(X,f);c.content.toggleClass(X+
"-content",f);c.titlebar&&c.titlebar.toggleClass(X+"-header",f);c.button&&c.button.toggleClass(J+"-icon",!f)}function s(){var c=d.elements;if(c.title){c.titlebar.remove();c.titlebar=c.title=c.button=F;d.reposition()}}function q(){var c=d.elements,f=a.content.title.button;c.button&&c.button.remove();c.button=f.jquery?f:b("<a />",{"class":"ui-state-default "+(a.style.widget?"":J+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(b("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));
c.button.appendTo(c.titlebar).attr("role","button").hover(function(l){b(this).toggleClass("ui-state-hover",l.type==="mouseenter")}).click(function(l){h.hasClass(O)||d.hide(l);return n}).bind("mousedown keydown mouseup keyup mouseout",function(l){b(this).toggleClass("ui-state-active ui-state-focus",l.type.substr(-4)==="down")});d.redraw()}function A(){var c=d.elements,f=r+"-title";c.titlebar&&s();c.titlebar=b("<div />",{"class":J+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(c.title=
b("<div />",{id:f,"class":J+"-title","aria-atomic":u})).insertBefore(c.content);if(a.content.title.button)q();else d.rendered===u&&d.redraw()}function D(c){var f=d.elements.title;if(!d.rendered||!c)return n;if(b.isFunction(c))c=c.call(e,d)||"";c.jquery&&c.length>0?f.empty().append(c.css({display:"block"})):f.html(c);d.redraw();d.rendered===u&&d.reposition(d.cache.event)}function H(c){var f=d.elements.content;if(!d.rendered||!c)return n;if(b.isFunction(c))c=c.call(e,d)||"";c.jquery&&c.length>0?f.empty().append(c.css({display:"block"})):
f.html(c);h.queue("fx",function(l){function k(x){m=m.not(x);if(m.length===0){d.redraw();d.rendered===u&&d.reposition(d.cache.event);l()}}var m=b("img:not([height]):not([width])",f);m.each(function(x,E){var I=["abort","error","load","unload",""].join(".qtip-image ");b(this).bind(I,function(){clearTimeout(d.timers.img[x]);k(this)});(function B(){if(E.height)return k(E);d.timers.img[x]=setTimeout(B,20)})();return u});m.length===0&&k(m)});return d}function j(c,f,l,k){function m(y){if(h.hasClass(O))return n;
G.show.trigger("qtip-"+o+"-inactive");clearTimeout(d.timers.show);clearTimeout(d.timers.hide);var w=function(){d.show(y)};if(a.show.delay>0)d.timers.show=setTimeout(w,a.show.delay);else w()}function x(y){if(h.hasClass(O))return n;var w=b(y.relatedTarget||y.target).parents(T)[0]===h[0],S=b(y.relatedTarget||y.target)[0]===G.show[0];clearTimeout(d.timers.show);clearTimeout(d.timers.hide);if(a.hide.fixed&&(C.target==="mouse"&&w||/mouse(out|leave|move)/.test(y.type)&&(w||S))){y.stopPropagation();y.preventDefault();
return n}h.stop(1,1);if(a.hide.delay>0)d.timers.hide=setTimeout(function(){d.hide(y)},a.hide.delay);else d.hide(y)}function E(y){if(h.hasClass(O))return n;clearTimeout(d.timers.inactive);d.timers.inactive=setTimeout(function(){d.hide(y)},a.hide.inactive)}function I(y){if(!d.cache.processing){d.cache.processing=1;i()&&d.reposition(y);d.cache.processing=0}}var B=".qtip-"+o,C=a.position,G={show:a.show.target,hide:a.hide.target,container:C.container[0]===v?document:C.container},N={show:String(a.show.event).split(" "),
hide:String(a.hide.event).split(" ")},P=b.browser.msie&&parseInt(b.browser.version,10)===6;if(l){if(a.hide.fixed){G.hide=G.hide.add(h);h.bind("mouseover"+B,function(){h.hasClass(O)||clearTimeout(d.timers.hide)})}h.bind("mouseenter"+B+" mouseleave"+B,function(y){d[y.type==="mouseenter"?"focus":"blur"](y)})}if(f){if("number"===typeof a.hide.inactive){G.show.bind("qtip-"+o+"-inactive",E);b.each(b.fn.qtip.inactiveEvents,function(y,w){G.hide.add(d.elements.tooltip).bind(w+B+"-inactive",E)})}b.each(N.hide,
function(y,w){var S=b.inArray(w,N.show);if(S>-1&&b(G.hide).add(G.show).length===b(G.hide).length||w==="unfocus"){G.show.bind(w+B,function(K){i()?x(K):m(K)});delete N.show[S]}else G.hide.bind(w+B,x)})}c&&b.each(N.show,function(y,w){G.show.bind(w+B,m)});if(k){if(C.adjust.resize||C.viewport)b(b.event.special.resize?C.viewport:M).bind("resize"+B,I);if(C.viewport||P&&h.css("position")==="fixed")b(C.viewport).bind("scroll"+B,I);/unfocus/i.test(a.hide.event)&&b(document).bind("mousedown"+B,function(y){b(y.target).parents(T).length===
0&&b(y.target).add(e).length>1&&i()&&!h.hasClass(O)&&d.hide(y)});C.target==="mouse"&&b(document).bind("mousemove"+B,function(y){if(C.adjust.mouse&&!h.hasClass(O)&&i())d.reposition(y||b.fn.qtip.mouse)})}}function t(c,f,l,k){k=parseInt(k,10)!==0;var m=".qtip-"+o;f={show:c?a.show.target:F,hide:f?a.hide.target:F,tooltip:l?d.elements.tooltip:F,content:l?d.elements.content:F,container:k?a.position.container[0]===v?document:a.position.container:F,window:k?M:F};if(d.rendered)b([]).pushStack(b.grep([f.show,
f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(m);else c&&f.show.unbind(m+"-create")}var d=this,v=document.body,r=J+"-"+o,h;d.id=o;d.rendered=n;d.elements={target:e};d.timers={img:[]};d.options=a;d.plugins={};d.cache={event:{},target:F,disabled:n,lastFocus:v};b.extend(d,{render:function(c){if(d.rendered)return n;var f=d.elements,l=a.content.text,k=a.content.title.text,m=b.Event("tooltiprender");e.attr({"aria-owns":r,"aria-controls":r,"aria-haspopup":u,"aria-describedby":r});
h=f.tooltip=b("<div/>").attr({id:r,"class":J+" qtip ui-helper-reset "+a.style.classes,role:"alert","aria-live":"polite","aria-atomic":n,"aria-describedby":r+"-content","aria-hidden":u}).toggleClass(O,d.cache.disabled).data("qtip",d).appendTo(a.position.container).append(f.content=b("<div />",{"class":J+"-content",id:r+"-content","aria-atomic":u}));d.rendered=u;if(k){A();D(k)}H(l);b.each(b.fn.qtip.plugins,function(){this.initialize==="render"&&this(d)});j(1,1,1,1);b.each(a.events,function(x,E){if(E)h.bind(x===
"toggle"?"tooltipshow tooltiphide":"tooltip"+x,E)});h.queue("fx",function(x){m.originalEvent=d.cache.event;h.trigger(m,[d]);if(a.show.ready||c){h.hide();d.show(d.cache.event)}x()});return d},get:function(c){switch(c.toLowerCase()){case "dimensions":c={height:h.outerHeight(),width:h.outerWidth()};break;case "offset":c=p(h[0],a.position.container[0]);break;default:c=g(c.toLowerCase());c=c[0].precedance?c[0].string():c[0].jquery?c[0]:c[0][c[1]];break}return c},set:function(c,f){c=c.toLowerCase();var l=
g(c),k=d.elements,m,x,E,I={builtin:{"^id$":function(){var B=f===u?b.fn.qtip.nextid:f,C=J+"-"+B;if(B!==n&&B.length>0&&!b("#"+C).length){h[0].id=C;k.content[0].id=C+"-content";k.title[0].id=C+"-title"}},"^content.text$":function(){H(f)},"^content.title.text$":function(){if(!f)return s();!d.elements.title&&f&&A();D(f)},"^content.title.button$":function(){var B=d.elements.button,C=d.elements.title;if(d.rendered)if(f){C||A();q()}else B.remove()},"^position.(my|at)$":function(){var B=/my$/i.test(c)?"my":
"at";if("string"===typeof f)a.position[B]=new b.fn.qtip.plugins.Corner(f)},"^position.container$":function(){d.rendered===u&&h.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(B,C,G,N){var P=c.search(/fixed/i)>-1?[0,[0,1,1,1]]:[c.substr(0,3),c.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(P[0])B[C]=N;t.apply(d,P[1]);if(P[0])B[C]=G;j.apply(d,P[1])},"^show.ready$":function(){d.rendered===n&&d.show()},"^style.classes$":function(){h.attr("class",J+" qtip ui-helper-reset "+f)},"^style.widget|content.title":z,
"^events.(render|show|move|hide|focus|blur)$":function(B,C,G){k.tooltip[(b.isFunction(f)?"":"un")+"bind"]("tooltip"+C,G)},"^position.(my|at|adjust|target|container)|style|content":function(){d.reposition()}}};b.each(d.plugins,function(B){if("object"===typeof this.checks)I[B]=this.checks});m=l[0][l[1]];l[0][l[1]]=f.nodeType?b(f):f;W(a);for(x in I)for(E in I[x])RegExp(E,"i").test(c)&&I[x][E].call(d,l[0],l[1],f,m);return d},toggle:function(c,f){function l(){if(c)b.browser.msie&&h[0].style.removeAttribute("filter");
else h.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(d.rendered===n)return n;var k=c?"show":"hide",m=a[k],x=i();if((typeof c).search("boolean|number"))c=!x;if(!x&&!c||h.is(":animated"))return d;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(d.cache.event.type)&&f.target===a.show.target[0]&&h.has(f.relatedTarget).length)return d;d.cache.event=b.extend({},f)}x=b.Event("tooltip"+k);x.originalEvent=f?d.cache.event:F;h.trigger(x,[d,90]);if(x.isDefaultPrevented())return d;
h.attr("aria-hidden",!!!c);if(c){h.hide().css({visibility:""});d.focus(f);d.reposition(f,0);m.solo&&b(T).not(h).qtip("hide")}else{clearTimeout(d.timers.show);d.blur(f)}h.stop(1,1);if(b.isFunction(m.effect)){m.effect.call(h,d);h.queue("fx",function(E){l.call(this,E);E()})}else if(m.effect===n){h[k]();l.call(h)}else h.fadeTo(90,c?1:0,l);c&&m.target.trigger("qtip-"+o+"-inactive");return b.fn.qtip.lastShown=d},show:function(c){d.toggle(u,c)},hide:function(c){d.toggle(n,c)},focus:function(c){if(d.rendered===
n)return n;var f=b(T),l=parseInt(h[0].style.zIndex,10),k=b.fn.qtip.zindex+f.length;c=b.extend({},c);if(!h.hasClass(V)){if(l!==k){f.each(function(){if(this.style.zIndex>l)this.style.zIndex-=1});b(T+"."+V).qtip("blur",c)}d.cache.lastFocus=document.activeElement;f=b.Event("tooltipfocus");f.originalEvent=c;h.trigger(f,[d,k]);if(!f.isDefaultPrevented())h.addClass(V)[0].style.zIndex=k}return d},blur:function(c){c=b.extend({},c);var f;h.removeClass(V);f=b.Event("tooltipblur");f.originalEvent=c;h.trigger(f,
[d])},reposition:function(c,f){if(d.rendered===n)return n;var l=a.position.target,k=a.position,m=k.my,x=k.at,E=k.adjust,I=h.outerWidth(),B=h.outerHeight(),C=0,G=0,N=b.Event("tooltipmove"),P=h.css("position")==="fixed",y=k.viewport.jquery?k.viewport:b(M),w={left:0,top:0},S={left:function(K){var L=y.scrollLeft,Q=x.x==="left"?C:x.x==="right"?-C:-C/2,U=L-K;L=K+I-y.width-L;Q=(m.x==="left"?I:m.x==="right"?-I:-I/2)-(m.precedance==="x"||m.x===m.y?Q:0);if(U>0&&(m.x!=="left"||L>0))w.left-=Q;else if(L>0&&(m.x!==
"right"||U>0))w.left-=(m.x==="center"?-1:1)*Q+2*E.x;if(w.left<0&&-w.left>L)w.left=K;return w.left-K},top:function(K){var L=y.scrollTop,Q=x.y==="top"?G:x.y==="bottom"?-G:-G/2,U=L-K;L=K+B-y.height-L;Q=(m.y==="top"?B:m.y==="bottom"?-B:-B/2)-(m.precedance==="y"||m.x===m.y?Q:0);if(U>0&&(m.y!=="top"||L>0))w.top-=Q;else if(L>0&&(m.y!=="bottom"||U>0))w.top-=(m.y==="center"?-1:1)*Q+2*E.y;if(w.top<0&&-w.top>L)w.top=K;return w.top-K}};f=f===R||!!f||n;y=!y?n:{elem:y,height:y[(y[0]===M?"h":"outerH")+"eight"](),
width:y[(y[0]===M?"w":"outerW")+"idth"](),scrollLeft:y.scrollLeft(),scrollTop:y.scrollTop()};if(l==="mouse"){x={x:"left",y:"top"};c=c&&(c.type==="resize"||c.type==="scroll")?d.cache.event:E.mouse||!c||!c.pageX?b.extend({},b.fn.qtip.mouse):c;w={top:c.pageY,left:c.pageX}}else{if(l==="event")l=c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?d.cache.target=b(c.target):d.cache.target;l=b(l).eq(0);if(l.length===0)return d;else if(l[0]===document||l[0]===M){C=l.width();G=l.height();if(l[0]===M)w={top:P?
0:y.scrollTop,left:P?0:y.scrollLeft}}else if(l.is("area")&&b.fn.qtip.plugins.imagemap){w=b.fn.qtip.plugins.imagemap(l,x);C=w.width;G=w.height;w=w.offset}else{C=l.outerWidth();G=l.outerHeight();w=p(l[0],k.container[0])}w.left+=x.x==="right"?C:x.x==="center"?C/2:0;w.top+=x.y==="bottom"?G:x.y==="center"?G/2:0}w.left+=E.x+(m.x==="right"?-I:m.x==="center"?-I/2:0);w.top+=E.y+(m.y==="bottom"?-B:m.y==="center"?-B/2:0);w.adjusted=k.viewport.jquery&&l[0]!==M&&l[0]!==v?{left:S.left(w.left),top:S.top(w.top)}:
{left:0,top:0};h.attr("class",function(){return b(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(J+"-pos-"+m.abbreviation());N.originalEvent=b.extend({},c);h.trigger(N,[d,w,y.elem]);if(N.isDefaultPrevented())return d;delete w.adjusted;if(!f||!isNaN(w.left,w.top))h.css(w);else if(i()&&b.isFunction(k.effect)){k.effect.call(h,d,w);h.queue(function(K){b(this).css({opacity:"",height:""});b.browser.msie&&this.style&&this.style.removeAttribute("filter");K()})}return d},redraw:function(){if(!d.rendered||
!(b.browser.msie&&b.browser.version<8))return n;var c=J+"-fluid",f;h.css({width:"auto",height:"auto"}).addClass(c);f={height:h.outerHeight(),width:h.outerWidth()};b.each(["width","height"],function(l,k){var m=parseInt(h.css("max-"+k),10)||0,x=parseInt(h.css("min-"+k),10)||0;f[k]=m+x?Math.min(Math.max(f[k],x),m):f[k]});h.css(f).removeClass(c)},disable:function(c){var f=O;if("boolean"!==typeof c)c=!(h.hasClass(f)||d.cache.disabled);if(d.rendered){h.toggleClass(f,c);h.attr("aria-disabled",c)}else d.cache.disabled=
!!c;return d},destroy:function(){var c=e.data("oldtitle");if(d.rendered){h.remove();b.each(d.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(d.timers.show);clearTimeout(d.timers.hide);t(1,1,1,1);e.removeData("qtip");c&&e.attr("title",c);e.removeAttr("aria-describedby");return e}})}function aa(e,a){var o,g,p=b(this),i=b(document.body),z=this===document?i:p;g=p.metadata?p.metadata(a.metadata):F;var s=b.extend(u,{},b.fn.qtip.defaults,a,W((g&&a.metadata.type==="html5"?g[a.metadata.name]:
F)||g));p.removeData("metadata");g=s.position;if("boolean"===typeof s.content.text)if(s.content.attr!==n&&p.attr(s.content.attr))s.content.text=p.attr(s.content.attr);else return n;if(g.container===n)g.container=i;if(g.target===n)g.target=z;if(s.show.target===n)s.show.target=z;if(s.hide.target===n)s.hide.target=z;if(s.position.viewport===u)s.position.viewport=g.container;g.at=new b.fn.qtip.plugins.Corner(g.at);g.my=new b.fn.qtip.plugins.Corner(g.my);if(p.data("qtip"))if(s.overwrite)p.qtip("destroy");
else if(s.overwrite===n)return n;p.attr("title")&&p.data("oldtitle",p.attr("title")).removeAttr("title");o=new Z(p,s,e);p.data("qtip",o);p.bind("remove.qtip",function(){o.destroy()});return o}function ba(e){var a=this,o=e.elements.tooltip,g=e.options.content.ajax;a.checks={"^content.ajax":function(p,i){if(i==="once")a.once();else g&&g.url&&a.load()}};b.extend(a,{init:function(){if(g&&g.url){a.load();o.one("tooltipshow",a.once)}},once:function(){g.once?a.destroy():o.bind("tooltipshow.qtip-ajax",a.load)},
load:function(){b.ajax(b.extend({success:function(p){e.set("content.text",p)},error:function(p,i,z){e.set("content.text",i+": "+z)},context:e},g));return a},destroy:function(){o.unbind(".qtip-ajax")}});a.init()}function Y(e,a,o){var g=Math.ceil(a/2),p=Math.ceil(o/2);a={bottomright:[[0,0],[a,o],[a,0]],bottomleft:[[0,0],[a,0],[0,o]],topright:[[0,o],[a,0],[a,o]],topleft:[[0,0],[0,o],[a,o]],topcenter:[[0,o],[g,0],[a,o]],bottomcenter:[[0,0],[a,0],[g,o]],rightcenter:[[0,0],[a,p],[0,o]],leftcenter:[[a,0],
[a,o],[0,p]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=a.topleft;return a[e.string()]}function ca(e){function a(j,t,d){if(i.tip){j=b.extend({},g.corner);t=d.adjusted;var v;if(g.corner.fixed!==u){if(t.left)j.x=j.x==="center"?t.left>0?"left":"right":j.x==="left"?"right":"left";if(t.top)j.y=j.y==="center"?t.top>0?"top":"bottom":j.y==="top"?"bottom":"top";if(j.string()!==s.corner&&(s.top!==t.top||s.left!==t.left))v=g.update(j)}v||(v=g.position(j,0));if(v.right!==
R)v.left=v.right;if(v.bottom!==R)v.top=v.bottom;v.option=Math.max(0,p.offset);d.left-=v.left.charAt?v.option:(v.right?-1:1)*v.left;d.top-=v.top.charAt?v.option:(v.bottom?-1:1)*v.top;s.left=t.left;s.top=t.top;s.corner=j.string()}}function o(j,t,d){t=!t?j[j.precedance]:t;t="border-"+t+"-width";j=parseInt((i.titlebar&&j.y==="top"?i.titlebar:i.content).css(t),10);return(d?j||parseInt(z.css(t),10):j)||0}var g=this,p=e.options.style.tip,i=e.elements,z=i.tooltip,s={top:0,left:0,corner:""},q={width:p.width,
height:p.height},A={},D=p.border||0,H=p.method||n;g.corner=F;g.mimic=F;g.checks={"^position.my|style.tip.(corner|mimic|method|border)$":function(){g.init()||g.destroy();e.reposition()},"^style.tip.(height|width)$":function(){q={width:p.width,height:p.height};g.create();g.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){i.tip&&g.update()}};b.extend(g,{init:function(){var j=g.detectCorner();if(j){if(H!=="polygon")H=b("<canvas />")[0].getContext?"canvas":b.browser.msie?
"vml":"polygon";g.create();g.update();z.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",a)}return j},detectCorner:function(){var j=p.corner,t=e.options.position,d=t.at;t=t.my.string?t.my.string():t.my;if(j===n||t===n&&d===n)return n;else if(j===u)g.corner=new b.fn.qtip.plugins.Corner(t);else if(!j.string){g.corner=new b.fn.qtip.plugins.Corner(j);g.corner.fixed=u}return g.corner.string()!=="centercenter"},detectColours:function(){var j=i.tip.css({backgroundColor:"",border:""}),t=g.corner,d=t[t.precedance],
v="border-"+d+"-color";d="border"+d.charAt(0)+d.substr(1)+"Color";var r=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;t=i.titlebar&&(t.y==="top"||t.y==="center"&&j.position().top+q.height/2+p.offset<i.titlebar.outerHeight(1))?i.titlebar:i.content;A.fill=j.css("background-color")||"transparent";A.border=j[0].style[d];if(!A.fill||r.test(A.fill)){A.fill=t.css("background-color");if(r.test(A.fill))A.fill=z.css("background-color")}if(!A.border||r.test(A.border)){A.border=z.css(v);if(r.test(A.border)||A.border===
b(document.body).css("color"))A.border=t.css(v)||A.fill}b("*",j).add(j).css("background-color","transparent").css("border",0)},create:function(){var j=q.width,t=q.height;i.tip&&i.tip.remove();i.tip=b("<div />",{"class":"ui-tooltip-tip"}).css(q).prependTo(z);switch(H){case "canvas":b('<canvas height="'+t+'" width="'+j+'" />').appendTo(i.tip)[0].getContext("2d").save();break;case "vml":j='<vml:shape coordorigin="0,0" coordsize="'+j+" "+t+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+
j+"px; height:"+t+'px;"></vml:shape>';i.tip.html(D?j+=j:j);break;case "polygon":i.tip.append('<div class="ui-tooltip-tip-inner" />').append(D?'<div class="ui-tooltip-tip-border" />':"");break}},update:function(j){var t=i.tip.children(),d=q.width,v=q.height,r=p.mimic,h,c,f,l,k;if(!j)j=g.corner;if(r===n)r=j;else{r=new b.fn.qtip.plugins.Corner(r);r.precedance=j.precedance;if(r.x==="inherit")r.x=j.x;else if(r.y==="inherit")r.y=j.y;else if(r.x===r.y)r[j.precedance]=j[j.precedance]}D=p.border===u?o(j,F,
u):p.border;h=D>0?0:1;l=r.string().indexOf("center")>-1;k=Math[/b|r/.test(r[r.precedance==="y"?"x":"y"])?"ceil":"floor"];j=g.position(j,1);g.detectColours();switch(H){case "canvas":c=t[0].getContext("2d");c.restore&&c.restore();c.clearRect(0,0,3E3,3E3);for(f=Y(r,d,v);h<2;h++){if(h){c.save();c.translate(k((r.x==="left"?1:r.x==="right"?-1:0)*(D+1)*(r.precedance==="y"?0.5:1)),k((r.y==="top"?1:r.y==="bottom"?-1:0)*(D+1)*(r.precedance==="x"?0.5:1)))}c.beginPath();c.moveTo(f[0][0],f[0][1]);c.lineTo(f[1][0],
f[1][1]);c.lineTo(f[2][0],f[2][1]);c.closePath();c.fillStyle=A[h?"fill":"border"];c.fill()}break;case "vml":f=Y(r,d,v);f="m"+f[0][0]+","+f[0][1]+" l"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" xe";t.each(function(m){b(this).attr({path:f,fillcolor:A[m||!D?"fill":"border"]}).css("antialias",""+l)});break;case "polygon":t.removeAttr("style").css({position:"absolute",left:0,top:0}).each(function(m){var x={x:r.precedance==="x"?r.x==="left"?"right":"left":r.x,y:r.precedance==="y"?r.y==="top"?"bottom":
"top":r.y},E=r.x==="center"?["left","right",x.y,v,d]:["top","bottom",x.x,d,v];m=A[!m&&D?"border":"fill"];r.x==="center"||r.y==="center"?b(this).css("border-"+E[2],E[3]+"px solid "+m).css("border-"+E[0],k(E[4]/2)+"px dashed transparent").css("border-"+E[1],k(E[4]/2)+"px dashed transparent"):b(this).css("border-width",k(v/2)+"px "+k(d/2)+"px").css("border-"+x.x,k(d/2)+"px solid "+m).css("border-"+x.y,k(v/2)+"px solid "+m)});break}if(H!=="canvas"&&D){h=[D*2.75,D];h=r.precedance==="y"?[r.x==="left"?h[1]:
r.x==="right"?-h[1]:0,r.y==="bottom"?-h[0]:h[0]]:[r.x==="left"?h[0]:-h[0],r.y==="bottom"?-h[1]:r.y==="top"?h[1]:0];t.eq(1).css({left:h[0],top:h[1]})}return j},position:function(j,t){var d=i.tip,v={},r=Math.max(0,p.offset),h,c;if(p.corner===n||!d)return n;j=j||g.corner;h=j.precedance;c=q[h==="x"?"width":"height"];b.each(h==="y"?[j.x,j.y]:[j.y,j.x],function(f,l){var k;if(l==="center"){k=h==="y"?"left":"top";v[k]="50%";v["margin-"+k]=-Math.floor(c/2)+r}else{o(j,l,u);if(f||D===R)k=o(j,l);else{k=b.browser.mozilla;
var m=j.y+(k?"":"-")+j.x;k=(k?"-moz-":b.browser.webkit?"-webkit-":"")+(k?"border-radius-"+m:"border-"+m+"-radius");k=parseInt((i.titlebar&&j.y==="top"?i.titlebar:i.content).css(k),10)||parseInt(z.css(k),10)||0;k=r+k}v[l]=k}});v[j[h]]-=c;t&&d.css({top:"",bottom:"",left:"",right:"",margin:""}).css(v);return v},destroy:function(){i.tip&&i.tip.remove();z.unbind(".qtip-tip")}});g.init()}function da(e){var a=this,o=e.options.show.modal,g=e.elements,p=g.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();
g.overlay.toggle(p.is(":visible"))}};b.extend(a,{init:function(){if(o.on){p.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(i,z,s){i=i.type.replace("tooltip","");b.isFunction(o[i])?o[i].call(g.overlay,s,z):a[i](s)});a.create();o.blur===u&&g.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var i=b("#qtip-overlay");if(i.length)g.overlay=i;else{g.overlay=b("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",
top:0,left:0,display:"none",zIndex:parseInt(p.css("z-index"),10)-1}}).appendTo(document.body);b(M).bind("resize.qtipmodal",function(){g.overlay.css({height:Math.max(b(M).height(),b(document).height()),width:Math.max(b(M).width(),b(document).width())})}).trigger("resize")}},toggle:function(i){var z=g.overlay,s=e.options.show.modal.effect,q=i?"show":"hide";z.stop(u,n);if(b.isFunction(s))s.call(z,i);else s===n?z[q]():z.fadeTo(90,i?0.7:0,function(){i||b(this).hide()})},show:function(){a.toggle(u)},hide:function(){a.toggle(n)},
destroy:function(){var i=u;b("*").each(function(){var z=b(this).data("qtip");if(z&&z.id!==e.id&&z.options.show.modal)return i=n});if(i){g.overlay.remove();b(M).unbind(".qtipmodal")}else g.overlay.unbind(".qtipmodal"+e.id);p.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function ea(e){var a=this,o=e.elements,g=o.tooltip,p=".bgiframe-"+e.id,i="tooltipmove"+p+" tooltipshow"+p;b.extend(a,{init:function(){o.bgiframe=b('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');
o.bgiframe.appendTo(g);g.bind(i,a.adjust)},adjust:function(){var z=e.get("dimensions"),s=e.plugins.tip,q=e.elements.tip,A;A=parseInt(g.css("border-left-width"),10)||0;A={left:-A,top:-A};if(s&&q){s=s.corner.precedance==="x"?["width","left"]:["height","top"];A[s[1]]-=q[s[0]]()}o.bgiframe.css(A).css(z)},destroy:function(){a.iframe.remove();g.unbind(i)}});a.init()}var u=true,n=false,F=null,J="ui-tooltip",X="ui-widget",O="ui-state-disabled",T=".qtip."+J,V=J+"-focus",$="-31000px";b.fn.qtip=function(e,a,
o){var g=String(e).toLowerCase(),p=F,i=g==="disable"?[u]:b.makeArray(arguments).slice(1,10),z=i[i.length-1],s;if(!arguments.length&&this.data("qtip")||g==="api")return(s=this.data("qtip"))?s:R;else if("string"===typeof e){this.each(function(){var q=b(this).data("qtip");if(!q)return u;if(/option|set/.test(g)&&a)if(o!==R)q.set(a,o);else p=q.get(a);else{if(!q.rendered&&(g==="show"||g==="toggle")){if(z&&z.timeStamp)q.cache.event=z;q.render(1)}else if(g==="enable"){g="disable";i=[n]}q[g]&&q[g].apply(q[g],
i)}});return p!==F?p:this}else if("object"===typeof e||!arguments.length){s=W(b.extend(u,{},e));return b.fn.qtip.bind.call(this,s,z)}};b.fn.qtip.bind=function(e,a){return this.each(function(){function o(A){function D(){q.render(typeof A==="object"||g.show.ready);p.show.unbind(i.show);p.hide.unbind(i.hide)}if(q.cache.disabled)return n;q.cache.event=b.extend({},A);if(g.show.delay>0){clearTimeout(q.timers.show);q.timers.show=setTimeout(D,g.show.delay);i.show!==i.hide&&p.hide.bind(i.hide,function(){clearTimeout(q.timers.show)})}else D()}
var g,p,i,z=e.id=!e.id||e.id===n||e.id.length<1||b("#"+J+"-"+e.id).length?b.fn.qtip.nextid++:e.id,s=".qtip-"+z+"-create",q=aa.call(this,z,e);if(q===n)return u;g=q.options;b.each(b.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(q)});p={show:g.show.target,hide:g.hide.target};i={show:String(g.show.event).replace(" ",s+" ")+s,hide:String(g.hide.event).replace(" ",s+" ")+s};p.show.bind(i.show,o);if(g.show.ready||g.prerender)o(a)})};b.each({attr:function(e){var a=b(this),o=a.data("qtip");
return arguments.length===1&&e==="title"&&o&&o.rendered===u?a.data("oldtitle"):F},remove:b.ui?F:function(e,a){b(this).each(function(){if(!a)if(!e||b.filter(e,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})})}},function(e,a){if(!a)return u;b.fn["Old"+e]=b.fn[e];b.fn[e]=function(){return a.apply(this,arguments)||b.fn["Old"+e].apply(this,arguments)}});b(document).ready(function(){var e=document,a=e.body;b(e).bind("mousemove.qtip",function(o){b.fn.qtip.mouse={pageX:o.pageX,
pageY:o.pageY}});e.activeElement===R&&e.addEventListener("focus",function(o){if(o&&o.target)e.activeElement=o.target===e?a:o.target},true)});b.fn.qtip.version="2.0.0pre";b.fn.qtip.nextid=0;b.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");b.fn.qtip.zindex=15E3;b.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();
this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),o=this.y.substr(0,1);return a===o?a:a==="c"||a!=="c"&&o!=="c"?o+a:a+o}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};b.fn.qtip.defaults={prerender:n,id:n,overwrite:u,
metadata:{type:"class"},content:{text:u,attr:"title",title:{text:n,button:n}},position:{my:"top left",at:"bottom right",target:n,container:n,viewport:n,adjust:{x:0,y:0,mouse:u,resize:u},effect:u},show:{target:n,event:"mouseenter",effect:u,delay:90,solo:n,ready:n},hide:{target:n,event:"mouseleave",effect:u,delay:0,fixed:n,inactive:n},style:{classes:"",widget:n},events:{render:F,move:F,show:F,hide:F,toggle:F,focus:F,blur:F}};b.fn.qtip.plugins.ajax=function(e){var a=e.plugins.ajax;return"object"===typeof a?
a:e.plugins.ajax=new ba(e)};b.fn.qtip.plugins.ajax.initialize="render";b.fn.qtip.plugins.ajax.sanitize=function(e){var a=e.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=e.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};b.extend(u,b.fn.qtip.defaults,{content:{ajax:{once:u}}});b.fn.qtip.plugins.tip=function(e){var a=e.plugins.tip;return"object"===typeof a?a:e.plugins.tip=new ca(e)};b.fn.qtip.plugins.tip.initialize="render";b.fn.qtip.plugins.tip.sanitize=function(e){var a=
e.style;if(a&&"tip"in a){a=e.style.tip;if(typeof a!=="object")e.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=u;if(typeof a.method!=="string")a.method=u;if(!/canvas|polygon/i.test(a.method))a.method=u;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&delete a.height;typeof a.border!=="number"&&a.border!==u&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};b.extend(u,b.fn.qtip.defaults,{style:{tip:{corner:u,mimic:n,method:u,width:8,height:8,
border:u,offset:0}}});b.fn.qtip.plugins.imagemap=function(e,a){function o(H,j){for(var t=0,d=1,v=1,r=0,h=0,c=H.width,f=H.height;c>0&&f>0&&d>0&&v>0;){c=Math.floor(c/2);f=Math.floor(f/2);if(a.x==="left")d=c;else if(a.x==="right")d=H.width-c;else d+=Math.floor(c/2);if(a.y==="top")v=f;else if(a.y==="bottom")v=H.height-f;else v+=Math.floor(f/2);for(t=j.length;t--;){if(j.length<2)break;r=j[t][0]-H.offset.left;h=j[t][1]-H.offset.top;if(a.x==="left"&&r>=d||a.x==="right"&&r<=d||a.x==="center"&&(r<d||r>H.width-
d)||a.y==="top"&&h>=v||a.y==="bottom"&&h<=v||a.y==="center"&&(h<v||h>H.height-v))j.splice(t,1)}}return{left:j[0][0],top:j[0][1]}}var g=e.attr("shape").toLowerCase(),p=e.attr("coords").split(","),i=[],z=b('img[usemap="#'+e.parent("map").attr("name")+'"]'),s=z.offset(),q={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},A=0,D=0;s.left+=Math.ceil((z.outerWidth()-z.width())/2);s.top+=Math.ceil((z.outerHeight()-z.height())/2);if(g==="poly")for(A=p.length;A--;){D=[parseInt(p[--A],10),parseInt(p[A+
1],10)];if(D[0]>q.offset.right)q.offset.right=D[0];if(D[0]<q.offset.left)q.offset.left=D[0];if(D[1]>q.offset.bottom)q.offset.bottom=D[1];if(D[1]<q.offset.top)q.offset.top=D[1];i.push(D)}else i=b.map(p,function(H){return parseInt(H,10)});switch(g){case "rect":q={width:Math.abs(i[2]-i[0]),height:Math.abs(i[3]-i[1]),offset:{left:i[0],top:i[1]}};break;case "circle":q={width:i[2]+2,height:i[2]+2,offset:{left:i[0],top:i[1]}};break;case "poly":b.extend(q,{width:Math.abs(q.offset.right-q.offset.left),height:Math.abs(q.offset.bottom-
q.offset.top)});q.offset=a.string()==="centercenter"?{left:q.offset.left+q.width/2,top:q.offset.top+q.height/2}:o(q,i.slice());q.width=q.height=0;break}q.offset.left+=s.left;q.offset.top+=s.top;return q};b.fn.qtip.plugins.modal=function(e){var a=e.plugins.modal;return"object"===typeof a?a:e.plugins.modal=new da(e)};b.fn.qtip.plugins.modal.initialize="render";b.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on===
"undefined")e.show.modal.on=u};b.extend(u,b.fn.qtip.defaults,{show:{modal:{on:n,effect:u,blur:u}}});b.fn.qtip.plugins.bgiframe=function(e){if(!(b.browser.msie&&/^6\.[0-9]/.test(b.browser.version)&&b("select, object").length))return n;var a=e.plugins.bgiframe;if(a)return a;else{e.plugins.bgiframe=new ea(e);return e.plugins.bgiframe}};b.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
