/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Tue Feb 1 18:54:31 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(a,N,U){function aa(){var c=N.console;return c&&(c.error||c.log||a.noop).apply(c,arguments)}function X(c){var b;if(!c||"object"!==typeof c)return p;if("object"!==typeof c.metadata)c.metadata={type:c.metadata};if("content"in c){if("object"!==typeof c.content||c.content.jquery)c.content={text:c.content};b=c.content.text||p;if(!a.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))c.content.text=p;if("title"in c.content){if("object"!==typeof c.content.title)c.content.title=
{text:c.content.title};b=c.content.title.text||p;if(!a.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))c.content.title.text=p}}if("position"in c)if("object"!==typeof c.position)c.position={my:c.position,at:c.position};if("show"in c)if("object"!==typeof c.show)c.show=c.show.jquery?{target:c.show}:{event:c.show};if("hide"in c)if("object"!==typeof c.hide)c.hide=c.hide.jquery?{target:c.hide}:{event:c.hide};if("style"in c)if("object"!==typeof c.style)c.style={classes:c.style};
a.each(a.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(c)});return c}function ba(c,b,h,j){function q(e){var f,m=e.split("."),t=b[m[0]];for(e=1;e<m.length;e+=1){f=t[m[e]];if(typeof f==="object"&&!f.jquery&&!f.precedance)t=t[m[e]];else break}return m[e]!==U?[t,m[e]]:[b,m[0]]}function g(e,f){var m={left:0,top:0},t=!a.fn.qtip.plugins.iOS,n,y;if(f){if(f.offsetParent!==u){m=g(f);m.left*=-1;m.top*=-1;m.left+=parseInt(a.css(f,"margin-left"),10)||0;m.top+=parseInt(a.css(f,"margin-top"),10)||0}else{m.left+=
u.scrollLeft;m.top+=u.scrollTop}if(f!==u)if(a.css(f,"overflow")!=="visible"){m.left-=f.scrollLeft;m.top-=f.scrollTop}}if(e.offsetParent){do{n=e.offsetParent;y=n===f;m.left+=e.offsetLeft-(t&&n&&!y?n.scrollLeft:0);m.top+=e.offsetTop-(t&&n&&!y?n.scrollTop:0)}while(e=n)}return m}function k(){return i.css("left")!==ca&&i.css("visibility")!=="hidden"}function z(){var e=d.elements,f=b.style.widget;i.toggleClass($,f);e.content.toggleClass($+"-content",f);e.titlebar&&e.titlebar.toggleClass($+"-header",f);
e.button&&e.button.toggleClass(O+"-icon",!f)}function o(){var e=d.elements;if(e.title){e.titlebar.remove();e.titlebar=e.title=e.button=G;d.reposition()}}function D(){var e=d.elements,f=b.content.title.button;e.button&&e.button.remove();e.button=f.jquery?f:a("<a />",{"class":"ui-state-default "+(b.style.widget?"":O+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));e.button.appendTo(e.titlebar).attr("role","button").hover(function(m){a(this).toggleClass("ui-state-hover",
m.type==="mouseenter")}).click(function(m){i.hasClass(T)||d.hide(m);return p}).bind("mousedown keydown mouseup keyup mouseout",function(m){a(this).toggleClass("ui-state-active ui-state-focus",m.type.substr(-4)==="down")});d.redraw()}function C(){var e=d.elements,f=F+"-title";e.titlebar&&o();e.titlebar=a("<div />",{"class":O+"-titlebar "+(b.style.widget?"ui-widget-header":"")}).append(e.title=a("<div />",{id:f,"class":O+"-title","aria-atomic":B})).insertBefore(e.content);if(b.content.title.button)D();
else d.rendered&&d.redraw()}function E(e){var f=d.elements.title;if(!d.rendered||!e)return p;if(a.isFunction(e))e=e.call(c,d)||"";e.jquery&&e.length>0?f.empty().append(e.css({display:"block"})):f.html(e);d.redraw();d.rendered&&k()&&d.reposition(d.cache.event)}function P(e){var f=d.elements.content;if(!d.rendered||!e)return p;if(a.isFunction(e))e=e.call(c,d)||"";e.jquery&&e.length>0?f.empty().append(e.css({display:"block"})):f.html(e);i.queue("fx",function(m){function t(y){n=n.not(y);if(n.length===
0){d.redraw();d.rendered&&k()&&d.reposition(d.cache.event);m()}}var n=f.find("img:not([height]):not([width])");n.each(function(y,H){var L=["abort","error","load","unload",""].join(".qtip-image ");a(this).bind(L,function(){clearTimeout(d.timers.img[y]);t(this)});(function A(){if(H.height)return t(H);d.timers.img[y]=setTimeout(A,20)})();return B});n.length===0&&t(n)});return d}function l(e,f,m,t){function n(s){if(i.hasClass(T))return p;w.show.trigger("qtip-"+h+"-inactive");clearTimeout(d.timers.show);
clearTimeout(d.timers.hide);var I=function(){d.show(s)};if(b.show.delay>0)d.timers.show=setTimeout(I,b.show.delay);else I()}function y(s){if(i.hasClass(T))return p;var I=a(s.relatedTarget||s.target),K=I.closest(Y)[0]===i[0];I=I[0]===w.show[0];clearTimeout(d.timers.show);clearTimeout(d.timers.hide);if(x.target==="mouse"&&K||b.hide.fixed&&/mouse(out|leave|move)/.test(s.type)&&(K||I)){s.stopPropagation();s.preventDefault();return p}i.stop(1,1);if(b.hide.delay>0)d.timers.hide=setTimeout(function(){d.hide(s)},
b.hide.delay);else d.hide(s)}function H(s){if(i.hasClass(T))return p;clearTimeout(d.timers.inactive);d.timers.inactive=setTimeout(function(){d.hide(s)},b.hide.inactive)}function L(s){k()&&d.reposition(s)}var A=".qtip-"+h,x=b.position,w={show:b.show.target,hide:b.hide.target,container:x.container[0]===u?document:x.container},R={show:String(b.show.event).split(" "),hide:String(b.hide.event).split(" ")},Q=a(document),J=a.browser.msie&&parseInt(a.browser.version,10)===6;if(m){if(b.hide.fixed){w.hide=
w.hide.add(i);i.bind("mouseover"+A,function(){i.hasClass(T)||clearTimeout(d.timers.hide)})}i.bind("mouseenter"+A+" mouseleave"+A,function(s){d[s.type==="mouseenter"?"focus":"blur"](s)})}if(f){if("number"===typeof b.hide.inactive){w.show.bind("qtip-"+h+"-inactive",H);a.each(a.fn.qtip.inactiveEvents,function(s,I){w.hide.add(d.elements.tooltip).bind(I+A+"-inactive",H)})}a.each(R.hide,function(s,I){var K=a.inArray(I,R.show),M=a(w.hide);if(K>-1&&M.add(w.show).length===M.length||I==="unfocus"){w.show.bind(I+
A,function(S){k()?y(S):n(S)});delete R.show[K]}else w.hide.bind(I+A,y)})}e&&a.each(R.show,function(s,I){w.show.bind(I+A,n)});if(t){if(x.adjust.resize||x.viewport)a(a.event.special.resize?x.viewport:N).bind("resize"+A,L);if(x.viewport||J&&i.css("position")==="fixed")a(x.viewport).bind("scroll"+A,L);/unfocus/i.test(b.hide.event)&&Q.bind("mousedown"+A,function(s){var I=a(s.target);I.parents(Y).length===0&&I.add(c).length>1&&k()&&!i.hasClass(T)&&d.hide(s)});x.target==="mouse"&&Q.bind("mousemove"+A,function(s){if(x.adjust.mouse&&
!i.hasClass(T)&&k())d.reposition(s||a.fn.qtip.mouse)})}}function r(e,f,m,t){t=parseInt(t,10)!==0;var n=".qtip-"+h;f={show:e?b.show.target:G,hide:f?b.hide.target:G,tooltip:m?d.elements.tooltip:G,content:m?d.elements.content:G,container:t?b.position.container[0]===u?document:b.position.container:G,window:t?N:G};if(d.rendered)a([]).pushStack(a.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(n);else e&&f.show.unbind(n+"-create")}var d=this,u=document.body,
F=O+"-"+h,v=0,i;d.id=h;d.rendered=p;d.elements={target:c};d.timers={img:[]};d.options=b;d.plugins={};d.cache={event:{},target:G,disabled:p,lastFocus:u,attr:j};a.extend(d,{render:function(e){if(d.rendered)return p;var f=d.elements,m=b.content.text,t=b.content.title.text,n=a.Event("tooltiprender");a.attr(c[0],"aria-describedby",F);i=f.tooltip=a("<div/>").attr({id:F,"class":O+" qtip ui-helper-reset "+b.style.classes,role:"alert","aria-live":"polite","aria-atomic":p,"aria-describedby":F+"-content","aria-hidden":B}).toggleClass(T,
d.cache.disabled).data("qtip",d).appendTo(b.position.container).append(f.content=a("<div />",{"class":O+"-content",id:F+"-content","aria-atomic":B}));d.rendered=B;if(t){C();E(t)}P(m);z();a.each(a.fn.qtip.plugins,function(){this.initialize==="render"&&this(d)});l(1,1,1,1);a.each(b.events,function(y,H){if(H)i.bind(y==="toggle"?"tooltipshow tooltiphide":"tooltip"+y,H)});i.css("visibility","hidden").queue("fx",function(y){n.originalEvent=d.cache.event;i.trigger(n,[d]);if(b.show.ready||e)d.show(d.cache.event);
y()});return d},get:function(e){switch(e.toLowerCase()){case "dimensions":e={height:i.outerHeight(),width:i.outerWidth()};break;case "offset":e=g(i[0],b.position.container[0]);break;default:e=q(e.toLowerCase());e=e[0].precedance?e[0].string():e[0].jquery?e[0]:e[0][e[1]];break}return e},set:function(e,f){function m(A,x){A=A.toLowerCase();var w=q(A),R,Q,J;R=w[0][w[1]];w[0][w[1]]=x.nodeType?a(x):x;for(Q in L)for(J in L[Q])RegExp(J,"i").test(A)&&L[Q][J].call(d,w[0],w[1],x,R)}var t=d.elements,n=/^position.(my|at|adjust|target|container)|style|content/i,
y=p,H,L={builtin:{"^id$":function(A,x,w){A=w===B?a.fn.qtip.nextid:w;x=O+"-"+A;if(A!==p&&A.length>0&&!a("#"+x).length){i[0].id=x;t.content[0].id=x+"-content";t.title[0].id=x+"-title"}},"^content.text$":function(A,x,w){P(w)},"^content.title.text$":function(A,x,w){if(!w)return o();!t.title&&w&&C();E(w)},"^content.title.button$":function(A,x,w){A=d.elements.button;x=d.elements.title;if(d.rendered)if(w){x||C();D()}else A.remove()},"^position.(my|at)$":function(A,x,w){if("string"===typeof w)A[x.substr(-2)]=
new a.fn.qtip.plugins.Corner(w)},"^position.container$":function(A,x,w){d.rendered&&i.appendTo(w)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(A,x,w,R){var Q=x.search(/fixed/i)>-1?[0,[0,1,1,1]]:[x.substr(0,3),x.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(Q[0])A[x]=R;r.apply(d,Q[1]);if(Q[0])A[x]=w;l.apply(d,Q[1])},"^show.ready$":function(){d.rendered||d.show()},"^style.classes$":function(A,x,w){a.attr(i[0],"class",O+" qtip ui-helper-reset "+w)},"^style.widget|content.title":z,"^events.(render|show|move|hide|focus|blur)$":function(A,
x,w){t.tooltip[(a.isFunction(w)?"":"un")+"bind"]("tooltip"+x,w)}}};a.each(d.plugins,function(A){if("object"===typeof this.checks)L[A]=this.checks});if("string"===typeof e){H=e;e={};e[H]=f}v=1;for(H in e){m(H,e[H]);y=n.test(H)||y}v=0;y&&k()&&d.rendered&&d.reposition();X(b);return d},toggle:function(e,f){function m(){if(e)a.browser.msie&&i[0].style.removeAttribute("filter");else i.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(!d.rendered)return p;var t=e?"show":"hide",
n=b[t],y=k();if((typeof e).search("boolean|number"))e=!y;if(y===e)return d;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(d.cache.event.type)&&f.target===b.show.target[0]&&i.has(f.relatedTarget).length)return d;d.cache.event=a.extend({},f)}y=a.Event("tooltip"+t);y.originalEvent=f?d.cache.event:G;i.trigger(y,[d,90]);if(y.isDefaultPrevented())return d;a.attr(i[0],"aria-hidden",!!!e);if(e){i.hide().css({visibility:""});d.focus(f);d.reposition(f,0);n.solo&&a(Y).not(i).qtip("hide",y)}else{clearTimeout(d.timers.show);
d.blur(f)}i.stop(1,1);if(a.isFunction(n.effect)){n.effect.call(i,d);i.queue("fx",function(H){m.call(this,H);H()})}else if(n.effect===p){i[t]();m.call(i)}else i.fadeTo(90,e?1:0,m);e&&n.target.trigger("qtip-"+h+"-inactive");return d},show:function(e){d.toggle(B,e)},hide:function(e){d.toggle(p,e)},focus:function(e){if(!d.rendered)return p;var f=a(Y),m=parseInt(i[0].style.zIndex,10),t=a.fn.qtip.zindex+f.length;e=a.extend({},e);if(!i.hasClass(Z)){if(m!==t){f.each(function(){if(this.style.zIndex>m)this.style.zIndex-=
1});f.filter("."+Z).qtip("blur",e)}d.cache.lastFocus=document.activeElement;f=a.Event("tooltipfocus");f.originalEvent=e;i.trigger(f,[d,t]);if(!f.isDefaultPrevented())i.addClass(Z)[0].style.zIndex=t}return d},blur:function(e){e=a.extend({},e);var f;i.removeClass(Z);f=a.Event("tooltipblur");f.originalEvent=e;i.trigger(f,[d])},reposition:function(e,f){if(!d.rendered||v)return p;v=B;var m=b.position.target,t=b.position,n=t.my,y=t.at,H=t.adjust,L=i.outerWidth(),A=i.outerHeight(),x=0,w=0,R=a.Event("tooltipmove"),
Q=i.css("position")==="fixed",J=t.viewport.jquery?t.viewport:a(N),s={left:0,top:0},I={left:function(K){var M=J.scrollLeft,S=y.x==="left"?x:y.x==="right"?-x:-x/2,V=M-K;M=K+L-J.width-M;S=(n.x==="left"?L:n.x==="right"?-L:-L/2)-(n.precedance==="x"||n.x===n.y?S:0);if(V>0&&(n.x!=="left"||M>0))s.left-=S;else if(M>0&&(n.x!=="right"||V>0))s.left-=(n.x==="center"?-1:1)*S+2*H.x;if(s.left<0&&-s.left>M)s.left=K;return s.left-K},top:function(K){var M=J.scrollTop,S=y.y==="top"?w:y.y==="bottom"?-w:-w/2,V=M-K;M=K+
A-J.height-M;S=(n.y==="top"?A:n.y==="bottom"?-A:-A/2)-(n.precedance==="y"||n.x===n.y?S:0);if(V>0&&(n.y!=="top"||M>0))s.top-=S;else if(M>0&&(n.y!=="bottom"||V>0))s.top-=(n.y==="center"?-1:1)*S+2*H.y;if(s.top<0&&-s.top>M)s.top=K;return s.top-K}};f=f===U||!!f||p;J=!J?p:{elem:J,height:J[(J[0]===N?"h":"outerH")+"eight"](),width:J[(J[0]===N?"w":"outerW")+"idth"](),scrollLeft:J.scrollLeft(),scrollTop:J.scrollTop()};if(m==="mouse"){y={x:"left",y:"top"};e=e&&(e.type==="resize"||e.type==="scroll")?d.cache.event:
H.mouse||!e||!e.pageX?a.extend({},a.fn.qtip.mouse):e;s={top:e.pageY,left:e.pageX}}else{if(m==="event")m=e&&e.target&&e.type!=="scroll"&&e.type!=="resize"?d.cache.target=a(e.target):d.cache.target;m=a(m).eq(0);if(m.length===0)return d;else if(m[0]===document||m[0]===N){x=m.width();w=m.height();if(m[0]===N)s={top:Q?0:J.scrollTop,left:Q?0:J.scrollLeft}}else if(m.is("area")&&a.fn.qtip.plugins.imagemap){s=a.fn.qtip.plugins.imagemap(m,y);x=s.width;w=s.height;s=s.offset}else if(m[0].namespaceURI=="http://www.w3.org/2000/svg"&&
a.fn.qtip.plugins.svg){s=a.fn.qtip.plugins.svg(m,y);x=s.width;w=s.height;s=s.offset}else{x=m.outerWidth();w=m.outerHeight();s=g(m[0],t.container[0])}s.left+=y.x==="right"?x:y.x==="center"?x/2:0;s.top+=y.y==="bottom"?w:y.y==="center"?w/2:0}s.left+=H.x+(n.x==="right"?-L:n.x==="center"?-L/2:0);s.top+=H.y+(n.y==="bottom"?-A:n.y==="center"?-A/2:0);s.adjusted=t.viewport.jquery&&m[0]!==N&&m[0]!==u?{left:I.left(s.left),top:I.top(s.top)}:{left:0,top:0};i.attr("class",function(){return a.attr(this,"class").replace(/ui-tooltip-pos-\w+/i,
"")}).addClass(O+"-pos-"+n.abbreviation());R.originalEvent=a.extend({},e);i.trigger(R,[d,s,J.elem]);if(R.isDefaultPrevented())return d;delete s.adjusted;if(!f||!isNaN(s.left,s.top))i.css(s);else if(k()&&a.isFunction(t.effect)){t.effect.call(i,d,s);i.queue(function(K){a(this).css({opacity:"",height:""});a.browser.msie&&this.style&&this.style.removeAttribute("filter");K()})}v=p;return d},redraw:function(){if(!d.rendered||!(a.browser.msie&&a.browser.version<8))return p;var e=O+"-fluid",f;i.css({width:"auto",
height:"auto"}).addClass(e);f={height:i.outerHeight(),width:i.outerWidth()};a.each(["width","height"],function(m,t){var n=parseInt(i.css("max-"+t),10)||0,y=parseInt(i.css("min-"+t),10)||0;f[t]=n+y?Math.min(Math.max(f[t],y),n):f[t]});i.css(f).removeClass(e)},disable:function(e){var f=T;if("boolean"!==typeof e)e=!(i.hasClass(f)||d.cache.disabled);if(d.rendered){i.toggleClass(f,e);a.attr(i[0],"aria-disabled",e)}else d.cache.disabled=!!e;return d},destroy:function(){var e=c[0],f=a.data(e,W);if(d.rendered){i.remove();
a.each(d.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(d.timers.show);clearTimeout(d.timers.hide);r(1,1,1,1);a.removeData(e,"qtip");f&&a.attr(e,"title",f);c.removeAttr("aria-describedby");return c}})}function da(c,b){var h,j,q,g,k=a(this),z=a(document.body),o=this===document?z:k;j=k.metadata?k.metadata(b.metadata):G;g=b.metadata.type==="html5"&&j?j[b.metadata.name]:G;var D=k.data(b.metadata.name||"qtipopts");try{D=typeof D==="string"?(new Function("return "+D))():D}catch(C){aa("Unable to parse HTML5 attribute data: "+
D)}g=a.extend(B,{},a.fn.qtip.defaults,b,typeof D==="object"?X(D):G,X(g||j));j&&a.removeData(this,"metadata");j=g.position;g.id=c;if("boolean"===typeof g.content.text){q=k.attr(g.content.attr);if(g.content.attr!==p&&q)g.content.text=q;else return p}if(j.container===p)j.container=z;if(j.target===p)j.target=o;if(g.show.target===p)g.show.target=o;if(g.hide.target===p)g.hide.target=o;if(g.position.viewport===B)g.position.viewport=j.container;j.at=new a.fn.qtip.plugins.Corner(j.at);j.my=new a.fn.qtip.plugins.Corner(j.my);
if(a.data(this,"qtip"))if(g.overwrite)k.qtip("destroy");else if(g.overwrite===p)return p;if(a.attr(this,"title")){a.data(this,W,a.attr(this,"title"));k.removeAttr("title")}h=new ba(k,g,c,!!q);a.data(this,"qtip",h);k.bind("remove.qtip",function(){h.destroy()});return h}function ea(c){var b=this,h=c.elements.tooltip,j=c.options.content.ajax,q=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;b.checks={"^content.ajax":function(g,k){if(k==="once")b.once();else j&&j.url&&b.load()}};a.extend(b,{init:function(){if(j&&
j.url){b.load();h.one("tooltipshow",b.once)}},once:function(){j.once?b.destroy():h.bind("tooltipshow.qtip-ajax",b.load)},load:function(){var g=j.url.indexOf(" "),k=j.url,z;if(g>-1){z=k.substr(g);k=k.substr(0,g)}a.ajax(a.extend({success:function(o){if(z)o=a("<div/>").append(o.replace(q,"")).find(z);c.set("content.text",o)},error:function(o,D,C){c.set("content.text",D+": "+C)},context:c},j,{url:k}));return b},destroy:function(){h.unbind(".qtip-ajax")}});b.init()}function fa(c,b,h){var j=Math.ceil(b/
2),q=Math.ceil(h/2);b={bottomright:[[0,0],[b,h],[b,0]],bottomleft:[[0,0],[b,0],[0,h]],topright:[[0,h],[b,0],[b,h]],topleft:[[0,0],[0,h],[b,h]],topcenter:[[0,h],[j,0],[b,h]],bottomcenter:[[0,0],[b,0],[j,h]],rightcenter:[[0,0],[b,q],[0,h]],leftcenter:[[b,0],[b,h],[0,q]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[c.string()]}function ga(c){function b(l,r,d){if(k.tip){l=a.extend({},q.corner);r=d.adjusted;var u;if(q.corner.fixed!==B){if(r.left)l.x=
l.x==="center"?r.left>0?"left":"right":l.x==="left"?"right":"left";if(r.top)l.y=l.y==="center"?r.top>0?"top":"bottom":l.y==="top"?"bottom":"top";if(l.string()!==o.corner&&(o.top!==r.top||o.left!==r.left))u=q.update(l)}u||(u=q.position(l,0));if(u.right!==U)u.left=u.right;if(u.bottom!==U)u.top=u.bottom;u.option=Math.max(0,g.offset);d.left-=u.left.charAt?u.option:(u.right?-1:1)*u.left;d.top-=u.top.charAt?u.option:(u.bottom?-1:1)*u.top;o.left=r.left;o.top=r.top;o.corner=l.string()}}function h(l,r,d){r=
!r?l[l.precedance]:r;r="border-"+r+"-width";l=parseInt((k.titlebar&&l.y==="top"?k.titlebar:k.content).css(r),10);return(d?l||parseInt(z.css(r),10):l)||0}function j(l){var r=l.precedance==="y",d=D[r?"width":"height"],u=D[r?"height":"width"],F=l.string().indexOf("center")>-1,v=d*(F?0.5:1),i=Math.pow;l=Math.round;var e=Math.sqrt(i(v,2)+i(u,2));v=[E/v*e,E/u*e];v[2]=Math.sqrt(i(v[0],2)-i(E,2));v[3]=Math.sqrt(i(v[1],2)-i(E,2));F=(e+v[2]+v[3]+(F?0:v[0]))/e;d=[l(F*u),l(F*d)];return{height:d[r?0:1],width:d[r?
1:0]}}var q=this,g=c.options.style.tip,k=c.elements,z=k.tooltip,o={top:0,left:0,corner:""},D={width:g.width,height:g.height},C={},E=g.border||0,P=a("<canvas />")[0].getContext;q.corner=G;q.mimic=G;q.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){q.init()||q.destroy();c.reposition()},"^style.tip.(height|width)$":function(){D={width:g.width,height:g.height};q.create();q.update();c.reposition()},"^content.title.text|style.(classes|widget)$":function(){k.tip&&q.update()}};a.extend(q,
{init:function(){var l=q.detectCorner()&&(P||a.browser.msie);if(l){q.create();q.update();z.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",b)}return l},detectCorner:function(){var l=g.corner,r=c.options.position,d=r.at;r=r.my.string?r.my.string():r.my;if(l===p||r===p&&d===p)return p;else if(l===B)q.corner=new a.fn.qtip.plugins.Corner(r);else if(!l.string){q.corner=new a.fn.qtip.plugins.Corner(l);q.corner.fixed=B}return q.corner.string()!=="centercenter"},detectColours:function(){var l=k.tip.css({backgroundColor:"",
border:""}),r=q.corner,d=r[r.precedance],u="border-"+d+"-color";d="border"+d.charAt(0)+d.substr(1)+"Color";var F=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;r=k.titlebar&&(r.y==="top"||r.y==="center"&&l.position().top+D.height/2+g.offset<k.titlebar.outerHeight(1))?k.titlebar:k.content;C.fill=l.css("background-color")||"transparent";C.border=l[0].style[d];if(!C.fill||F.test(C.fill)){C.fill=r.css("background-color");if(F.test(C.fill))C.fill=z.css("background-color")}if(!C.border||F.test(C.border)){C.border=
z.css(u);if(F.test(C.border)||C.border===a(document.body).css("color"))C.border=r.css(u)!==a(c.elements.content).css("color")?r.css(u):"transparent"}a("*",l).add(l).css("background-color","transparent").css("border","0px dashed transparent")},create:function(){var l=D.width,r=D.height;k.tip&&k.tip.remove();k.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:l,height:r}).prependTo(z);if(P)a("<canvas />").appendTo(k.tip)[0].getContext("2d").save();else{l='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';
k.tip.html(E?l+=l:l)}},update:function(l){var r=k.tip,d=r.children(),u=D.width,F=D.height,v=g.mimic,i=Math.round,e,f,m;if(!l)l=q.corner;if(v===p)v=l;else{v=new a.fn.qtip.plugins.Corner(v);v.precedance=l.precedance;if(v.x==="inherit")v.x=l.x;else if(v.y==="inherit")v.y=l.y;else if(v.x===v.y)v[l.precedance]=l[l.precedance]}e=v.precedance;q.detectColours();E=C.border==="transparent"||C.border==="#123456"?0:g.border===B?h(l,G,B):g.border;f=fa(v,u,F);m=j(l);r.css(m);r=l.precedance==="y"?[i(v.x==="left"?
E:v.x==="right"?m.width-u-E:(m.width-u)/2),i(v.y==="top"?m.height-F:0)]:[i(v.x==="left"?m.width-u:0),i(v.y==="top"?E:v.y==="bottom"?m.height-F-E:(m.height-F)/2)];if(P){d.attr(m);d=d[0].getContext("2d");d.restore();d.save();d.clearRect(0,0,3E3,3E3);d.translate(r[0],r[1]);d.beginPath();d.moveTo(f[0][0],f[0][1]);d.lineTo(f[1][0],f[1][1]);d.lineTo(f[2][0],f[2][1]);d.closePath();d.fillStyle=C.fill;d.strokeStyle=C.border;d.lineWidth=E*2;d.lineJoin="miter";d.miterLimit=100;d.stroke();d.fill()}else{f="m"+
f[0][0]+","+f[0][1]+" l"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" xe";r[2]=E&&/^(r|b)/i.test(l.string())?1:0;d.css({antialias:""+(v.string().indexOf("center")>-1),left:r[0]-r[2]*Number(e==="x"),top:r[1]-r[2]*Number(e==="y"),width:u+E,height:F+E}).each(function(t){var n=a(this);n.attr({coordsize:u+E+" "+(F+E),path:f,fillcolor:C.fill,filled:!!t,stroked:!!!t}).css({display:E||t?"block":"none"});!t&&E>0&&n.html()===""&&n.html('<vml:stroke weight="'+E*2+'px" color="'+C.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}return q.position(l,
1)},position:function(l,r){var d=k.tip,u={},F=Math.max(0,g.offset),v,i,e;if(g.corner===p||!d)return p;l=l||q.corner;v=l.precedance;i=j(l);e=a.browser.msie&&E&&/^(b|r)/i.test(l.string())?1:0;a.each(v==="y"?[l.x,l.y]:[l.y,l.x],function(f,m){var t,n;if(m==="center"){t=v==="y"?"left":"top";u[t]="50%";u["margin-"+t]=-Math.round(i[v==="y"?"width":"height"]/2)+F}else{t=h(l,m,B);n=a.browser.mozilla;var y=l.y+(n?"":"-")+l.x;n=(n?"-moz-":a.browser.webkit?"-webkit-":"")+(n?"border-radius-"+y:"border-"+y+"-radius");
n=parseInt((k.titlebar&&l.y==="top"?k.titlebar:k.content).css(n),10)||parseInt(z.css(n),10)||0;u[m]=f||!E?h(l,m):F+(n>t?n:0)}});u[l[v]]-=i[v==="x"?"width":"height"]+e;r&&d.css({top:"",bottom:"",left:"",right:"",margin:""}).css(u);return u},destroy:function(){k.tip&&k.tip.remove();z.unbind(".qtip-tip")}});q.init()}function ha(c){var b=this,h=c.options.show.modal,j=c.elements,q=j.tooltip;b.checks={"^show.modal.(on|blur)$":function(){b.init();j.overlay.toggle(q.is(":visible"))}};a.extend(b,{init:function(){if(h.on){q.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(g,k,z){g=g.type.replace("tooltip","");a.isFunction(h[g])?h[g].call(j.overlay,z,k):b[g](z)});b.create();h.blur===B&&j.overlay.unbind(".qtipmodal"+c.id).bind("click.qtipmodal"+c.id,function(){c.hide.call(c)})}},create:function(){var g=a("#qtip-overlay"),k;if(g.length)return j.overlay=g;k=j.overlay=a("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none"}}).appendTo(document.body);a(N).bind("resize.qtipmodal",function(){k.css({height:Math.max(a(N).height(),
a(document).height()),width:Math.max(a(N).width(),a(document).width())})}).trigger("resize");return k},toggle:function(g){var k=j.overlay,z=c.options.show.modal.effect,o=g?"show":"hide",D;k||(k=b.create());if(!(k.is(":animated")&&!g)){k.stop(B,p);if(g){D=parseInt(a.css(q[0],"z-index"),10);k.css("z-index",(D||a.fn.qtip.zindex)-1)}if(a.isFunction(z))z.call(k,g);else z===p?k[o]():k.fadeTo(90,g?0.7:0,function(){g||a(this).hide()})}},show:function(){b.toggle(B)},hide:function(){b.toggle(p)},destroy:function(){var g=
B;a("*").each(function(){var k=a(this).data("qtip");if(k&&k.id!==c.id&&k.options.show.modal)return g=p});if(g){j.overlay.remove();a(N).unbind(".qtipmodal")}else j.overlay.unbind(".qtipmodal"+c.id);q.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});b.init()}function ia(c){var b=this,h=c.elements,j=h.tooltip,q=".bgiframe-"+c.id,g="tooltipmove"+q+" tooltipshow"+q;a.extend(b,{init:function(){h.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');
h.bgiframe.appendTo(j);j.bind(g,b.adjust)},adjust:function(){var k=c.get("dimensions"),z=c.plugins.tip,o=c.elements.tip,D;D=parseInt(j.css("border-left-width"),10)||0;D={left:-D,top:-D};if(z&&o){z=z.corner.precedance==="x"?["width","left"]:["height","top"];D[z[1]]-=o[z[0]]()}h.bgiframe.css(D).css(k)},destroy:function(){b.iframe.remove();j.unbind(g)}});b.init()}var B=true,p=false,G=null,O="ui-tooltip",$="ui-widget",T="ui-state-disabled",Y="div.qtip."+O,Z=O+"-focus",ca="-31000px",W="oldtitle";a.fn.qtip=
function(c,b,h){var j=String(c).toLowerCase(),q=G,g=j==="disable"?[B]:a.makeArray(arguments).slice(1,10),k=g[g.length-1],z=this[0]?a.data(this[0],"qtip"):G;if(!arguments.length&&z||j==="api")return z;else if("string"===typeof c){this.each(function(){var o=a.data(this,"qtip");if(!o)return B;if(/option|set/.test(j)&&b)if(a.isPlainObject(b)||h!==U)o.set(b,h);else q=o.get(b);else{if(!o.rendered&&(j==="show"||j==="toggle")){if(k&&k.timeStamp)o.cache.event=k;o.render(1)}else if(j==="enable"){j="disable";
g=[p]}o[j]&&o[j].apply(o[j],g)}});return q!==G?q:this}else if("object"===typeof c||!arguments.length){z=X(a.extend(B,{},c));return a.fn.qtip.bind.call(this,z,k)}};a.fn.qtip.bind=function(c,b){return this.each(function(){function h(D){function C(){o.render(typeof D==="object"||j.show.ready);q.show.unbind(g.show);q.hide.unbind(g.hide)}if(o.cache.disabled)return p;o.cache.event=a.extend({},D);if(j.show.delay>0){clearTimeout(o.timers.show);o.timers.show=setTimeout(C,j.show.delay);g.show!==g.hide&&q.hide.bind(g.hide,
function(){clearTimeout(o.timers.show)})}else C()}var j,q,g,k=!c.id||c.id===p||c.id.length<1||a("#"+O+"-"+c.id).length?a.fn.qtip.nextid++:c.id,z=".qtip-"+k+"-create",o=da.call(this,k,c);if(o===p)return B;j=o.options;a.each(a.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(o)});q={show:j.show.target,hide:j.hide.target};g={show:String(j.show.event).replace(" ",z+" ")+z,hide:String(j.hide.event).replace(" ",z+" ")+z};q.show.bind(g.show,h);if(j.show.ready||j.prerender)h(b)})};a.each({attr:function(c,
b){if(this.length){var h=this[0],j=a.data(h,"qtip");if(c==="title")if(arguments.length<2)return a.data(h,W);else if(typeof j==="object"){j&&j.rendered&&j.options.content.attr==="title"&&j.cache.attr&&j.set("content.text",b);a.fn.attr_replacedByqTip.apply(this,arguments);a.data(h,W,a.attr(h,"title"));return this.removeAttr("title")}}},clone:function(){var c=a([]),b;a("*",this).add(this).each(function(){var h=a.data(this,W);if(h){a.attr(this,"title",h);c=c.add(this)}});b=a.fn.clone_replacedByqTip.apply(this,
arguments);c.removeAttr("title");return b},remove:a.ui?G:function(c,b){a(this).each(function(){if(!b)if(!c||a.filter(c,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}},function(c,b){if(!b)return B;var h=a.fn[c+"_replacedByqTip"]=a.fn[c];a.fn[c]=function(){return b.apply(this,arguments)||h.apply(this,arguments)}});a(N).load(function(){var c=document,b=c.body;a(c).bind("mousemove.qtip",function(h){a.fn.qtip.mouse={pageX:h.pageX,pageY:h.pageY}});c.activeElement===
U&&c.addEventListener("focus",function(h){if(h&&h.target)c.activeElement=h.target===c?b:h.target},true)});a.fn.qtip.version="2.0.0pre";a.fn.qtip.nextid=0;a.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");a.fn.qtip.zindex=15E3;a.fn.qtip.plugins={Corner:function(c){c=String(c).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(c.match(/left|right/i)||c.match(/center/)||["inherit"])[0].toLowerCase();this.y=(c.match(/top|bottom|center/i)||
["inherit"])[0].toLowerCase();this.precedance=c.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var b=this.x.substr(0,1),h=this.y.substr(0,1);return b===h?b:b==="c"||b!=="c"&&h!=="c"?h+b:b+h}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};a.fn.qtip.defaults={prerender:p,id:p,overwrite:B,content:{text:B,attr:"title",title:{text:p,
button:p}},position:{my:"top left",at:"bottom right",target:p,container:p,viewport:p,adjust:{x:0,y:0,mouse:B,resize:B},effect:B},show:{target:p,event:"mouseenter",effect:B,delay:90,solo:p,ready:p},hide:{target:p,event:"mouseleave",effect:B,delay:0,fixed:p,inactive:p},style:{classes:"",widget:p},events:{render:G,move:G,show:G,hide:G,toggle:G,focus:G,blur:G}};a.fn.qtip.plugins.ajax=function(c){var b=c.plugins.ajax;return"object"===typeof b?b:c.plugins.ajax=new ea(c)};a.fn.qtip.plugins.ajax.initialize=
"render";a.fn.qtip.plugins.ajax.sanitize=function(c){var b=c.content;if(b&&"ajax"in b){b=b.ajax;if(typeof b!=="object")b=c.content.ajax={url:b};if("boolean"!==typeof b.once&&b.once)b.once=!!b.once}};a.extend(B,a.fn.qtip.defaults,{content:{ajax:{once:B}}});a.fn.qtip.plugins.tip=function(c){var b=c.plugins.tip;return"object"===typeof b?b:c.plugins.tip=new ga(c)};a.fn.qtip.plugins.tip.initialize="render";a.fn.qtip.plugins.tip.sanitize=function(c){var b=c.style;if(b&&"tip"in b){b=c.style.tip;if(typeof b!==
"object")c.style.tip={corner:b};if(!/string|boolean/i.test(typeof b.corner))b.corner=B;typeof b.width!=="number"&&delete b.width;typeof b.height!=="number"&&delete b.height;typeof b.border!=="number"&&b.border!==B&&delete b.border;typeof b.offset!=="number"&&delete b.offset}};a.extend(B,a.fn.qtip.defaults,{style:{tip:{corner:B,mimic:p,width:6,height:6,border:B,offset:0}}});a.fn.qtip.plugins.imagemap=function(c,b){function h(E,P){for(var l=0,r=1,d=1,u=0,F=0,v=E.width,i=E.height;v>0&&i>0&&r>0&&d>0;){v=
Math.floor(v/2);i=Math.floor(i/2);if(b.x==="left")r=v;else if(b.x==="right")r=E.width-v;else r+=Math.floor(v/2);if(b.y==="top")d=i;else if(b.y==="bottom")d=E.height-i;else d+=Math.floor(i/2);for(l=P.length;l--;){if(P.length<2)break;u=P[l][0]-E.offset.left;F=P[l][1]-E.offset.top;if(b.x==="left"&&u>=r||b.x==="right"&&u<=r||b.x==="center"&&(u<r||u>E.width-r)||b.y==="top"&&F>=d||b.y==="bottom"&&F<=d||b.y==="center"&&(F<d||F>E.height-d))P.splice(l,1)}}return{left:P[0][0],top:P[0][1]}}var j=c.attr("shape").toLowerCase(),
q=c.attr("coords").split(","),g=[],k=a('img[usemap="#'+c.parent("map").attr("name")+'"]'),z=k.offset(),o={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},D=0,C=0;z.left+=Math.ceil((k.outerWidth()-k.width())/2);z.top+=Math.ceil((k.outerHeight()-k.height())/2);if(j==="poly")for(D=q.length;D--;){C=[parseInt(q[--D],10),parseInt(q[D+1],10)];if(C[0]>o.offset.right)o.offset.right=C[0];if(C[0]<o.offset.left)o.offset.left=C[0];if(C[1]>o.offset.bottom)o.offset.bottom=C[1];if(C[1]<o.offset.top)o.offset.top=
C[1];g.push(C)}else g=a.map(q,function(E){return parseInt(E,10)});switch(j){case "rect":o={width:Math.abs(g[2]-g[0]),height:Math.abs(g[3]-g[1]),offset:{left:g[0],top:g[1]}};break;case "circle":o={width:g[2]+2,height:g[2]+2,offset:{left:g[0],top:g[1]}};break;case "poly":a.extend(o,{width:Math.abs(o.offset.right-o.offset.left),height:Math.abs(o.offset.bottom-o.offset.top)});o.offset=b.string()==="centercenter"?{left:o.offset.left+o.width/2,top:o.offset.top+o.height/2}:h(o,g.slice());o.width=o.height=
0;break}o.offset.left+=z.left;o.offset.top+=z.top;return o};a.fn.qtip.plugins.svg=function(c){var b=a(document),h=c[0];c={width:0,height:0,offset:{top:1E10,left:1E10}};var j,q,g;if(h.getBBox&&h.parentNode){j=h.getBBox();q=h.getScreenCTM();h=h.farthestViewportElement||h;if(!h.createSVGPoint)return c;h=h.createSVGPoint();h.x=j.x;h.y=j.y;g=h.matrixTransform(q);c.offset.left=g.x;c.offset.top=g.y;h.x+=j.width;h.y+=j.height;g=h.matrixTransform(q);c.width=g.x-c.offset.left;c.height=g.y-c.offset.top;c.offset.left+=
b.scrollLeft();c.offset.top+=b.scrollTop()}return c};a.fn.qtip.plugins.modal=function(c){var b=c.plugins.modal;return"object"===typeof b?b:c.plugins.modal=new ha(c)};a.fn.qtip.plugins.modal.initialize="render";a.fn.qtip.plugins.modal.sanitize=function(c){if(c.show)if(typeof c.show.modal!=="object")c.show.modal={on:!!c.show.modal};else if(typeof c.show.modal.on==="undefined")c.show.modal.on=B};a.extend(B,a.fn.qtip.defaults,{show:{modal:{on:p,effect:B,blur:B}}});a.fn.qtip.plugins.bgiframe=function(c){if(!(a.browser.msie&&
/^6\.[0-9]/.test(a.browser.version)&&a("select, object").length))return p;var b=c.plugins.bgiframe;if(b)return b;else{c.plugins.bgiframe=new ia(c);return c.plugins.bgiframe}};a.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
