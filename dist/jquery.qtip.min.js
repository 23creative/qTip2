/*
* qTip2 - Pretty pwoerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Thu Dec 30 19:23:12 2010 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null;
(function(c,F,L){function M(f){var b;if(!f)return FALSE;if("object"!==typeof f.metadata)f.metadata={type:f.metadata};if("content"in f){if("object"!==typeof f.content||f.content.jquery)f.content={text:f.content};b=f.content.text||FALSE;if(!c.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))b=f.content.text=FALSE;if("title"in f.content&&"object"!==typeof f.content.title)f.content.title={text:f.content.title}}if("position"in f)if("object"!==typeof f.position)f.position={my:f.position,
at:f.position};if("show"in f)if("object"!==typeof f.show)f.show=f.show.jquery?{target:f.show}:{event:f.show};if("hide"in f)if("object"!==typeof f.hide)f.hide=f.hide.jquery?{target:f.hide}:{event:f.hide};if("style"in f&&"object"!==typeof f.style)f.style={classes:f.style};c.each(c.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(f)});return f}function O(f,b,o){function h(d){var e,i=d.split("."),j=b[i[0]];for(d=1;d<i.length;d+=1){e=j[i[d]];if(typeof e==="object"&&!e.jquery&&!e.precedance)j=j[i[d]];
else break}return i[d]!==L?[j,i[d]]:[b,i[0]]}function m(d,e){var i={left:0,top:0},j=!c.fn.qtip.plugins.iOS,g,s;if(e){i=m(e);i.left*=-1;i.top*=-1}if(d.offsetParent){do{g=d.offsetParent;s=g===e;i.left+=d.offsetLeft-(j&&g&&!s?g.scrollLeft:0);i.top+=d.offsetTop-(j&&g&&!s?g.scrollTop:0)}while(d=g)}return i}function k(d,e){var i=a.elements.tooltip,j=l+"-accessible "+(e?l+"-accessible-fluid":""),g=!i.is(":visible"),s=FALSE;if(!a.rendered)return FALSE;g&&i.addClass(j);switch(d){case "dimensions":s={height:i.outerHeight(),
width:i.outerWidth()};break;case "position":s=m(i[0],b.position.container);break}g&&i.removeClass(j);return s}function v(){var d=a.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=NULL;d.tooltip.removeAttr("aria-labelledby")}}function q(){var d=a.elements,e=b.content.title.button;d.button&&d.button.remove();d.button=e.jquery?e:"string"===typeof e?c("<a />",{html:e}):c("<a />",{"class":"ui-state-default",title:"Close tooltip"}).prepend(c("<span />",{"class":(b.style.widget?"ui":
l)+"-icon ui-icon-close"}));d.button.prependTo(d.titlebar).attr("role","button").addClass(l+"-close").hover(function(i){c(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(){d.tooltip.hasClass("ui-state-disabled")||a.hide();return FALSE}).bind("mousedown keydown mouseup keyup mouseout",function(i){c(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(i.type))});a.redraw()}function n(){var d=a.elements;d.titlebar&&v();d.titlebar=c("<div />",{"class":l+"-titlebar "+
(b.style.widget?"ui-widget-header":"")}).append(d.title=c("<div />",{id:l+"-"+o+"-title","class":l+"-title",html:b.content.title.text})).prependTo(d.tooltip);if(b.content.title.button)q();else a.rendered===TRUE&&a.redraw()}function z(d){var e=a.elements;if(!a.rendered||!d)return FALSE;if(c.isFunction(d))d=d.call(f);d.jquery&&d.length>0?e.content.empty().append(d.css({display:"block"})):e.content.html(d);e.tooltip.queue("fx",function(i){function j(s){g=g.not(s);if(g.length===0){a.redraw();a.rendered===
TRUE&&a.reposition(a.cache.event);i()}}var g=c("img:not([height]):not([width])",a.elements.content);g.each(function(s,x){var A=["abort","error","load","unload",""].join(".qtip-image ");c(this).bind(A,function(){clearTimeout(a.timers.img[s]);j(this)});(function y(){if(x.height)return j(x);a.timers.img[s]=setTimeout(y,20)})();return TRUE});g.length===0&&j(g)});return a}function B(d,e,i,j){function g(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;t.show.trigger("qtip-"+o+"-inactive");clearTimeout(a.timers.show);
clearTimeout(a.timers.hide);var r=function(){a.show(u)};if(b.show.delay>0)a.timers.show=setTimeout(r,b.show.delay);else r()}function s(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;var r=c(u.relatedTarget||u.target).parents(w)[0]===t.tooltip[0],I=c(u.relatedTarget||u.target)[0]===t.show[0];clearTimeout(a.timers.show);clearTimeout(a.timers.hide);if(b.hide.fixed&&(p.target==="mouse"&&r||/mouse(out|leave|move)/.test(u.type)&&(r||I))){u.stopPropagation();u.preventDefault();return FALSE}t.tooltip.stop(1,
1);if(b.hide.delay>0)a.timers.hide=setTimeout(function(){a.hide(u)},b.hide.delay);else a.hide(u)}function x(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;clearTimeout(a.timers.inactive);a.timers.inactive=setTimeout(function(){a.hide(u)},b.hide.inactive)}function A(u){if(!a.cache.processing){a.cache.processing=1;a.elements.tooltip.is(":visible")&&a.reposition(u);a.cache.processing=0}}var y=".qtip-"+o,p=b.position,t={show:b.show.target,hide:b.hide.target,tooltip:a.elements.tooltip,container:p.container[0]===
document.body?document:p.container},G={show:String(b.show.event).split(" "),hide:String(b.hide.event).split(" ")},J=c.browser.msie&&parseInt(c.browser.version,10)===6;if(i&&b.hide.fixed){t.hide=t.hide.add(t.tooltip);t.tooltip.bind("mouseover"+y,function(){t.tooltip.hasClass("ui-state-disabled")||clearTimeout(a.timers.hide)})}if(e){if("number"===typeof b.hide.inactive){t.show.bind("qtip-"+o+"-inactive",x);c.each(c.fn.qtip.inactiveEvents,function(u,r){t.hide.add(a.elements.tooltip).bind(r+y+"-inactive",
x)})}c.each(G.hide,function(u,r){var I=c.inArray(r,G.show);if(I>-1&&c(t.hide).add(t.show).length===c(t.hide).length||r==="unfocus"){t.show.bind(r+y,function(D){t.tooltip.is(":visible")?s(D):g(D)});delete G.show[I]}else t.hide.bind(r+y,s)})}if(d){c.each(G.show,function(u,r){t.show.bind(r+y,g)});t.tooltip.bind("mouseover"+y,function(){a.focus()})}if(j){if(p.adjust.resize||p.viewport)c(c.event.special.resize?p.viewport:F).bind("resize"+y,A);if(p.viewport||J&&t.tooltip.css("position")==="fixed")c(p.viewport).bind("scroll"+
y,A);/unfocus/i.test(b.hide.event)&&c(document).bind("mousedown"+y,function(u){var r=a.elements.tooltip;c(u.target).parents(w).length===0&&c(u.target).add(f).length>1&&r.is(":visible")&&!r.hasClass("ui-state-disabled")&&a.hide(u)});p.target==="mouse"&&c(document).bind("mousemove"+y,function(u){if(p.adjust.mouse&&!t.tooltip.hasClass("ui-state-disabled")&&t.tooltip.is(":visible"))a.reposition(u||c.fn.qtip.mouse)})}}function C(d,e,i,j){j=parseInt(j,10)!==0;var g=".qtip-"+o;e={show:d?b.show.target:NULL,
hide:e?b.hide.target:NULL,tooltip:i?a.elements.tooltip:NULL,content:i?a.elements.content:NULL,container:j?b.position.container[0]===document.body?document:b.position.container:NULL,window:j?F:NULL};if(a.rendered)c([]).pushStack(c.grep([e.show,e.hide,e.tooltip,e.container,e.content,e.window],function(){return this!==null})).unbind(g);else d&&e.show.unbind(g+"-create")}var a=this,l="ui-tooltip",w=".qtip."+l;a.id=o;a.rendered=FALSE;a.elements={target:f};a.cache={event:{},target:NULL,disabled:FALSE,position:NULL};
a.timers={img:[]};a.options=b;a.plugins={};c.extend(a,{render:function(d){var e=a.elements,i=c.Event("tooltiprender");if(a.rendered)return FALSE;a.rendered=d?-2:-1;e.tooltip=c("<div/>").attr({id:l+"-"+o,role:"tooltip","class":l+" qtip ui-tooltip-accessible ui-helper-reset "+b.style.classes}).css("z-index",c.fn.qtip.zindex+c(w).length).toggleClass("ui-widget",b.style.widget).toggleClass("ui-state-disabled",a.cache.disabled).data("qtip",a).appendTo(b.position.container);e.content=c("<div />",{"class":l+
"-content "+(b.style.widget?"ui-widget-content":""),id:l+"-"+o+"-content"}).appendTo(e.tooltip);b.content.title.text&&n();z(b.content.text);c.each(c.fn.qtip.plugins,function(){this.initialize==="render"&&this(a)});a.rendered=TRUE;B(1,1,1,1);c.each(b.events,function(j,g){if(g)e.tooltip.bind(j==="toggle"?"tooltipshow tooltiphide":"tooltip"+j,g)});e.tooltip.queue("fx",function(j){e.tooltip.removeClass("ui-tooltip-accessible");i.originalEvent=a.cache.event;e.tooltip.trigger(i,[a]);if(b.show.ready||d){e.tooltip.hide();
a.show(a.cache.event)}j()});return a},get:function(d){switch(d.toLowerCase()){case "offset":d=k("position");break;case "dimensions":d=k("dimensions");break;default:d=h(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,e){d=d.toLowerCase();var i=h(d),j=a.elements,g=j.tooltip,s,x,A,y={builtin:{id:function(){var p=e===TRUE?c.fn.qtip.nextid:e,t=l+"-"+p;if(p!==FALSE&&p.length>0&&!c("#ui-tooltip-"+p).length){g[0].id=t;j.content[0].id=t+"-content";
j.title[0].id=t+"-title"}},"^content.text":function(){z(e)},"^content.title.text":function(){if(a.rendered)if(!a.elements.title&&e){n();a.reposition()}else e?a.elements.title.html(e):v()},"^content.title.button":function(){var p=a.elements.button,t=a.elements.title;if(a.rendered)if(e){t||n();q()}else p.remove()},"^position.(my|at)$":function(){var p=/my$/i.test(d)?"my":"at";if("string"===typeof e)b.position[p]=new c.fn.qtip.plugins.Corner(e)},"^position.(my|at|adjust|target)":function(){a.rendered&&
a.reposition()},"^position.container$":function(){if(a.rendered===TRUE){g.appendTo(e);a.reposition()}},"^(show|hide).(event|target|fixed|delay|inactive)":function(p,t,G,J){var u=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(u[0])p[t]=J;C.apply(a,u[1]);if(u[0])p[t]=G;B.apply(a,u[1])},"^show.ready$":function(){a.rendered===FALSE&&a.show()},"^style.classes$":function(){a.elements.tooltip.attr("class",l+" qtip ui-helper-reset "+e)},"^style.widget$":function(){var p=
!!e;g.toggleClass("ui-widget",p);j.content.toggleClass("ui-widget-content",p);j.titlebar&&j.titlebar.toggleClass("ui-widget-header",p);j.button&&j.button.children("span").toggleClass(l+"-icon",!p).toggleClass("ui-icon",p)},"^events.(render|show|move|hide|focus|blur)":function(p,t,G){j.tooltip[(c.isFunction(e)?"":"un")+"bind"]("tooltip"+t,G)}}};c.each(a.plugins,function(p){if("object"===typeof this.checks)y[p]=this.checks});s=i[0][i[1]];i[0][i[1]]=e.nodeType?c(e):e;M(b);for(x in y)for(A in y[x])RegExp(A,
"i").test(d)&&y[x][A].call(a,i[0],i[1],e,s);return a},toggle:function(d,e){function i(){var A=c(this),y=d?"attr":"removeAttr",p=/^1|0$/.test(A.css("opacity")),t=this.style;a.elements.title&&f[y]("aria-labelledby",l+"-"+o+"-title");f[y]("aria-describedby",l+"-"+o+"-content");if(d){if(c.browser.msie&&t&&p){t.removeAttribute("filter");t.removeAttribute("opacity")}}else p&&A.hide()}if(a.rendered===FALSE)return FALSE;var j=d?"show":"hide",g=a.elements.tooltip,s=b[j],x=g.is(":visible");if((typeof d).search("boolean|number"))d=
!g.is(":visible");if(!x&&!d||g.is(":animated"))return a;if(e){if(/over|enter/.test(e.type)&&/out|leave/.test(a.cache.event.type)&&e.target===b.show.target[0]&&g.has(e.relatedTarget).length)return a;a.cache.event=c.extend({},e)}x=c.Event("tooltip"+j);x.originalEvent=e?a.cache.event:NULL;g.trigger(x,[a,90]);if(x.isDefaultPrevented())return a;if(d){a.focus();a.reposition(e);s.solo&&c(w).qtip("hide")}else clearTimeout(a.timers.show);g.attr("aria-hidden",Boolean(!d));g.stop(1,1);if(c.isFunction(s.effect)){s.effect.call(g,
a);g.queue(function(){i.call(this);c(this).dequeue()})}else if(s.effect===FALSE){g[j]();i.call(g)}else g.fadeTo(90,d?1:0,i);d&&s.target.trigger("qtip-"+o+"-inactive");return a},show:function(d){a.toggle(TRUE,d)},hide:function(d){a.toggle(FALSE,d)},focus:function(d){if(a.rendered===FALSE)return FALSE;var e=a.elements.tooltip,i=c(w),j=parseInt(e[0].style.zIndex,10),g=c.fn.qtip.zindex+i.length,s=l+"-focus",x=c.extend({},d);if(!e.hasClass(s)&&j!==g){i.each(function(){this.style.zIndex-=1});c(w+"."+s).each(function(){var A=
c(this),y=A.qtip(),p;if(!y||y.rendered===FALSE)return TRUE;A.removeClass(s);p=c.Event("tooltipblur");p.originalEvent=x;A.trigger(p,[y,g])});d=c.Event("tooltipfocus");d.originalEvent=x;e.trigger(d,[a,g]);if(!d.isDefaultPrevented())e.addClass(s)[0].style.zIndex=g}return a},reposition:function(d){if(a.rendered===FALSE)return FALSE;var e=b.position.target,i=a.elements.tooltip,j=b.position,g=j.my,s=j.at,x=j.adjust,A=a.elements.tooltip.outerWidth(),y=a.elements.tooltip.outerHeight(),p=0,t=0,G=c.Event("tooltipmove"),
J=i.css("position")==="fixed",u=j.viewport.jquery?j.viewport:c(F),r={left:0,top:0},I={left:function(D){var E=u.scrollLeft,H=s.x==="left"?p:s.x==="right"?-p:-p/2,K=E-D;E=D+A-u.width-E;H=(g.x==="left"?A:g.x==="right"?-A:-A/2)-(g.precedance==="x"||g.x===g.y?H:0);if(K>0&&(g.x!=="left"||E>0))r.left-=H;else if(E>0&&(g.x!=="right"||K>0))r.left-=(g.x==="center"?-1:1)*H+2*x.x;if(r.left<0&&-r.left>E)r.left=D;return r.left-D},top:function(D){var E=u.scrollTop,H=s.y==="top"?t:s.y==="bottom"?-t:-t/2,K=E-D;E=D+
y-u.height-E;H=(g.y==="top"?y:g.y==="bottom"?-y:-y/2)-(g.precedance==="y"||g.x===g.y?H:0);if(K>0&&(g.y!=="top"||E>0))r.top-=H;else if(E>0&&(g.y!=="bottom"||K>0))r.top-=(g.y==="center"?-1:1)*H+2*x.y;if(r.top<0&&-r.top>E)r.top=D;return r.top-D}};u=!u?FALSE:{elem:u,height:u[(u[0]===F?"h":"outerH")+"eight"](),width:u[(u[0]===F?"w":"outerW")+"idth"](),scrollLeft:u.scrollLeft(),scrollTop:u.scrollTop()};if(e==="mouse"){s={x:"left",y:"top"};d=d&&(d.type==="resize"||d.type==="scroll")?a.cache.event:x.mouse||
!d||!d.pageX?c.extend({},c.fn.qtip.mouse):d;r={top:d.pageY,left:d.pageX}}else{if(e==="event")e=d&&d.target&&d.type!=="scroll"&&d.type!=="resize"?a.cache.target=c(d.target):a.cache.target;e=c(e).eq(0);if(e.length===0)return a;else if(e[0]===document||e[0]===F){p=e.width();t=e.height();if(e[0]===F)r={top:J?0:u.scrollTop,left:J?0:u.scrollLeft}}else if(e.is("area")&&c.fn.qtip.plugins.imagemap){r=c.fn.qtip.plugins.imagemap(e,s);p=r.width;t=r.height;r=r.offset}else{p=e.outerWidth();t=e.outerHeight();r=
m(e[0],j.container[0])}r.left+=s.x==="right"?p:s.x==="center"?p/2:0;r.top+=s.y==="bottom"?t:s.y==="center"?t/2:0}r.left+=x.x+(g.x==="right"?-A:g.x==="center"?-A/2:0);r.top+=x.y+(g.y==="bottom"?-y:g.y==="center"?-y/2:0);r.adjusted=j.viewport.jquery&&e[0]!==F&&e[0]!==document.body?{left:I.left(r.left),top:I.top(r.top)}:{left:0,top:0};i.attr("class",function(){return c(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(l+"-pos-"+g.abbreviation());G.originalEvent=c.extend({},d);i.trigger(G,
[a,r,u.elem]);if(G.isDefaultPrevented())return a;delete r.adjusted;if(i.is(":visible")&&c.isFunction(j.effect)){j.effect.call(i,a,r);i.queue(function(){var D=c(this);D.css({opacity:"",height:""});c.browser.msie&&this.style&&this.style.removeAttribute("filter");D.dequeue()})}else isNaN(r.left,r.top)||i.css(r);return a},redraw:function(){if(!a.rendered||!(c.browser.msie&&parseInt(c.browser.version.charAt(0),10)<9))return FALSE;var d=a.elements.tooltip;d.attr("style");var e;d.css({width:"auto",height:"auto"});
e=k("dimensions",1);c.each(["width","height"],function(i,j){var g=parseInt(d.css("max-"+j),10)||0,s=parseInt(d.css("min-"+j),10)||0;e[j]=g+s?Math.min(Math.max(e[j],s),g):e[j]});d.css(e)},disable:function(d){var e=a.elements.tooltip;if("boolean"!==typeof d)d=!(e.hasClass("ui-state-disabled")||a.cache.disabled);if(a.rendered)e.toggleClass("ui-state-disabled",d);else a.cache.disabled=!!d;return a},destroy:function(){var d=a.elements,e=d.target.data("oldtitle");if(a.rendered){d.tooltip.remove();c.each(a.plugins,
function(){this.initialize==="render"&&this.destroy()})}clearTimeout(a.timers.show);clearTimeout(a.timers.hide);C(1,1,1,1);f.removeData("qtip");e&&f.attr("title",e);f.removeAttr("aria-describedby");return f}})}function P(f,b){var o,h,m=c(this),k=c(document.body),v=this===document?k:m;h=m.metadata?m.metadata(b.metadata):NULL;var q=c.extend(TRUE,{},c.fn.qtip.defaults,b,M((h&&b.metadata.type==="html5"?h[b.metadata.name]:NULL)||h));m.removeData("metadata");h=q.position;if("boolean"===typeof q.content.text)if(q.content.attr!==
FALSE&&m.attr(q.content.attr))q.content.text=m.attr(q.content.attr);else return FALSE;if(h.container===FALSE)h.container=k;if(h.target===FALSE)h.target=v;if(q.show.target===FALSE)q.show.target=v;if(q.hide.target===FALSE)q.hide.target=v;h.at=new c.fn.qtip.plugins.Corner(h.at);h.my=new c.fn.qtip.plugins.Corner(h.my);if(m.data("qtip"))if(q.overwrite)m.qtip("destroy");else if(q.overwrite===FALSE)return FALSE;m.attr("title")&&m.data("oldtitle",m.attr("title")).removeAttr("title");o=new O(m,q,f);m.data("qtip",
o);m.bind("remove.qtip",function(){o.destroy()});return o}function Q(f){var b=this,o=f.elements.tooltip,h=f.options.content.ajax;b.checks={"^content.ajax":function(m,k){if(k==="once")b.once();else h&&h.url&&b.load()}};c.extend(b,{init:function(){if(h&&h.url){b.load();b.once()}},once:function(){h.once?b.destroy():o.bind("tooltipshow.ajax",function(){b.load()})},load:function(){c.ajax(c.extend({success:function(m){f.set("content.text",m)},error:function(m,k,v){f.set("content.text",k+": "+v)},context:f},
h));return b},destroy:function(){o.unbind(".ajax")}});b.init()}function N(f,b,o){var h=Math.ceil(b/2),m=Math.ceil(o/2);b={bottomright:[[0,0],[b,o],[b,0]],bottomleft:[[0,0],[b,0],[0,o]],topright:[[0,o],[b,0],[b,o]],topleft:[[0,0],[0,o],[b,o]],topcenter:[[0,o],[h,0],[b,o]],bottomcenter:[[0,0],[b,0],[h,o]],rightcenter:[[0,0],[b,m],[0,o]],leftcenter:[[b,0],[b,o],[0,m]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[f.string()]}function R(f){function b(a,
l,w){if(k.tip){a=c.extend({},h.corner);l=w.adjusted;var d;if(h.corner.fixed!==TRUE){if(l.left)a.x=a.x==="center"?l.left>0?"left":"right":a.x==="left"?"right":"left";if(l.top)a.y=a.y==="center"?l.top>0?"top":"bottom":a.y==="top"?"bottom":"top";if(a.string()!==q.corner&&(q.top!==l.top||q.left!==l.left))d=h.update(a)}d||(d=h.position(a,0));if(d.right)d.left=d.right;if(d.bottom)d.top=d.bottom;d.option=Math.max(0,m.offset);w.left-=d.left.charAt?d.option:(d.right?-1:1)*d.left;w.top-=d.top.charAt?d.option:
(d.bottom?-1:1)*d.top;q.left=l.left;q.top=l.top;q.corner=a.string()}}function o(a,l){var w=k.titlebar&&a.y==="top"?k.titlebar:k.content;l=!l?a[a.precedance]:l;return parseInt(w.css("border-"+l+"-width"),10)||0}var h=this,m=f.options.style.tip,k=f.elements,v=k.tooltip,q={top:0,left:0,corner:""},n={width:m.width,height:m.height},z={},B=m.border||0,C=m.method||FALSE;h.corner=NULL;h.mimic=NULL;h.checks={"^position.my|style.tip.(corner|mimic|method|border)":function(){if(h.init())f.get("position.target")!==
"mouse"&&f.reposition();else h.destroy()},"^style.tip.(height|width)":function(){n={width:m.width,height:m.height};h.create();h.update();f.reposition()},"^style.(classes|widget)$":function(){if(k.tip){h.detectColours();h.update()}}};c.extend(h,{init:function(){var a=h.detectCorner();if(a){if(C!=="polygon")C=c("<canvas />")[0].getContext?"canvas":c.browser.msie?"vml":"polygon";h.create();h.detectColours();B=m.border===TRUE?o(h.corner):m.border;h.update();v.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",
b)}return a},detectCorner:function(){var a=m.corner,l=f.options.position,w=l.at;l=l.my.string?l.my.string():l.my;if(a===FALSE||l===FALSE&&w===FALSE)return FALSE;else if(a===TRUE)h.corner=new c.fn.qtip.plugins.Corner(l);else if(!a.string){h.corner=new c.fn.qtip.plugins.Corner(a);h.corner.fixed=TRUE}return h.corner.string()!=="centercenter"},detectColours:function(){var a=k.tip.css({backgroundColor:"",border:""}),l=h.corner,w=l[l.precedance],d="border-"+w+"-color";w="border"+w.charAt(0)+w.substr(1)+
"Color";var e=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;l=k.titlebar&&l.y==="top"?k.titlebar:k.content;z.fill=a.css("background-color")||"transparent";z.border=a[0].style[w];if(!z.fill||e.test(z.fill)){z.fill=l.css("background-color");if(e.test(z.fill))z.fill=v.css("background-color")}if(!z.border||e.test(z.border)){z.border=l.css(d);if(e.test(z.border))z.border=v.css(d)||z.fill}c("*",a).add(a).css("background-color","transparent").css("border",0)},create:function(){var a=n.width,l=n.height;k.tip&&k.tip.remove();
k.tip=c("<div />",{"class":"ui-tooltip-tip"}).css(n).toggleClass("ui-widget-content",f.options.style.widget).prependTo(v);switch(C){case "canvas":c('<canvas height="'+l+'" width="'+a+'" />').appendTo(k.tip)[0].getContext("2d").save();break;case "vml":a='<vml:shape coordorigin="0,0" coordsize="'+a+" "+l+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+a+"px; height:"+l+'px;"></vml:shape>';k.tip.html(B?a+=a:a);
break;case "polygon":k.tip.append('<div class="ui-tooltip-tip-inner" />').append(B?'<div class="ui-tooltip-tip-border" />':"");break}},update:function(a){var l=k.tip.children(),w=n.width,d=n.height,e=m.mimic,i,j,g,s,x;if(!a)a=h.corner;if(e===FALSE)e=a;else{e=new c.fn.qtip.plugins.Corner(e);e.precedance=a.precedance;if(e.x==="inherit")e.x=a.x;else if(e.y==="inherit")e.y=a.y;else if(e.x===e.y)e[a.precedance]=a[a.precedance]}B=m.border===TRUE?o(a):m.border;i=B>0?0:1;s=e.string().indexOf("center")>-1;
x=Math[/b|r/.test(e[e.precedance==="y"?"x":"y"])?"ceil":"floor"];switch(C){case "canvas":j=l.get(0).getContext("2d");j.restore&&j.restore();j.clearRect(0,0,3E3,3E3);for(g=N(e,w,d);i<2;i++){if(i){j.save();j.translate(x((e.x==="left"?1:e.x==="right"?-1:0)*(B+1)*(e.precedance==="y"?0.5:1)),x((e.y==="top"?1:e.y==="bottom"?-1:0)*(B+1)*(e.precedance==="x"?0.5:1)))}j.beginPath();j.moveTo(g[0][0],g[0][1]);j.lineTo(g[1][0],g[1][1]);j.lineTo(g[2][0],g[2][1]);j.closePath();j.fillStyle=z[i?"fill":"border"];j.fill()}break;
case "vml":g=N(e,w,d);g="m"+g[0][0]+","+g[0][1]+" l"+g[1][0]+","+g[1][1]+" "+g[2][0]+","+g[2][1]+" xe";l.each(function(A){c(this).attr({path:g,fillcolor:z[A||!B?"fill":"border"]}).css("antialias",""+s)});break;case "polygon":l.removeAttr("style").css({position:"absolute",left:0,top:0}).each(function(A){var y={x:e.precedance==="x"?e.x==="left"?"right":"left":e.x,y:e.precedance==="y"?e.y==="top"?"bottom":"top":e.y},p=e.x==="center"?["left","right",y.y,d,w]:["top","bottom",y.x,w,d];A=z[!A&&B?"border":
"fill"];e.x==="center"||e.y==="center"?c(this).css("border-"+p[2],p[3]+"px solid "+A).css("border-"+p[0],x(p[4]/2)+"px dashed transparent").css("border-"+p[1],x(p[4]/2)+"px dashed transparent"):c(this).css("border-width",x(d/2)+"px "+x(w/2)+"px").css("border-"+y.x,x(w/2)+"px solid "+A).css("border-"+y.y,x(d/2)+"px solid "+A)});break}if(C!=="canvas"&&B){i=[B*2.75,B];i=e.precedance==="y"?[e.x==="left"?i[1]:e.x==="right"?-i[1]:0,e.y==="bottom"?-i[0]:i[0]]:[e.x==="left"?i[0]:-i[0],e.y==="bottom"?-i[1]:
e.y==="top"?i[1]:0];l.eq(1).css({left:i[0],top:i[1]})}return h.position(a,1)},position:function(a,l){var w=k.tip,d={},e=Math.max(0,m.offset),i,j;if(m.corner===FALSE||!w)return FALSE;a=a||h.corner;i=a.precedance;j=n[i==="x"?"width":"height"];c.each(i==="y"?[a.x,a.y]:[a.y,a.x],function(g,s){if(s==="center"){var x=i==="y"?"left":"top";d[x]="50%";d["margin-"+x]=-Math.floor(j/2)+e}else d[s]=g||!B?o(a,s):e});d[a[i]]-=j;l&&w.css({top:"",bottom:"",left:"",right:"",margin:""}).css(d);return d},destroy:function(){k.tip&&
k.tip.remove();v.unbind(".qtip-tip")}});h.init()}function S(f){var b=this,o=f.options.show.modal,h=f.elements,m=h.tooltip;b.checks={"^show.modal.(on|blur)$":function(){b.init();h.overlay.toggle(m.is(":visible"))}};c.extend(b,{init:function(){if(o.on){m.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(k,v,q){k=k.type.replace("tooltip","");c.isFunction(o[k])?o[k].call(h.overlay,q,v):b[k](q)});b.create();o.blur===TRUE&&h.overlay.unbind(".qtipmodal"+f.id).bind("click.qtipmodal"+
f.id,function(){f.hide.call(f)})}},create:function(){var k=c("#qtip-overlay");if(k.length)h.overlay=k;else{h.overlay=c("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(m.css("z-index"),10)-1}}).appendTo(document.body);c(F).bind("resize.qtipmodal",function(){h.overlay.css({height:Math.max(c(F).height(),c(document).height()),width:Math.max(c(F).width(),c(document).width())})}).trigger("resize")}},toggle:function(k){var v=h.overlay,q=f.options.show.modal.effect,
n=k?"show":"hide";v.stop(TRUE,FALSE);if(c.isFunction(q))q.call(v,k);else q===FALSE?v[n]():v.fadeTo(90,k?0.7:0,function(){k||c(this).hide()})},show:function(){b.toggle(TRUE)},hide:function(){b.toggle(FALSE)},destroy:function(){var k=TRUE;c("*").each(function(){var v=c(this).data("qtip");if(v&&v.id!==f.id&&v.options.show.modal)return k=FALSE});if(k){h.overlay.remove();c(F).unbind(".qtipmodal")}else h.overlay.unbind(".qtipmodal"+f.id);m.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});b.init()}
function T(f){var b=this,o=f.elements,h=o.tooltip,m=".bgiframe-"+f.id,k="tooltipmove"+m+" tooltipshow"+m;c.extend(b,{init:function(){o.bgiframe=c('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');o.bgiframe.appendTo(h);h.bind(k,b.adjust)},adjust:function(){var v=f.get("dimensions"),q=f.plugins.tip,n=f.elements.tip,z;z=parseInt(h.css("border-left-width"),10)||0;z={left:-z,
top:-z};if(q&&n){q=q.corner.precedance==="x"?["width","left"]:["height","top"];z[q[1]]-=n[q[0]]()}o.bgiframe.css(z).css(v)},destroy:function(){b.iframe.remove();h.unbind(k)}});b.init()}c.fn.qtip=function(f,b,o){var h=String(f).toLowerCase(),m=NULL,k=h==="disable"?[TRUE]:c.makeArray(arguments).slice(1,10),v=k[k.length-1],q;if(!arguments.length&&this.data("qtip")||h==="api")return(q=this.data("qtip"))?q:L;else if("string"===typeof f){this.each(function(){var n=c(this).data("qtip");if(!n)return TRUE;
if(/option|set/.test(h)&&b)if(o!==L)n.set(b,o);else m=n.get(b);else{if(!n.rendered&&(h==="show"||h==="toggle")){if(v&&v.timeStamp)n.cache.event=v;n.render(1)}else if(h==="enable"){h="disable";k=[FALSE]}n[h]&&n[h].apply(n[h],k)}});return m!==NULL?m:this}else if("object"===typeof f||!arguments.length){q=M(c.extend(TRUE,{},f));return c.fn.qtip.bind.call(this,q,v)}};c.fn.qtip.bind=function(f,b){return this.each(function(){function o(z){function B(){n.render(typeof z==="object"||h.show.ready);m.show.unbind(k.show);
m.hide.unbind(k.hide)}if(n.cache.disabled)return FALSE;n.cache.event=c.extend({},z);if(h.show.delay>0){clearTimeout(n.timers.show);n.timers.show=setTimeout(B,h.show.delay);k.show!==k.hide&&m.hide.bind(k.hide,function(){clearTimeout(n.timers.show)})}else B()}var h,m,k,v=f.id=!f.id||f.id===FALSE||f.id.length<1||c("#ui-tooltip-"+f.id).length?c.fn.qtip.nextid++:f.id,q=".qtip-"+v+"-create",n=P.call(this,v,f);if(n===FALSE)return TRUE;h=n.options;c.each(c.fn.qtip.plugins,function(){this.initialize==="initialize"&&
this(n)});m={show:h.show.target,hide:h.hide.target};k={show:String(h.show.event).replace(" ",q+" ")+q,hide:String(h.hide.event).replace(" ",q+" ")+q};m.show.bind(k.show,o);if(h.show.ready||h.prerender)o(b)})};c.each({attr:function(f){var b=c(this),o=b.data("qtip");return arguments.length===1&&f==="title"&&o&&o.rendered===TRUE?b.data("oldtitle"):NULL},remove:c.ui?NULL:function(f,b){c(this).each(function(){if(!b)if(!f||c.filter(f,[this]).length)c("*",this).add(this).each(function(){c(this).triggerHandler("remove")})})}},
function(f,b){if(!b)return TRUE;c.fn["Old"+f]=c.fn[f];c.fn[f]=function(){return b.apply(this,arguments)||c.fn["Old"+f].apply(this,arguments)}});c(document.body).attr("role",function(f,b){return!b?"application":b});c(document).bind("mousemove.qtip",function(f){c.fn.qtip.mouse={pageX:f.pageX,pageY:f.pageY}});c.fn.qtip.version="2.0.0pre";c.fn.qtip.nextid=0;c.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");c.fn.qtip.zindex=15E3;c.fn.qtip.plugins={Corner:function(f){f=
String(f).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(f.match(/left|right/i)||f.match(/center/)||["inherit"])[0].toLowerCase();this.y=(f.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=f.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var b=this.x.substr(0,1),o=this.y.substr(0,1);return b===o?b:b==="c"||b!=="c"&&o!=="c"?o+b:b+o}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||
[0,"4_2"])[1].replace("_","."))<4.1};c.fn.qtip.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,resize:TRUE},effect:TRUE},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",
widget:FALSE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,focus:NULL,blur:NULL}};c.fn.qtip.plugins.ajax=function(f){var b=f.plugins.ajax;return"object"===typeof b?b:f.plugins.ajax=new Q(f)};c.fn.qtip.plugins.ajax.initialize="render";c.fn.qtip.plugins.ajax.sanitize=function(f){var b=f.content;if(b&&"ajax"in b){b=b.ajax;if(typeof b!=="object")b=f.content.ajax={url:b};if("boolean"!==typeof b.once&&b.once)b.once=!!b.once}};c.extend(TRUE,c.fn.qtip.defaults,{content:{ajax:{once:TRUE}}});
c.fn.qtip.plugins.tip=function(f){var b=f.plugins.tip;return"object"===typeof b?b:f.plugins.tip=new R(f)};c.fn.qtip.plugins.tip.initialize="render";c.fn.qtip.plugins.tip.sanitize=function(f){var b=f.style;if(b&&"tip"in b){b=f.style.tip;if(typeof b!=="object")f.style.tip={corner:b};if(!/string|boolean/i.test(typeof b.corner))b.corner=true;if(typeof b.method!=="string")b.method=TRUE;if(!/canvas|polygon/i.test(b.method))b.method=TRUE;typeof b.width!=="number"&&delete b.width;typeof b.height!=="number"&&
delete b.height;typeof b.border!=="number"&&b.border!==TRUE&&delete b.border;typeof b.offset!=="number"&&delete b.offset}};c.extend(TRUE,c.fn.qtip.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,method:TRUE,width:8,height:8,border:0,offset:0}}});c.fn.qtip.plugins.imagemap=function(f,b){function o(C,a){for(var l=0,w=1,d=1,e=0,i=0,j=C.width,g=C.height;j>0&&g>0&&w>0&&d>0;){j=Math.floor(j/2);g=Math.floor(g/2);if(b.x==="left")w=j;else if(b.x==="right")w=C.width-j;else w+=Math.floor(j/2);if(b.y==="top")d=
g;else if(b.y==="bottom")d=C.height-g;else d+=Math.floor(g/2);for(l=a.length;l--;){if(a.length<2)break;e=a[l][0]-C.offset.left;i=a[l][1]-C.offset.top;if(b.x==="left"&&e>=w||b.x==="right"&&e<=w||b.x==="center"&&(e<w||e>C.width-w)||b.y==="top"&&i>=d||b.y==="bottom"&&i<=d||b.y==="center"&&(i<d||i>C.height-d))a.splice(l,1)}}return{left:a[0][0],top:a[0][1]}}var h=f.attr("shape").toLowerCase(),m=f.attr("coords").split(","),k=[],v=c('img[usemap="#'+f.parent("map").attr("name")+'"]'),q=v.offset(),n={width:0,
height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},z=0,B=0;q.left+=Math.ceil((v.outerWidth()-v.width())/2);q.top+=Math.ceil((v.outerHeight()-v.height())/2);if(h==="poly")for(z=m.length;z--;){B=[parseInt(m[--z],10),parseInt(m[z+1],10)];if(B[0]>n.offset.right)n.offset.right=B[0];if(B[0]<n.offset.left)n.offset.left=B[0];if(B[1]>n.offset.bottom)n.offset.bottom=B[1];if(B[1]<n.offset.top)n.offset.top=B[1];k.push(B)}else k=c.map(m,function(C){return parseInt(C,10)});switch(h){case "rect":n={width:Math.abs(k[2]-
k[0]),height:Math.abs(k[3]-k[1]),offset:{left:k[0],top:k[1]}};break;case "circle":n={width:k[2]+2,height:k[2]+2,offset:{left:k[0],top:k[1]}};break;case "poly":c.extend(n,{width:Math.abs(n.offset.right-n.offset.left),height:Math.abs(n.offset.bottom-n.offset.top)});n.offset=b.string()==="centercenter"?{left:n.offset.left+n.width/2,top:n.offset.top+n.height/2}:o(n,k.slice());n.width=n.height=0;break}n.offset.left+=q.left;n.offset.top+=q.top;return n};c.fn.qtip.plugins.modal=function(f){var b=f.plugins.modal;
return"object"===typeof b?b:f.plugins.modal=new S(f)};c.fn.qtip.plugins.modal.initialize="render";c.fn.qtip.plugins.modal.sanitize=function(f){if(f.show)if(typeof f.show.modal!=="object")f.show.modal={on:!!f.show.modal};else if(typeof f.show.modal.on==="undefined")f.show.modal.on=TRUE};c.extend(TRUE,c.fn.qtip.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE}}});c.fn.qtip.plugins.bgiframe=function(f){if(!(c.browser.msie&&/^6\.[0-9]/.test(c.browser.version)&&c("select, object").length))return FALSE;
var b=f.plugins.bgiframe;if(b)return b;else{f.plugins.bgiframe=new T(f);return f.plugins.bgiframe}};c.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
