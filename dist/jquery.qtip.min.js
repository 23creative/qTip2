/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Wed Jan 19 13:16:32 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(b,O,T){function X(d){var a;if(!d)return o;if("object"!==typeof d.metadata)d.metadata={type:d.metadata};if("content"in d){if("object"!==typeof d.content||d.content.jquery)d.content={text:d.content};a=d.content.text||o;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))d.content.text=o;if("title"in d.content){if("object"!==typeof d.content.title)d.content.title={text:d.content.title};a=d.content.title.text||o;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===
typeof a&&!a.jquery))d.content.title.text=o}}if("position"in d)if("object"!==typeof d.position)d.position={my:d.position,at:d.position};if("show"in d)if("object"!==typeof d.show)d.show=d.show.jquery?{target:d.show}:{event:d.show};if("hide"in d)if("object"!==typeof d.hide)d.hide=d.hide.jquery?{target:d.hide}:{event:d.hide};if("style"in d)if("object"!==typeof d.style)d.style={classes:d.style};b.each(b.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(d)});return d}function Z(d,a,m,l){function r(e){var g,
i=e.split("."),q=a[i[0]];for(e=1;e<i.length;e+=1){g=q[i[e]];if(typeof g==="object"&&!g.jquery&&!g.precedance)q=q[i[e]];else break}return i[e]!==T?[q,i[e]]:[a,i[0]]}function j(e,g){var i={left:0,top:0},q=!b.fn.qtip.plugins.iOS,n=b(g),u;if(g)if(n.css("position")!=="static"){i=j(g);i.left*=-1;i.top*=-1}else if(n.css("overflow")!=="visible"){i.left-=g.scrollLeft;i.top-=g.scrollTop}if(e.offsetParent){do{n=e.offsetParent;u=n===g;i.left+=e.offsetLeft-(q&&n&&!u?n.scrollLeft:0);i.top+=e.offsetTop-(q&&n&&!u?
n.scrollTop:0)}while(e=n)}return i}function s(){return f.css("left")!==$}function x(){var e=c.elements,g=a.style.widget;f.toggleClass(Y,g);e.content.toggleClass(Y+"-content",g);e.titlebar&&e.titlebar.toggleClass(Y+"-header",g);e.button&&e.button.toggleClass(M+"-icon",!g)}function k(){var e=c.elements;if(e.title){e.titlebar.remove();e.titlebar=e.title=e.button=E;c.reposition()}}function D(){var e=c.elements,g=a.content.title.button;e.button&&e.button.remove();e.button=g.jquery?g:b("<a />",{"class":"ui-state-default "+
(a.style.widget?"":M+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(b("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));e.button.appendTo(e.titlebar).attr("role","button").hover(function(i){b(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(i){f.hasClass(S)||c.hide(i);return o}).bind("mousedown keydown mouseup keyup mouseout",function(i){b(this).toggleClass("ui-state-active ui-state-focus",i.type.substr(-4)==="down")});c.redraw()}function y(){var e=
c.elements,g=B+"-title";e.titlebar&&k();e.titlebar=b("<div />",{"class":M+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(e.title=b("<div />",{id:g,"class":M+"-title","aria-atomic":w})).insertBefore(e.content);if(a.content.title.button)D();else c.rendered===w&&c.redraw()}function z(e){var g=c.elements.title;if(!c.rendered||!e)return o;if(b.isFunction(e))e=e.call(d,c)||"";e.jquery&&e.length>0?g.empty().append(e.css({display:"block"})):g.html(e);c.redraw();c.rendered===w&&c.reposition(c.cache.event)}
function N(e){var g=c.elements.content;if(!c.rendered||!e)return o;if(b.isFunction(e))e=e.call(d,c)||"";e.jquery&&e.length>0?g.empty().append(e.css({display:"block"})):g.html(e);f.queue("fx",function(i){function q(u){n=n.not(u);if(n.length===0){c.redraw();c.rendered===w&&c.reposition(c.cache.event);i()}}var n=g.find("img:not([height]):not([width])");n.each(function(u,F){var K=["abort","error","load","unload",""].join(".qtip-image ");b(this).bind(K,function(){clearTimeout(c.timers.img[u]);q(this)});
(function A(){if(F.height)return q(F);c.timers.img[u]=setTimeout(A,20)})();return w});n.length===0&&q(n)});return c}function h(e,g,i,q){function n(t){if(f.hasClass(S))return o;G.show.trigger("qtip-"+m+"-inactive");clearTimeout(c.timers.show);clearTimeout(c.timers.hide);var H=function(){c.show(t)};if(a.show.delay>0)c.timers.show=setTimeout(H,a.show.delay);else H()}function u(t){if(f.hasClass(S))return o;var H=b(t.relatedTarget||t.target),J=H.parents(V)[0]===f[0];H=H[0]===G.show[0];clearTimeout(c.timers.show);
clearTimeout(c.timers.hide);if(a.hide.fixed&&(C.target==="mouse"&&J||/mouse(out|leave|move)/.test(t.type)&&(J||H))){t.stopPropagation();t.preventDefault();return o}f.stop(1,1);if(a.hide.delay>0)c.timers.hide=setTimeout(function(){c.hide(t)},a.hide.delay);else c.hide(t)}function F(t){if(f.hasClass(S))return o;clearTimeout(c.timers.inactive);c.timers.inactive=setTimeout(function(){c.hide(t)},a.hide.inactive)}function K(t){if(!c.cache.processing){c.cache.processing=1;s()&&c.reposition(t);c.cache.processing=
0}}var A=".qtip-"+m,C=a.position,G={show:a.show.target,hide:a.hide.target,container:C.container[0]===v?document:C.container},Q={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},R=b(document),I=b.browser.msie&&parseInt(b.browser.version,10)===6;if(i){if(a.hide.fixed){G.hide=G.hide.add(f);f.bind("mouseover"+A,function(){f.hasClass(S)||clearTimeout(c.timers.hide)})}f.bind("mouseenter"+A+" mouseleave"+A,function(t){c[t.type==="mouseenter"?"focus":"blur"](t)})}if(g){if("number"===
typeof a.hide.inactive){G.show.bind("qtip-"+m+"-inactive",F);b.each(b.fn.qtip.inactiveEvents,function(t,H){G.hide.add(c.elements.tooltip).bind(H+A+"-inactive",F)})}b.each(Q.hide,function(t,H){var J=b.inArray(H,Q.show),L=b(G.hide);if(J>-1&&L.add(G.show).length===L.length||H==="unfocus"){G.show.bind(H+A,function(P){s()?u(P):n(P)});delete Q.show[J]}else G.hide.bind(H+A,u)})}e&&b.each(Q.show,function(t,H){G.show.bind(H+A,n)});if(q){if(C.adjust.resize||C.viewport)b(b.event.special.resize?C.viewport:O).bind("resize"+
A,K);if(C.viewport||I&&f.css("position")==="fixed")b(C.viewport).bind("scroll"+A,K);/unfocus/i.test(a.hide.event)&&R.bind("mousedown"+A,function(t){var H=b(t.target);H.parents(V).length===0&&H.add(d).length>1&&s()&&!f.hasClass(S)&&c.hide(t)});C.target==="mouse"&&R.bind("mousemove"+A,function(t){if(C.adjust.mouse&&!f.hasClass(S)&&s())c.reposition(t||b.fn.qtip.mouse)})}}function p(e,g,i,q){q=parseInt(q,10)!==0;var n=".qtip-"+m;g={show:e?a.show.target:E,hide:g?a.hide.target:E,tooltip:i?c.elements.tooltip:
E,content:i?c.elements.content:E,container:q?a.position.container[0]===v?document:a.position.container:E,window:q?O:E};if(c.rendered)b([]).pushStack(b.grep([g.show,g.hide,g.tooltip,g.container,g.content,g.window],function(){return this!==null})).unbind(n);else e&&g.show.unbind(n+"-create")}var c=this,v=document.body,B=M+"-"+m,f;c.id=m;c.rendered=o;c.elements={target:d};c.timers={img:[]};c.options=a;c.plugins={};c.cache={event:{},target:E,disabled:o,lastFocus:v,attr:l};b.extend(c,{render:function(e){if(c.rendered)return o;
var g=c.elements,i=a.content.text,q=a.content.title.text,n=b.Event("tooltiprender");d.attr({"aria-describedby":B});f=g.tooltip=b("<div/>").attr({id:B,"class":M+" qtip ui-helper-reset "+a.style.classes,role:"alert","aria-live":"polite","aria-atomic":o,"aria-describedby":B+"-content","aria-hidden":w}).toggleClass(S,c.cache.disabled).data("qtip",c).appendTo(a.position.container).append(g.content=b("<div />",{"class":M+"-content",id:B+"-content","aria-atomic":w}));c.rendered=w;if(q){y();z(q)}N(i);b.each(b.fn.qtip.plugins,
function(){this.initialize==="render"&&this(c)});h(1,1,1,1);b.each(a.events,function(u,F){if(F)f.bind(u==="toggle"?"tooltipshow tooltiphide":"tooltip"+u,F)});f.queue("fx",function(u){n.originalEvent=c.cache.event;f.trigger(n,[c]);if(a.show.ready||e){f.hide();c.show(c.cache.event)}u()});return c},get:function(e){switch(e.toLowerCase()){case "dimensions":e={height:f.outerHeight(),width:f.outerWidth()};break;case "offset":e=j(f[0],a.position.container[0]);break;default:e=r(e.toLowerCase());e=e[0].precedance?
e[0].string():e[0].jquery?e[0]:e[0][e[1]];break}return e},set:function(e,g){e=e.toLowerCase();var i=r(e),q=c.elements,n,u,F,K={builtin:{"^id$":function(){var A=g===w?b.fn.qtip.nextid:g,C=M+"-"+A;if(A!==o&&A.length>0&&!b("#"+C).length){f[0].id=C;q.content[0].id=C+"-content";q.title[0].id=C+"-title"}},"^content.text$":function(){N(g)},"^content.title.text$":function(){if(!g)return k();!c.elements.title&&g&&y();z(g)},"^content.title.button$":function(){var A=c.elements.button,C=c.elements.title;if(c.rendered)if(g){C||
y();D()}else A.remove()},"^position.(my|at)$":function(){var A=/my$/i.test(e)?"my":"at";if("string"===typeof g)a.position[A]=new b.fn.qtip.plugins.Corner(g)},"^position.container$":function(){c.rendered===w&&f.appendTo(g)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(A,C,G,Q){var R=e.search(/fixed/i)>-1?[0,[0,1,1,1]]:[e.substr(0,3),e.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(R[0])A[C]=Q;p.apply(c,R[1]);if(R[0])A[C]=G;h.apply(c,R[1])},"^show.ready$":function(){c.rendered===o&&c.show()},
"^style.classes$":function(){f.attr("class",M+" qtip ui-helper-reset "+g)},"^style.widget|content.title":x,"^events.(render|show|move|hide|focus|blur)$":function(A,C,G){q.tooltip[(b.isFunction(g)?"":"un")+"bind"]("tooltip"+C,G)},"^position.(my|at|adjust|target|container)|style|content":function(){c.reposition()}}};b.each(c.plugins,function(A){if("object"===typeof this.checks)K[A]=this.checks});n=i[0][i[1]];i[0][i[1]]=g.nodeType?b(g):g;X(a);for(u in K)for(F in K[u])RegExp(F,"i").test(e)&&K[u][F].call(c,
i[0],i[1],g,n);return c},toggle:function(e,g){function i(){if(e)b.browser.msie&&f[0].style.removeAttribute("filter");else f.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(c.rendered===o)return o;var q=e?"show":"hide",n=a[q],u=s();if((typeof e).search("boolean|number"))e=!u;if(!u&&!e||f.is(":animated"))return c;if(g){if(/over|enter/.test(g.type)&&/out|leave/.test(c.cache.event.type)&&g.target===a.show.target[0]&&f.has(g.relatedTarget).length)return c;c.cache.event=b.extend({},
g)}u=b.Event("tooltip"+q);u.originalEvent=g?c.cache.event:E;f.trigger(u,[c,90]);if(u.isDefaultPrevented())return c;f.attr("aria-hidden",!!!e);if(e){f.hide().css({visibility:""});c.focus(g);c.reposition(g,0);n.solo&&b(V).not(f).qtip("hide")}else{clearTimeout(c.timers.show);c.blur(g)}f.stop(1,1);if(b.isFunction(n.effect)){n.effect.call(f,c);f.queue("fx",function(F){i.call(this,F);F()})}else if(n.effect===o){f[q]();i.call(f)}else f.fadeTo(90,e?1:0,i);e&&n.target.trigger("qtip-"+m+"-inactive");return b.fn.qtip.lastShown=
c},show:function(e){c.toggle(w,e)},hide:function(e){c.toggle(o,e)},focus:function(e){if(c.rendered===o)return o;var g=b(V),i=parseInt(f[0].style.zIndex,10),q=b.fn.qtip.zindex+g.length;e=b.extend({},e);if(!f.hasClass(W)){if(i!==q){g.each(function(){if(this.style.zIndex>i)this.style.zIndex-=1});g.filter("."+W).qtip("blur",e)}c.cache.lastFocus=document.activeElement;g=b.Event("tooltipfocus");g.originalEvent=e;f.trigger(g,[c,q]);if(!g.isDefaultPrevented())f.addClass(W)[0].style.zIndex=q}return c},blur:function(e){e=
b.extend({},e);var g;f.removeClass(W);g=b.Event("tooltipblur");g.originalEvent=e;f.trigger(g,[c])},reposition:function(e,g){if(c.rendered===o)return o;var i=a.position.target,q=a.position,n=q.my,u=q.at,F=q.adjust,K=f.outerWidth(),A=f.outerHeight(),C=0,G=0,Q=b.Event("tooltipmove"),R=f.css("position")==="fixed",I=q.viewport.jquery?q.viewport:b(O),t={left:0,top:0},H={left:function(J){var L=I.scrollLeft,P=u.x==="left"?C:u.x==="right"?-C:-C/2,U=L-J;L=J+K-I.width-L;P=(n.x==="left"?K:n.x==="right"?-K:-K/
2)-(n.precedance==="x"||n.x===n.y?P:0);if(U>0&&(n.x!=="left"||L>0))t.left-=P;else if(L>0&&(n.x!=="right"||U>0))t.left-=(n.x==="center"?-1:1)*P+2*F.x;if(t.left<0&&-t.left>L)t.left=J;return t.left-J},top:function(J){var L=I.scrollTop,P=u.y==="top"?G:u.y==="bottom"?-G:-G/2,U=L-J;L=J+A-I.height-L;P=(n.y==="top"?A:n.y==="bottom"?-A:-A/2)-(n.precedance==="y"||n.x===n.y?P:0);if(U>0&&(n.y!=="top"||L>0))t.top-=P;else if(L>0&&(n.y!=="bottom"||U>0))t.top-=(n.y==="center"?-1:1)*P+2*F.y;if(t.top<0&&-t.top>L)t.top=
J;return t.top-J}};g=g===T||!!g||o;I=!I?o:{elem:I,height:I[(I[0]===O?"h":"outerH")+"eight"](),width:I[(I[0]===O?"w":"outerW")+"idth"](),scrollLeft:I.scrollLeft(),scrollTop:I.scrollTop()};if(i==="mouse"){u={x:"left",y:"top"};e=e&&(e.type==="resize"||e.type==="scroll")?c.cache.event:F.mouse||!e||!e.pageX?b.extend({},b.fn.qtip.mouse):e;t={top:e.pageY,left:e.pageX}}else{if(i==="event")i=e&&e.target&&e.type!=="scroll"&&e.type!=="resize"?c.cache.target=b(e.target):c.cache.target;i=b(i).eq(0);if(i.length===
0)return c;else if(i[0]===document||i[0]===O){C=i.width();G=i.height();if(i[0]===O)t={top:R?0:I.scrollTop,left:R?0:I.scrollLeft}}else if(i.is("area")&&b.fn.qtip.plugins.imagemap){t=b.fn.qtip.plugins.imagemap(i,u);C=t.width;G=t.height;t=t.offset}else{C=i.outerWidth();G=i.outerHeight();t=j(i[0],q.container[0])}t.left+=u.x==="right"?C:u.x==="center"?C/2:0;t.top+=u.y==="bottom"?G:u.y==="center"?G/2:0}t.left+=F.x+(n.x==="right"?-K:n.x==="center"?-K/2:0);t.top+=F.y+(n.y==="bottom"?-A:n.y==="center"?-A/
2:0);t.adjusted=q.viewport.jquery&&i[0]!==O&&i[0]!==v?{left:H.left(t.left),top:H.top(t.top)}:{left:0,top:0};f.attr("class",function(){return b(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(M+"-pos-"+n.abbreviation());Q.originalEvent=b.extend({},e);f.trigger(Q,[c,t,I.elem]);if(Q.isDefaultPrevented())return c;delete t.adjusted;if(!g||!isNaN(t.left,t.top))f.css(t);else if(s()&&b.isFunction(q.effect)){q.effect.call(f,c,t);f.queue(function(J){b(this).css({opacity:"",height:""});b.browser.msie&&
this.style&&this.style.removeAttribute("filter");J()})}return c},redraw:function(){if(!c.rendered||!(b.browser.msie&&b.browser.version<8))return o;var e=M+"-fluid",g;f.css({width:"auto",height:"auto"}).addClass(e);g={height:f.outerHeight(),width:f.outerWidth()};b.each(["width","height"],function(i,q){var n=parseInt(f.css("max-"+q),10)||0,u=parseInt(f.css("min-"+q),10)||0;g[q]=n+u?Math.min(Math.max(g[q],u),n):g[q]});f.css(g).removeClass(e)},disable:function(e){var g=S;if("boolean"!==typeof e)e=!(f.hasClass(g)||
c.cache.disabled);if(c.rendered){f.toggleClass(g,e);f.attr("aria-disabled",e)}else c.cache.disabled=!!e;return c},destroy:function(){var e=b.data(d[0],"oldtitle");if(c.rendered){f.remove();b.each(c.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(c.timers.show);clearTimeout(c.timers.hide);p(1,1,1,1);d.removeData("qtip");e&&d.attr("title",e);d.removeAttr("aria-describedby");return d}})}function aa(d,a){var m,l,r,j=b(this),s=b(document.body),x=this===document?s:j;l=j.metadata?
j.metadata(a.metadata):E;var k=b.extend(w,{},b.fn.qtip.defaults,a,X((l&&a.metadata.type==="html5"?l[a.metadata.name]:E)||l));j.removeData("metadata");l=k.position;if("boolean"===typeof k.content.text)if(k.content.attr!==o&&j.attr(k.content.attr)){k.content.text=j.attr(k.content.attr);r=k.content.attr}else return o;if(l.container===o)l.container=s;if(l.target===o)l.target=x;if(k.show.target===o)k.show.target=x;if(k.hide.target===o)k.hide.target=x;if(k.position.viewport===w)k.position.viewport=l.container;
l.at=new b.fn.qtip.plugins.Corner(l.at);l.my=new b.fn.qtip.plugins.Corner(l.my);if(b.data(this,"qtip"))if(k.overwrite)j.qtip("destroy");else if(k.overwrite===o)return o;if(j.attr("title")){b.data(this,"oldtitle",j.attr("title"));j.removeAttr("title")}m=new Z(j,k,d,r);b.data(this,"qtip",m);j.bind("remove.qtip",function(){m.destroy()});return m}function ba(d){var a=this,m=d.elements.tooltip,l=d.options.content.ajax;a.checks={"^content.ajax":function(r,j){if(j==="once")a.once();else l&&l.url&&a.load()}};
b.extend(a,{init:function(){if(l&&l.url){a.load();m.one("tooltipshow",a.once)}},once:function(){l.once?a.destroy():m.bind("tooltipshow.qtip-ajax",a.load)},load:function(){b.ajax(b.extend({success:function(r){d.set("content.text",r)},error:function(r,j,s){d.set("content.text",j+": "+s)},context:d},l));return a},destroy:function(){m.unbind(".qtip-ajax")}});a.init()}function ca(d,a,m){var l=Math.ceil(a/2),r=Math.ceil(m/2);a={bottomright:[[0,0],[a,m],[a,0]],bottomleft:[[0,0],[a,0],[0,m]],topright:[[0,
m],[a,0],[a,m]],topleft:[[0,0],[0,m],[a,m]],topcenter:[[0,m],[l,0],[a,m]],bottomcenter:[[0,0],[a,0],[l,m]],rightcenter:[[0,0],[a,r],[0,m]],leftcenter:[[a,0],[a,m],[0,r]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=a.topleft;return a[d.string()]}function da(d){function a(h,p,c){if(s.tip){h=b.extend({},r.corner);p=c.adjusted;var v;if(r.corner.fixed!==w){if(p.left)h.x=h.x==="center"?p.left>0?"left":"right":h.x==="left"?"right":"left";if(p.top)h.y=h.y==="center"?
p.top>0?"top":"bottom":h.y==="top"?"bottom":"top";if(h.string()!==k.corner&&(k.top!==p.top||k.left!==p.left))v=r.update(h)}v||(v=r.position(h,0));if(v.right!==T)v.left=v.right;if(v.bottom!==T)v.top=v.bottom;v.option=Math.max(0,j.offset);c.left-=v.left.charAt?v.option:(v.right?-1:1)*v.left;c.top-=v.top.charAt?v.option:(v.bottom?-1:1)*v.top;k.left=p.left;k.top=p.top;k.corner=h.string()}}function m(h,p,c){p=!p?h[h.precedance]:p;p="border-"+p+"-width";h=parseInt((s.titlebar&&h.y==="top"?s.titlebar:s.content).css(p),
10);return(c?h||parseInt(x.css(p),10):h)||0}function l(h){var p=h.precedance==="y",c=D[p?"width":"height"],v=D[p?"height":"width"],B=h.string().indexOf("center")>-1,f=c*(B?0.5:1),e=Math.pow;h=Math.round;var g=Math.sqrt(e(f,2)+e(v,2));f=[z/f*g,z/v*g];f[2]=Math.sqrt(e(f[0],2)-e(z,2));f[3]=Math.sqrt(e(f[1],2)-e(z,2));B=(g+f[2]+f[3]+(B?0:f[0]))/g;c=[h(B*v),h(B*c)];return{height:c[p?0:1],width:c[p?1:0]}}var r=this,j=d.options.style.tip,s=d.elements,x=s.tooltip,k={top:0,left:0,corner:""},D={width:j.width,
height:j.height},y={},z=j.border||0,N=b("<canvas />")[0].getContext;r.corner=E;r.mimic=E;r.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){r.init()||r.destroy();d.reposition()},"^style.tip.(height|width)$":function(){D={width:j.width,height:j.height};r.create();r.update();d.reposition()},"^content.title.text|style.(classes|widget)$":function(){s.tip&&r.update()}};b.extend(r,{init:function(){var h=r.detectCorner()&&(N||b.browser.msie);if(h){r.create();r.update();x.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",
a)}return h},detectCorner:function(){var h=j.corner,p=d.options.position,c=p.at;p=p.my.string?p.my.string():p.my;if(h===o||p===o&&c===o)return o;else if(h===w)r.corner=new b.fn.qtip.plugins.Corner(p);else if(!h.string){r.corner=new b.fn.qtip.plugins.Corner(h);r.corner.fixed=w}return r.corner.string()!=="centercenter"},detectColours:function(){var h=s.tip.css({backgroundColor:"",border:""}),p=r.corner,c=p[p.precedance],v="border-"+c+"-color";c="border"+c.charAt(0)+c.substr(1)+"Color";var B=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;
p=s.titlebar&&(p.y==="top"||p.y==="center"&&h.position().top+D.height/2+j.offset<s.titlebar.outerHeight(1))?s.titlebar:s.content;y.fill=h.css("background-color")||"transparent";y.border=h[0].style[c];if(!y.fill||B.test(y.fill)){y.fill=p.css("background-color");if(B.test(y.fill))y.fill=x.css("background-color")}if(!y.border||B.test(y.border)){y.border=x.css(v);if(B.test(y.border)||y.border===b(document.body).css("color"))y.border=p.css(v)!==b(d.elements.content).css("color")?p.css(v):"transparent"}b("*",
h).add(h).css("background-color","transparent").css("border","0px dashed transparent")},create:function(){var h=D.width,p=D.height;s.tip&&s.tip.remove();s.tip=b("<div />",{"class":"ui-tooltip-tip"}).css({width:h,height:p}).prependTo(x);if(N)b("<canvas />").appendTo(s.tip)[0].getContext("2d").save();else{h='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';s.tip.html(z?h+=h:h)}},update:function(h){var p=s.tip,c=p.children(),v=D.width,B=
D.height,f=j.mimic,e=Math.round,g,i,q;if(!h)h=r.corner;if(f===o)f=h;else{f=new b.fn.qtip.plugins.Corner(f);f.precedance=h.precedance;if(f.x==="inherit")f.x=h.x;else if(f.y==="inherit")f.y=h.y;else if(f.x===f.y)f[h.precedance]=h[h.precedance]}g=f.precedance;r.detectColours();z=y.border==="transparent"||y.border==="#123456"?0:j.border===w?m(h,E,w):j.border;i=ca(f,v,B);q=l(h);p.css(q);p=h.precedance==="y"?[e(f.x==="left"?z:f.x==="right"?q.width-v-z:(q.width-v)/2),e(f.y==="top"?q.height-B:0)]:[e(f.x===
"left"?q.width-v:0),e(f.y==="top"?z:f.y==="bottom"?q.height-B-z:(q.height-B)/2)];if(N){c.attr(q);c=c[0].getContext("2d");c.restore();c.save();c.clearRect(0,0,3E3,3E3);c.translate(p[0],p[1]);c.beginPath();c.moveTo(i[0][0],i[0][1]);c.lineTo(i[1][0],i[1][1]);c.lineTo(i[2][0],i[2][1]);c.closePath();c.fillStyle=y.fill;c.strokeStyle=y.border;c.lineWidth=z*2;c.lineJoin="miter";c.miterLimit=100;c.stroke();c.fill()}else{i="m"+i[0][0]+","+i[0][1]+" l"+i[1][0]+","+i[1][1]+" "+i[2][0]+","+i[2][1]+" xe";p[2]=
z&&/^(r|b)/i.test(h.string())?1:0;c.css({antialias:""+(f.string().indexOf("center")>-1),left:p[0]-p[2]*Number(g==="x"),top:p[1]-p[2]*Number(g==="y"),width:v+z,height:B+z}).each(function(n){var u=b(this);u.attr({coordsize:v+z+" "+(B+z),path:i,fillcolor:y.fill,filled:!!n,stroked:!!!n}).css({display:z||n?"block":"none"});!n&&z>0&&u.html()===""&&u.html('<vml:stroke weight="'+z*2+'px" color="'+y.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}return r.position(h,
1)},position:function(h,p){var c=s.tip,v={},B=Math.max(0,j.offset),f,e,g;if(j.corner===o||!c)return o;h=h||r.corner;f=h.precedance;e=l(h)[f==="x"?"width":"height"];g=b.browser.msie&&z&&/^(b|r)/i.test(h.string())?1:0;b.each(f==="y"?[h.x,h.y]:[h.y,h.x],function(i,q){var n,u;if(q==="center"){n=f==="y"?"left":"top";v[n]="50%";v["margin-"+n]=-Math.round(e/2)+B}else{n=m(h,q,w);u=b.browser.mozilla;var F=h.y+(u?"":"-")+h.x;u=(u?"-moz-":b.browser.webkit?"-webkit-":"")+(u?"border-radius-"+F:"border-"+F+"-radius");
u=parseInt((s.titlebar&&h.y==="top"?s.titlebar:s.content).css(u),10)||parseInt(x.css(u),10)||0;v[q]=i||!z?m(h,q):B+(u>n?u:0)}});v[h[f]]-=e+g;p&&c.css({top:"",bottom:"",left:"",right:"",margin:""}).css(v);return v},destroy:function(){s.tip&&s.tip.remove();x.unbind(".qtip-tip")}});r.init()}function ea(d){var a=this,m=d.options.show.modal,l=d.elements,r=l.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();l.overlay.toggle(r.is(":visible"))}};b.extend(a,{init:function(){if(m.on){r.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(j,s,x){j=j.type.replace("tooltip","");b.isFunction(m[j])?m[j].call(l.overlay,x,s):a[j](x)});a.create();m.blur===w&&l.overlay.unbind(".qtipmodal"+d.id).bind("click.qtipmodal"+d.id,function(){d.hide.call(d)})}},create:function(){var j=b("#qtip-overlay");if(j.length)l.overlay=j;else{l.overlay=b("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(r.css("z-index"),10)-1}}).appendTo(document.body);b(O).bind("resize.qtipmodal",function(){l.overlay.css({height:Math.max(b(O).height(),
b(document).height()),width:Math.max(b(O).width(),b(document).width())})}).trigger("resize")}},toggle:function(j){var s=l.overlay,x=d.options.show.modal.effect,k=j?"show":"hide";s.stop(w,o);if(b.isFunction(x))x.call(s,j);else x===o?s[k]():s.fadeTo(90,j?0.7:0,function(){j||b(this).hide()})},show:function(){a.toggle(w)},hide:function(){a.toggle(o)},destroy:function(){var j=w;b("*").each(function(){var s=b(this).data("qtip");if(s&&s.id!==d.id&&s.options.show.modal)return j=o});if(j){l.overlay.remove();
b(O).unbind(".qtipmodal")}else l.overlay.unbind(".qtipmodal"+d.id);r.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function fa(d){var a=this,m=d.elements,l=m.tooltip,r=".bgiframe-"+d.id,j="tooltipmove"+r+" tooltipshow"+r;b.extend(a,{init:function(){m.bgiframe=b('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');m.bgiframe.appendTo(l);l.bind(j,a.adjust)},
adjust:function(){var s=d.get("dimensions"),x=d.plugins.tip,k=d.elements.tip,D;D=parseInt(l.css("border-left-width"),10)||0;D={left:-D,top:-D};if(x&&k){x=x.corner.precedance==="x"?["width","left"]:["height","top"];D[x[1]]-=k[x[0]]()}m.bgiframe.css(D).css(s)},destroy:function(){a.iframe.remove();l.unbind(j)}});a.init()}var w=true,o=false,E=null,M="ui-tooltip",Y="ui-widget",S="ui-state-disabled",V="div.qtip."+M,W=M+"-focus",$="-31000px";b.fn.qtip=function(d,a,m){var l=String(d).toLowerCase(),r=E,j=
l==="disable"?[w]:b.makeArray(arguments).slice(1,10),s=j[j.length-1],x=this[0]?b.data(this[0],"qtip"):E;if(!arguments.length&&x||l==="api")return x;else if("string"===typeof d){this.each(function(){var k=b.data(this,"qtip");if(!k)return w;if(/option|set/.test(l)&&a)if(m!==T)k.set(a,m);else r=k.get(a);else{if(!k.rendered&&(l==="show"||l==="toggle")){if(s&&s.timeStamp)k.cache.event=s;k.render(1)}else if(l==="enable"){l="disable";j=[o]}k[l]&&k[l].apply(k[l],j)}});return r!==E?r:this}else if("object"===
typeof d||!arguments.length){x=X(b.extend(w,{},d));return b.fn.qtip.bind.call(this,x,s)}};b.fn.qtip.bind=function(d,a){return this.each(function(){function m(D){function y(){k.render(typeof D==="object"||l.show.ready);r.show.unbind(j.show);r.hide.unbind(j.hide)}if(k.cache.disabled)return o;k.cache.event=b.extend({},D);if(l.show.delay>0){clearTimeout(k.timers.show);k.timers.show=setTimeout(y,l.show.delay);j.show!==j.hide&&r.hide.bind(j.hide,function(){clearTimeout(k.timers.show)})}else y()}var l,r,
j,s=d.id=!d.id||d.id===o||d.id.length<1||b("#"+M+"-"+d.id).length?b.fn.qtip.nextid++:d.id,x=".qtip-"+s+"-create",k=aa.call(this,s,d);if(k===o)return w;l=k.options;b.each(b.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(k)});r={show:l.show.target,hide:l.hide.target};j={show:String(l.show.event).replace(" ",x+" ")+x,hide:String(l.hide.event).replace(" ",x+" ")+x};r.show.bind(j.show,m);if(l.show.ready||l.prerender)m(a)})};b.each({attr:function(d,a){var m=this[0],l=b.data(m,"qtip");if(d===
"title")if(arguments.length===1)return b.data(m,"oldtitle");else{l&&l.rendered&&l.options.content.attr==="title"&&l.cache.attr&&l.set("content.text",a);return b.data(m,"oldtitle",a)}},clone:function(){var d=b([]),a;b("*",this).each(function(){var m=b.data(this,"oldtitle");if(m){b.attr(this,"title",m);d=d.add(this)}});a=b.fn.Oldclone.apply(this,arguments);d.removeAttr("title");return a},remove:b.ui?E:function(d,a){b(this).each(function(){if(!a)if(!d||b.filter(d,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})})}},
function(d,a){if(!a)return w;b.fn["Old"+d]=b.fn[d];b.fn[d]=function(){return a.apply(this,arguments)||b.fn["Old"+d].apply(this,arguments)}});b(O).load(function(){var d=document,a=d.body;b(d).bind("mousemove.qtip",function(m){b.fn.qtip.mouse={pageX:m.pageX,pageY:m.pageY}});d.activeElement===T&&d.addEventListener("focus",function(m){if(m&&m.target)d.activeElement=m.target===d?a:m.target},true)});b.fn.qtip.version="2.0.0pre";b.fn.qtip.nextid=0;b.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");
b.fn.qtip.zindex=15E3;b.fn.qtip.plugins={Corner:function(d){d=String(d).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(d.match(/left|right/i)||d.match(/center/)||["inherit"])[0].toLowerCase();this.y=(d.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=d.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),m=this.y.substr(0,1);
return a===m?a:a==="c"||a!=="c"&&m!=="c"?m+a:a+m}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};b.fn.qtip.defaults={prerender:o,id:o,overwrite:w,metadata:{type:"class"},content:{text:w,attr:"title",title:{text:o,button:o}},position:{my:"top left",at:"bottom right",target:o,container:o,viewport:o,adjust:{x:0,y:0,mouse:w,resize:w},effect:w},show:{target:o,event:"mouseenter",effect:w,delay:90,solo:o,ready:o},hide:{target:o,
event:"mouseleave",effect:w,delay:0,fixed:o,inactive:o},style:{classes:"",widget:o},events:{render:E,move:E,show:E,hide:E,toggle:E,focus:E,blur:E}};b.fn.qtip.plugins.ajax=function(d){var a=d.plugins.ajax;return"object"===typeof a?a:d.plugins.ajax=new ba(d)};b.fn.qtip.plugins.ajax.initialize="render";b.fn.qtip.plugins.ajax.sanitize=function(d){var a=d.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=d.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};b.extend(w,
b.fn.qtip.defaults,{content:{ajax:{once:w}}});b.fn.qtip.plugins.tip=function(d){var a=d.plugins.tip;return"object"===typeof a?a:d.plugins.tip=new da(d)};b.fn.qtip.plugins.tip.initialize="render";b.fn.qtip.plugins.tip.sanitize=function(d){var a=d.style;if(a&&"tip"in a){a=d.style.tip;if(typeof a!=="object")d.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=w;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&delete a.height;typeof a.border!=="number"&&a.border!==
w&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};b.extend(w,b.fn.qtip.defaults,{style:{tip:{corner:w,mimic:o,width:8,height:8,border:w,offset:0}}});b.fn.qtip.plugins.imagemap=function(d,a){function m(z,N){for(var h=0,p=1,c=1,v=0,B=0,f=z.width,e=z.height;f>0&&e>0&&p>0&&c>0;){f=Math.floor(f/2);e=Math.floor(e/2);if(a.x==="left")p=f;else if(a.x==="right")p=z.width-f;else p+=Math.floor(f/2);if(a.y==="top")c=e;else if(a.y==="bottom")c=z.height-e;else c+=Math.floor(e/2);for(h=N.length;h--;){if(N.length<
2)break;v=N[h][0]-z.offset.left;B=N[h][1]-z.offset.top;if(a.x==="left"&&v>=p||a.x==="right"&&v<=p||a.x==="center"&&(v<p||v>z.width-p)||a.y==="top"&&B>=c||a.y==="bottom"&&B<=c||a.y==="center"&&(B<c||B>z.height-c))N.splice(h,1)}}return{left:N[0][0],top:N[0][1]}}var l=d.attr("shape").toLowerCase(),r=d.attr("coords").split(","),j=[],s=b('img[usemap="#'+d.parent("map").attr("name")+'"]'),x=s.offset(),k={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},D=0,y=0;x.left+=Math.ceil((s.outerWidth()-
s.width())/2);x.top+=Math.ceil((s.outerHeight()-s.height())/2);if(l==="poly")for(D=r.length;D--;){y=[parseInt(r[--D],10),parseInt(r[D+1],10)];if(y[0]>k.offset.right)k.offset.right=y[0];if(y[0]<k.offset.left)k.offset.left=y[0];if(y[1]>k.offset.bottom)k.offset.bottom=y[1];if(y[1]<k.offset.top)k.offset.top=y[1];j.push(y)}else j=b.map(r,function(z){return parseInt(z,10)});switch(l){case "rect":k={width:Math.abs(j[2]-j[0]),height:Math.abs(j[3]-j[1]),offset:{left:j[0],top:j[1]}};break;case "circle":k={width:j[2]+
2,height:j[2]+2,offset:{left:j[0],top:j[1]}};break;case "poly":b.extend(k,{width:Math.abs(k.offset.right-k.offset.left),height:Math.abs(k.offset.bottom-k.offset.top)});k.offset=a.string()==="centercenter"?{left:k.offset.left+k.width/2,top:k.offset.top+k.height/2}:m(k,j.slice());k.width=k.height=0;break}k.offset.left+=x.left;k.offset.top+=x.top;return k};b.fn.qtip.plugins.modal=function(d){var a=d.plugins.modal;return"object"===typeof a?a:d.plugins.modal=new ea(d)};b.fn.qtip.plugins.modal.initialize=
"render";b.fn.qtip.plugins.modal.sanitize=function(d){if(d.show)if(typeof d.show.modal!=="object")d.show.modal={on:!!d.show.modal};else if(typeof d.show.modal.on==="undefined")d.show.modal.on=w};b.extend(w,b.fn.qtip.defaults,{show:{modal:{on:o,effect:w,blur:w}}});b.fn.qtip.plugins.bgiframe=function(d){if(!(b.browser.msie&&/^6\.[0-9]/.test(b.browser.version)&&b("select, object").length))return o;var a=d.plugins.bgiframe;if(a)return a;else{d.plugins.bgiframe=new fa(d);return d.plugins.bgiframe}};b.fn.qtip.plugins.bgiframe.initialize=
"render"})(jQuery,window);
