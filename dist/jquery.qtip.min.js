/*
* qTip2 - Pretty pwoerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Tue Jan 4 01:07:45 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(c,I,O){function S(e){var a;if(!e)return n;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};a=e.content.text||n;if(!c.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))a=e.content.text=n;if("title"in e.content&&"object"!==typeof e.content.title)e.content.title={text:e.content.title}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,at:e.position};
if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e&&"object"!==typeof e.style)e.style={classes:e.style};c.each(c.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function V(e,a,q){function i(d){var f,g=d.split("."),j=a[g[0]];for(d=1;d<g.length;d+=1){f=j[g[d]];if(typeof f==="object"&&!f.jquery&&!f.precedance)j=j[g[d]];else break}return g[d]!==
O?[j,g[d]]:[a,g[0]]}function o(d,f){var g={left:0,top:0},j=!c.fn.qtip.plugins.iOS,h,m;if(f){g=o(f);g.left*=-1;g.top*=-1}if(d.offsetParent){do{h=d.offsetParent;m=h===f;g.left+=d.offsetLeft-(j&&h&&!m?h.scrollLeft:0);g.top+=d.offsetTop-(j&&h&&!m?h.scrollTop:0)}while(d=h)}return g}function k(d,f){var g=b.elements.tooltip,j=E+"-accessible "+(f?E+"-accessible-fluid":""),h=!g.is(":visible"),m=n;if(!b.rendered)return n;h&&g.addClass(j);switch(d){case "dimensions":m={height:g.outerHeight(),width:g.outerWidth()};
break;case "position":m=o(g[0],a.position.container);break}h&&g.removeClass(j);return m}function s(){var d=b.elements,f=a.style.widget;d.tooltip.toggleClass(T,f);d.content.toggleClass(T+"-content",f);d.titlebar&&d.titlebar.toggleClass(T+"-header",f);d.button&&d.button.toggleClass(E+"-icon",!f)}function z(){var d=b.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=D;d.tooltip.removeAttr("aria-labelledby");b.reposition()}}function p(){var d=b.elements,f=a.content.title.button;d.button&&
d.button.remove();d.button=f.jquery?f:c("<a />",{"class":"ui-state-default "+(a.style.widget?"":E+"-icon"),title:"Close"}).prepend(c("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));d.button.prependTo(d.titlebar).attr("role","button").hover(function(g){c(this).toggleClass("ui-state-hover",g.type==="mouseenter")}).click(function(){d.tooltip.hasClass(K)||b.hide();return n}).bind("mousedown keydown mouseup keyup mouseout",function(g){c(this).toggleClass("ui-state-active ui-state-focus",
/down$/i.test(g.type))});b.redraw()}function A(){var d=b.elements;d.titlebar&&z();d.titlebar=c("<div />",{"class":E+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(d.title=c("<div />",{id:E+"-"+q+"-title","class":E+"-title",html:a.content.title.text})).insertBefore(d.content);if(a.content.title.button)p();else b.rendered===v&&b.redraw()}function C(d){var f=b.elements;if(!b.rendered||!d)return n;if(c.isFunction(d))d=d.call(e);d.jquery&&d.length>0?f.content.empty().append(d.css({display:"block"})):
f.content.html(d);f.tooltip.queue("fx",function(g){function j(m){h=h.not(m);if(h.length===0){b.redraw();b.rendered===v&&b.reposition(b.cache.event);g()}}var h=c("img:not([height]):not([width])",b.elements.content);h.each(function(m,B){var t=["abort","error","load","unload",""].join(".qtip-image ");c(this).bind(t,function(){clearTimeout(b.timers.img[m]);j(this)});(function y(){if(B.height)return j(B);b.timers.img[m]=setTimeout(y,20)})();return v});h.length===0&&j(h)});return b}function F(d,f,g,j){function h(w){if(r.tooltip.hasClass(K))return n;
r.show.trigger("qtip-"+q+"-inactive");clearTimeout(b.timers.show);clearTimeout(b.timers.hide);var u=function(){b.show(w)};if(a.show.delay>0)b.timers.show=setTimeout(u,a.show.delay);else u()}function m(w){if(r.tooltip.hasClass(K))return n;var u=c(w.relatedTarget||w.target).parents(Q)[0]===r.tooltip[0],M=c(w.relatedTarget||w.target)[0]===r.show[0];clearTimeout(b.timers.show);clearTimeout(b.timers.hide);if(a.hide.fixed&&(x.target==="mouse"&&u||/mouse(out|leave|move)/.test(w.type)&&(u||M))){w.stopPropagation();
w.preventDefault();return n}r.tooltip.stop(1,1);if(a.hide.delay>0)b.timers.hide=setTimeout(function(){b.hide(w)},a.hide.delay);else b.hide(w)}function B(w){if(r.tooltip.hasClass(K))return n;clearTimeout(b.timers.inactive);b.timers.inactive=setTimeout(function(){b.hide(w)},a.hide.inactive)}function t(w){if(!b.cache.processing){b.cache.processing=1;b.elements.tooltip.is(":visible")&&b.reposition(w);b.cache.processing=0}}var y=".qtip-"+q,x=a.position,r={show:a.show.target,hide:a.hide.target,tooltip:b.elements.tooltip,
container:x.container[0]===N?document:x.container},J={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},P=c.browser.msie&&parseInt(c.browser.version,10)===6;if(g&&a.hide.fixed){r.hide=r.hide.add(r.tooltip);r.tooltip.bind("mouseover"+y,function(){r.tooltip.hasClass(K)||clearTimeout(b.timers.hide)})}if(f){if("number"===typeof a.hide.inactive){r.show.bind("qtip-"+q+"-inactive",B);c.each(c.fn.qtip.inactiveEvents,function(w,u){r.hide.add(b.elements.tooltip).bind(u+y+"-inactive",
B)})}c.each(J.hide,function(w,u){var M=c.inArray(u,J.show);if(M>-1&&c(r.hide).add(r.show).length===c(r.hide).length||u==="unfocus"){r.show.bind(u+y,function(G){r.tooltip.is(":visible")?m(G):h(G)});delete J.show[M]}else r.hide.bind(u+y,m)})}if(d){c.each(J.show,function(w,u){r.show.bind(u+y,h)});r.tooltip.bind("mouseover"+y,function(){b.focus()})}if(j){if(x.adjust.resize||x.viewport)c(c.event.special.resize?x.viewport:I).bind("resize"+y,t);if(x.viewport||P&&r.tooltip.css("position")==="fixed")c(x.viewport).bind("scroll"+
y,t);/unfocus/i.test(a.hide.event)&&c(document).bind("mousedown"+y,function(w){var u=b.elements.tooltip;c(w.target).parents(Q).length===0&&c(w.target).add(e).length>1&&u.is(":visible")&&!u.hasClass(K)&&b.hide(w)});x.target==="mouse"&&c(document).bind("mousemove"+y,function(w){if(x.adjust.mouse&&!r.tooltip.hasClass(K)&&r.tooltip.is(":visible"))b.reposition(w||c.fn.qtip.mouse)})}}function l(d,f,g,j){j=parseInt(j,10)!==0;var h=".qtip-"+q;f={show:d?a.show.target:D,hide:f?a.hide.target:D,tooltip:g?b.elements.tooltip:
D,content:g?b.elements.content:D,container:j?a.position.container[0]===N?document:a.position.container:D,window:j?I:D};if(b.rendered)c([]).pushStack(c.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(h);else d&&f.show.unbind(h+"-create")}var b=this;b.id=q;b.rendered=n;b.elements={target:e};b.cache={event:{},target:D,disabled:n,position:D};b.timers={img:[]};b.options=a;b.plugins={};c.extend(b,{render:function(d){if(b.rendered)return n;var f=b.elements,
g=c.Event("tooltiprender");f.tooltip=c("<div/>").attr({id:E+"-"+q,role:"tooltip","class":E+" qtip ui-tooltip-accessible ui-tooltip-default ui-helper-reset "+a.style.classes}).toggleClass(K,b.cache.disabled).data("qtip",b).appendTo(a.position.container).append(f.content=c("<div />",{"class":E+"-content",id:E+"-"+q+"-content"}));b.rendered=v;a.content.title.text&&A();C(a.content.text);c.each(c.fn.qtip.plugins,function(){this.initialize==="render"&&this(b)});F(1,1,1,1);c.each(a.events,function(j,h){if(h)f.tooltip.bind(j===
"toggle"?"tooltipshow tooltiphide":"tooltip"+j,h)});f.tooltip.queue("fx",function(j){f.tooltip.removeClass("ui-tooltip-accessible");g.originalEvent=b.cache.event;f.tooltip.trigger(g,[b]);if(a.show.ready||d){f.tooltip.hide();b.show(b.cache.event)}j()});return b},get:function(d){switch(d.toLowerCase()){case "offset":d=k("position");break;case "dimensions":d=k("dimensions");break;default:d=i(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,f){d=
d.toLowerCase();var g=i(d),j=b.elements,h=j.tooltip,m,B,t,y={builtin:{"^id$":function(){var x=f===v?c.fn.qtip.nextid:f,r=E+"-"+x;if(x!==n&&x.length>0&&!c("#"+r).length){h[0].id=r;j.content[0].id=r+"-content";j.title[0].id=r+"-title"}},"^content.text$":function(){C(f)},"^content.title.text$":function(){if(b.rendered)if(!b.elements.title&&f){A();b.reposition()}else f?b.elements.title.html(f):z()},"^content.title.button$":function(){var x=b.elements.button,r=b.elements.title;if(b.rendered)if(f){r||A();
p()}else x.remove()},"^position.(my|at)$":function(){var x=/my$/i.test(d)?"my":"at";if("string"===typeof f)a.position[x]=new c.fn.qtip.plugins.Corner(f)},"^position.container$":function(){b.rendered===v&&h.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(x,r,J,P){var w=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(w[0])x[r]=P;l.apply(b,w[1]);if(w[0])x[r]=J;F.apply(b,w[1])},"^show.ready$":function(){b.rendered===n&&b.show()},"^style.classes$":function(){b.elements.tooltip.attr("class",
E+" qtip ui-helper-reset "+f)},"^style.widget|content.title":s,"^events.(render|show|move|hide|focus|blur)$":function(x,r,J){j.tooltip[(c.isFunction(f)?"":"un")+"bind"]("tooltip"+r,J)},"^position.(my|at|adjust|target|container)|style|content":function(){b.reposition()}}};c.each(b.plugins,function(x){if("object"===typeof this.checks)y[x]=this.checks});m=g[0][g[1]];g[0][g[1]]=f.nodeType?c(f):f;S(a);for(B in y)for(t in y[B])RegExp(t,"i").test(d)&&y[B][t].call(b,g[0],g[1],f,m);return b},toggle:function(d,
f){function g(){var t=c(this),y=d?"attr":"removeAttr",x=/^1|0$/.test(t.css("opacity")),r=this.style;b.elements.title&&e[y]("aria-labelledby",E+"-"+q+"-title");e[y]("aria-describedby",E+"-"+q+"-content");if(d){if(c.browser.msie&&r&&x){r.removeAttribute("filter");r.removeAttribute("opacity")}}else x&&t.hide()}if(b.rendered===n)return n;var j=d?"show":"hide",h=b.elements.tooltip,m=a[j],B=h.is(":visible");if((typeof d).search("boolean|number"))d=!h.is(":visible");if(!B&&!d||h.is(":animated"))return b;
if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(b.cache.event.type)&&f.target===a.show.target[0]&&h.has(f.relatedTarget).length)return b;b.cache.event=c.extend({},f)}B=c.Event("tooltip"+j);B.originalEvent=f?b.cache.event:D;h.trigger(B,[b,90]);if(B.isDefaultPrevented())return b;if(d){b.focus();b.reposition(f);m.solo&&c(Q).qtip("hide")}else clearTimeout(b.timers.show);h.attr("aria-hidden",Boolean(!d));h.stop(1,1);if(c.isFunction(m.effect)){m.effect.call(h,b);h.queue(function(){g.call(this);c(this).dequeue()})}else if(m.effect===
n){h[j]();g.call(h)}else h.fadeTo(90,d?1:0,g);d&&m.target.trigger("qtip-"+q+"-inactive");return b},show:function(d){b.toggle(v,d)},hide:function(d){b.toggle(n,d)},focus:function(d){if(b.rendered===n)return n;var f=b.elements.tooltip,g=c(Q),j=parseInt(f[0].style.zIndex,10),h=c.fn.qtip.zindex+g.length,m=E+"-focus",B=c.extend({},d);if(!f.hasClass(m)&&j!==h){g.each(function(){this.style.zIndex-=1});c(Q+"."+m).each(function(){var t=c(this),y=t.qtip(),x;if(!y||y.rendered===n)return v;t.removeClass(m);x=
c.Event("tooltipblur");x.originalEvent=B;t.trigger(x,[y,h])});d=c.Event("tooltipfocus");d.originalEvent=B;f.trigger(d,[b,h]);if(!d.isDefaultPrevented())f.addClass(m)[0].style.zIndex=h}return b},reposition:function(d){if(b.rendered===n)return n;var f=a.position.target,g=b.elements.tooltip,j=a.position,h=j.my,m=j.at,B=j.adjust,t=b.elements.tooltip.outerWidth(),y=b.elements.tooltip.outerHeight(),x=0,r=0,J=c.Event("tooltipmove"),P=g.css("position")==="fixed",w=j.viewport.jquery?j.viewport:c(I),u={left:0,
top:0},M={left:function(G){var H=w.scrollLeft,L=m.x==="left"?x:m.x==="right"?-x:-x/2,R=H-G;H=G+t-w.width-H;L=(h.x==="left"?t:h.x==="right"?-t:-t/2)-(h.precedance==="x"||h.x===h.y?L:0);if(R>0&&(h.x!=="left"||H>0))u.left-=L;else if(H>0&&(h.x!=="right"||R>0))u.left-=(h.x==="center"?-1:1)*L+2*B.x;if(u.left<0&&-u.left>H)u.left=G;return u.left-G},top:function(G){var H=w.scrollTop,L=m.y==="top"?r:m.y==="bottom"?-r:-r/2,R=H-G;H=G+y-w.height-H;L=(h.y==="top"?y:h.y==="bottom"?-y:-y/2)-(h.precedance==="y"||
h.x===h.y?L:0);if(R>0&&(h.y!=="top"||H>0))u.top-=L;else if(H>0&&(h.y!=="bottom"||R>0))u.top-=(h.y==="center"?-1:1)*L+2*B.y;if(u.top<0&&-u.top>H)u.top=G;return u.top-G}};w=!w?n:{elem:w,height:w[(w[0]===I?"h":"outerH")+"eight"](),width:w[(w[0]===I?"w":"outerW")+"idth"](),scrollLeft:w.scrollLeft(),scrollTop:w.scrollTop()};if(f==="mouse"){m={x:"left",y:"top"};d=d&&(d.type==="resize"||d.type==="scroll")?b.cache.event:B.mouse||!d||!d.pageX?c.extend({},c.fn.qtip.mouse):d;u={top:d.pageY,left:d.pageX}}else{if(f===
"event")f=d&&d.target&&d.type!=="scroll"&&d.type!=="resize"?b.cache.target=c(d.target):b.cache.target;f=c(f).eq(0);if(f.length===0)return b;else if(f[0]===document||f[0]===I){x=f.width();r=f.height();if(f[0]===I)u={top:P?0:w.scrollTop,left:P?0:w.scrollLeft}}else if(f.is("area")&&c.fn.qtip.plugins.imagemap){u=c.fn.qtip.plugins.imagemap(f,m);x=u.width;r=u.height;u=u.offset}else{x=f.outerWidth();r=f.outerHeight();u=o(f[0],j.container[0])}u.left+=m.x==="right"?x:m.x==="center"?x/2:0;u.top+=m.y==="bottom"?
r:m.y==="center"?r/2:0}u.left+=B.x+(h.x==="right"?-t:h.x==="center"?-t/2:0);u.top+=B.y+(h.y==="bottom"?-y:h.y==="center"?-y/2:0);u.adjusted=j.viewport.jquery&&f[0]!==I&&f[0]!==N?{left:M.left(u.left),top:M.top(u.top)}:{left:0,top:0};g.attr("class",function(){return c(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(E+"-pos-"+h.abbreviation());J.originalEvent=c.extend({},d);g.trigger(J,[b,u,w.elem]);if(J.isDefaultPrevented())return b;delete u.adjusted;if(g.is(":visible")&&c.isFunction(j.effect)){j.effect.call(g,
b,u);g.queue(function(){var G=c(this);G.css({opacity:"",height:""});c.browser.msie&&this.style&&this.style.removeAttribute("filter");G.dequeue()})}else isNaN(u.left,u.top)||g.css(u);return b},redraw:function(){if(!b.rendered||!(c.browser.msie&&parseInt(c.browser.version.charAt(0),10)<9))return n;var d=b.elements.tooltip;d.attr("style");var f;d.css({width:"auto",height:"auto"});f=k("dimensions",1);c.each(["width","height"],function(g,j){var h=parseInt(d.css("max-"+j),10)||0,m=parseInt(d.css("min-"+
j),10)||0;f[j]=h+m?Math.min(Math.max(f[j],m),h):f[j]});d.css(f)},disable:function(d){var f=b.elements.tooltip,g=K;if("boolean"!==typeof d)d=!(f.hasClass(g)||b.cache.disabled);if(b.rendered)f.toggleClass(g,d);else b.cache.disabled=!!d;return b},destroy:function(){var d=b.elements,f=d.target.data("oldtitle");if(b.rendered){d.tooltip.remove();c.each(b.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(b.timers.show);clearTimeout(b.timers.hide);l(1,1,1,1);e.removeData("qtip");
f&&e.attr("title",f);e.removeAttr("aria-describedby");return e}})}function W(e,a){var q,i,o=c(this),k=this===document?c(N):o;i=o.metadata?o.metadata(a.metadata):D;var s=c.extend(v,{},c.fn.qtip.defaults,a,S((i&&a.metadata.type==="html5"?i[a.metadata.name]:D)||i));o.removeData("metadata");i=s.position;if("boolean"===typeof s.content.text)if(s.content.attr!==n&&o.attr(s.content.attr))s.content.text=o.attr(s.content.attr);else return n;if(i.container===n)i.container=c(N);if(i.target===n)i.target=k;if(s.show.target===
n)s.show.target=k;if(s.hide.target===n)s.hide.target=k;i.at=new c.fn.qtip.plugins.Corner(i.at);i.my=new c.fn.qtip.plugins.Corner(i.my);if(o.data("qtip"))if(s.overwrite)o.qtip("destroy");else if(s.overwrite===n)return n;o.attr("title")&&o.data("oldtitle",o.attr("title")).removeAttr("title");q=new V(o,s,e);o.data("qtip",q);o.bind("remove.qtip",function(){q.destroy()});return q}function X(e){var a=this,q=e.elements.tooltip,i=e.options.content.ajax;a.checks={"^content.ajax":function(o,k){if(k==="once")a.once();
else i&&i.url&&a.load()}};c.extend(a,{init:function(){if(i&&i.url){a.load();a.once()}},once:function(){i.once?a.destroy():q.bind("tooltipshow.ajax",function(){a.load()})},load:function(){c.ajax(c.extend({success:function(o){e.set("content.text",o)},error:function(o,k,s){e.set("content.text",k+": "+s)},context:e},i));return a},destroy:function(){q.unbind(".ajax")}});a.init()}function U(e,a,q){var i=Math.ceil(a/2),o=Math.ceil(q/2);a={bottomright:[[0,0],[a,q],[a,0]],bottomleft:[[0,0],[a,0],[0,q]],topright:[[0,
q],[a,0],[a,q]],topleft:[[0,0],[0,q],[a,q]],topcenter:[[0,q],[i,0],[a,q]],bottomcenter:[[0,0],[a,0],[i,q]],rightcenter:[[0,0],[a,o],[0,q]],leftcenter:[[a,0],[a,q],[0,o]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=a.topleft;return a[e.string()]}function Y(e){function a(l,b,d){if(k.tip){l=c.extend({},i.corner);b=d.adjusted;var f;if(i.corner.fixed!==v){if(b.left)l.x=l.x==="center"?b.left>0?"left":"right":l.x==="left"?"right":"left";if(b.top)l.y=l.y==="center"?
b.top>0?"top":"bottom":l.y==="top"?"bottom":"top";if(l.string()!==z.corner&&(z.top!==b.top||z.left!==b.left))f=i.update(l)}f||(f=i.position(l,0));if(f.right!==O)f.left=f.right;if(f.bottom!==O)f.top=f.bottom;f.option=Math.max(0,o.offset);d.left-=f.left.charAt?f.option:(f.right?-1:1)*f.left;d.top-=f.top.charAt?f.option:(f.bottom?-1:1)*f.top;z.left=b.left;z.top=b.top;z.corner=l.string()}}function q(l,b,d){b=!b?l[l.precedance]:b;b="border-"+b+"-width";l=parseInt((k.titlebar&&l.y==="top"?k.titlebar:k.content).css(b),
10);return(d?l||parseInt(s.css(b),10):l)||0}var i=this,o=e.options.style.tip,k=e.elements,s=k.tooltip,z={top:0,left:0,corner:""},p={width:o.width,height:o.height},A={},C=o.border||0,F=o.method||n;i.corner=D;i.mimic=D;i.checks={"^position.my|style.tip.(corner|mimic|method|border)$":function(){i.init()||i.destroy();e.reposition()},"^style.tip.(height|width)$":function(){p={width:o.width,height:o.height};i.create();i.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){k.tip&&
i.update()}};c.extend(i,{init:function(){var l=i.detectCorner();if(l){if(F!=="polygon")F=c("<canvas />")[0].getContext?"canvas":c.browser.msie?"vml":"polygon";i.create();i.update();s.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",a)}return l},detectCorner:function(){var l=o.corner,b=e.options.position,d=b.at;b=b.my.string?b.my.string():b.my;if(l===n||b===n&&d===n)return n;else if(l===v)i.corner=new c.fn.qtip.plugins.Corner(b);else if(!l.string){i.corner=new c.fn.qtip.plugins.Corner(l);i.corner.fixed=
v}return i.corner.string()!=="centercenter"},detectColours:function(){var l=k.tip.css({backgroundColor:"",border:""}),b=i.corner,d=b[b.precedance],f="border-"+d+"-color";d="border"+d.charAt(0)+d.substr(1)+"Color";var g=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;b=k.titlebar&&(b.y==="top"||b.y==="center"&&l.position().top+p.height/2+o.offset<k.titlebar.outerHeight(1))?k.titlebar:k.content;A.fill=l.css("background-color")||"transparent";A.border=l[0].style[d];if(!A.fill||g.test(A.fill)){A.fill=b.css("background-color");
if(g.test(A.fill))A.fill=s.css("background-color")}if(!A.border||g.test(A.border)){A.border=s.css(f);if(g.test(A.border)||A.border===c(N).css("color"))A.border=b.css(f)||A.fill}c("*",l).add(l).css("background-color","transparent").css("border",0)},create:function(){var l=p.width,b=p.height;k.tip&&k.tip.remove();k.tip=c("<div />",{"class":"ui-tooltip-tip"}).css(p).prependTo(s);switch(F){case "canvas":c('<canvas height="'+b+'" width="'+l+'" />').appendTo(k.tip)[0].getContext("2d").save();break;case "vml":l=
'<vml:shape coordorigin="0,0" coordsize="'+l+" "+b+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+l+"px; height:"+b+'px;"></vml:shape>';k.tip.html(C?l+=l:l);break;case "polygon":k.tip.append('<div class="ui-tooltip-tip-inner" />').append(C?'<div class="ui-tooltip-tip-border" />':"");break}},update:function(l){var b=k.tip.children(),d=p.width,f=p.height,g=o.mimic,j,h,m,B,t;if(!l)l=i.corner;if(g===n)g=l;else{g=
new c.fn.qtip.plugins.Corner(g);g.precedance=l.precedance;if(g.x==="inherit")g.x=l.x;else if(g.y==="inherit")g.y=l.y;else if(g.x===g.y)g[l.precedance]=l[l.precedance]}C=o.border===v?q(l,D,v):o.border;j=C>0?0:1;B=g.string().indexOf("center")>-1;t=Math[/b|r/.test(g[g.precedance==="y"?"x":"y"])?"ceil":"floor"];l=i.position(l,1);i.detectColours();switch(F){case "canvas":h=b[0].getContext("2d");h.restore&&h.restore();h.clearRect(0,0,3E3,3E3);for(m=U(g,d,f);j<2;j++){if(j){h.save();h.translate(t((g.x===
"left"?1:g.x==="right"?-1:0)*(C+1)*(g.precedance==="y"?0.5:1)),t((g.y==="top"?1:g.y==="bottom"?-1:0)*(C+1)*(g.precedance==="x"?0.5:1)))}h.beginPath();h.moveTo(m[0][0],m[0][1]);h.lineTo(m[1][0],m[1][1]);h.lineTo(m[2][0],m[2][1]);h.closePath();h.fillStyle=A[j?"fill":"border"];h.fill()}break;case "vml":m=U(g,d,f);m="m"+m[0][0]+","+m[0][1]+" l"+m[1][0]+","+m[1][1]+" "+m[2][0]+","+m[2][1]+" xe";b.each(function(y){c(this).attr({path:m,fillcolor:A[y||!C?"fill":"border"]}).css("antialias",""+B)});break;case "polygon":b.removeAttr("style").css({position:"absolute",
left:0,top:0}).each(function(y){var x={x:g.precedance==="x"?g.x==="left"?"right":"left":g.x,y:g.precedance==="y"?g.y==="top"?"bottom":"top":g.y},r=g.x==="center"?["left","right",x.y,f,d]:["top","bottom",x.x,d,f];y=A[!y&&C?"border":"fill"];g.x==="center"||g.y==="center"?c(this).css("border-"+r[2],r[3]+"px solid "+y).css("border-"+r[0],t(r[4]/2)+"px dashed transparent").css("border-"+r[1],t(r[4]/2)+"px dashed transparent"):c(this).css("border-width",t(f/2)+"px "+t(d/2)+"px").css("border-"+x.x,t(d/2)+
"px solid "+y).css("border-"+x.y,t(f/2)+"px solid "+y)});break}if(F!=="canvas"&&C){j=[C*2.75,C];j=g.precedance==="y"?[g.x==="left"?j[1]:g.x==="right"?-j[1]:0,g.y==="bottom"?-j[0]:j[0]]:[g.x==="left"?j[0]:-j[0],g.y==="bottom"?-j[1]:g.y==="top"?j[1]:0];b.eq(1).css({left:j[0],top:j[1]})}return l},position:function(l,b){var d=k.tip,f={},g=Math.max(0,o.offset),j,h;if(o.corner===n||!d)return n;l=l||i.corner;j=l.precedance;h=p[j==="x"?"width":"height"];c.each(j==="y"?[l.x,l.y]:[l.y,l.x],function(m,B){var t;
if(B==="center"){t=j==="y"?"left":"top";f[t]="50%";f["margin-"+t]=-Math.floor(h/2)+g}else{t=q(l,B,v);if(m||C===O)t=q(l,B);else{if(t)t=0;else{t=c.browser.mozilla;var y=l.y+(t?"":"-")+l.x;t=(t?"-moz-":c.browser.webkit?"-webkit-":"")+(t?"border-radius-"+y:"border-"+y+"-radius");t=parseInt((k.titlebar&&l.y==="top"?k.titlebar:k.content).css(t),10)||parseInt(s.css(t),10)||0}t=g+t}f[B]=t}});f[l[j]]-=h;b&&d.css({top:"",bottom:"",left:"",right:"",margin:""}).css(f);return f},destroy:function(){k.tip&&k.tip.remove();
s.unbind(".qtip-tip")}});i.init()}function Z(e){var a=this,q=e.options.show.modal,i=e.elements,o=i.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();i.overlay.toggle(o.is(":visible"))}};c.extend(a,{init:function(){if(q.on){o.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(k,s,z){k=k.type.replace("tooltip","");c.isFunction(q[k])?q[k].call(i.overlay,z,s):a[k](z)});a.create();q.blur===v&&i.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},
create:function(){var k=c("#qtip-overlay");if(k.length)i.overlay=k;else{i.overlay=c("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(o.css("z-index"),10)-1}}).appendTo(document.body);c(I).bind("resize.qtipmodal",function(){i.overlay.css({height:Math.max(c(I).height(),c(document).height()),width:Math.max(c(I).width(),c(document).width())})}).trigger("resize")}},toggle:function(k){var s=i.overlay,z=e.options.show.modal.effect,p=k?"show":"hide";
s.stop(v,n);if(c.isFunction(z))z.call(s,k);else z===n?s[p]():s.fadeTo(90,k?0.7:0,function(){k||c(this).hide()})},show:function(){a.toggle(v)},hide:function(){a.toggle(n)},destroy:function(){var k=v;c("*").each(function(){var s=c(this).data("qtip");if(s&&s.id!==e.id&&s.options.show.modal)return k=n});if(k){i.overlay.remove();c(I).unbind(".qtipmodal")}else i.overlay.unbind(".qtipmodal"+e.id);o.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function $(e){var a=this,q=e.elements,i=
q.tooltip,o=".bgiframe-"+e.id,k="tooltipmove"+o+" tooltipshow"+o;c.extend(a,{init:function(){q.bgiframe=c('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');q.bgiframe.appendTo(i);i.bind(k,a.adjust)},adjust:function(){var s=e.get("dimensions"),z=e.plugins.tip,p=e.elements.tip,A;A=parseInt(i.css("border-left-width"),10)||0;A={left:-A,top:-A};if(z&&p){z=z.corner.precedance===
"x"?["width","left"]:["height","top"];A[z[1]]-=p[z[0]]()}q.bgiframe.css(A).css(s)},destroy:function(){a.iframe.remove();i.unbind(k)}});a.init()}var v=true,n=false,D=null,N=document.body,E="ui-tooltip",T="ui-widget",K="ui-state-disabled",Q=".qtip."+E;c.fn.qtip=function(e,a,q){var i=String(e).toLowerCase(),o=D,k=i==="disable"?[v]:c.makeArray(arguments).slice(1,10),s=k[k.length-1],z;if(!arguments.length&&this.data("qtip")||i==="api")return(z=this.data("qtip"))?z:O;else if("string"===typeof e){this.each(function(){var p=
c(this).data("qtip");if(!p)return v;if(/option|set/.test(i)&&a)if(q!==O)p.set(a,q);else o=p.get(a);else{if(!p.rendered&&(i==="show"||i==="toggle")){if(s&&s.timeStamp)p.cache.event=s;p.render(1)}else if(i==="enable"){i="disable";k=[n]}p[i]&&p[i].apply(p[i],k)}});return o!==D?o:this}else if("object"===typeof e||!arguments.length){z=S(c.extend(v,{},e));return c.fn.qtip.bind.call(this,z,s)}};c.fn.qtip.bind=function(e,a){return this.each(function(){function q(A){function C(){p.render(typeof A==="object"||
i.show.ready);o.show.unbind(k.show);o.hide.unbind(k.hide)}if(p.cache.disabled)return n;p.cache.event=c.extend({},A);if(i.show.delay>0){clearTimeout(p.timers.show);p.timers.show=setTimeout(C,i.show.delay);k.show!==k.hide&&o.hide.bind(k.hide,function(){clearTimeout(p.timers.show)})}else C()}var i,o,k,s=e.id=!e.id||e.id===n||e.id.length<1||c("#"+E+"-"+e.id).length?c.fn.qtip.nextid++:e.id,z=".qtip-"+s+"-create",p=W.call(this,s,e);if(p===n)return v;i=p.options;c.each(c.fn.qtip.plugins,function(){this.initialize===
"initialize"&&this(p)});o={show:i.show.target,hide:i.hide.target};k={show:String(i.show.event).replace(" ",z+" ")+z,hide:String(i.hide.event).replace(" ",z+" ")+z};o.show.bind(k.show,q);if(i.show.ready||i.prerender)q(a)})};c.each({attr:function(e){var a=c(this),q=a.data("qtip");return arguments.length===1&&e==="title"&&q&&q.rendered===v?a.data("oldtitle"):D},remove:c.ui?D:function(e,a){c(this).each(function(){if(!a)if(!e||c.filter(e,[this]).length)c("*",this).add(this).each(function(){c(this).triggerHandler("remove")})})}},
function(e,a){if(!a)return v;c.fn["Old"+e]=c.fn[e];c.fn[e]=function(){return a.apply(this,arguments)||c.fn["Old"+e].apply(this,arguments)}});c(N).attr("role",function(e,a){return!a?"application":a});c(document).bind("mousemove.qtip",function(e){c.fn.qtip.mouse={pageX:e.pageX,pageY:e.pageY}});c.fn.qtip.version="2.0.0pre";c.fn.qtip.nextid=0;c.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");c.fn.qtip.zindex=15E3;c.fn.qtip.plugins={Corner:function(e){e=
String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),q=this.y.substr(0,1);return a===q?a:a==="c"||a!=="c"&&q!=="c"?q+a:a+q}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||
[0,"4_2"])[1].replace("_","."))<4.1};c.fn.qtip.defaults={prerender:n,id:n,overwrite:v,metadata:{type:"class"},content:{text:v,attr:"title",title:{text:n,button:n}},position:{my:"top left",at:"bottom right",target:n,container:n,viewport:n,adjust:{x:0,y:0,mouse:v,resize:v},effect:v},show:{target:n,event:"mouseenter",effect:v,delay:90,solo:n,ready:n},hide:{target:n,event:"mouseleave",effect:v,delay:0,fixed:n,inactive:n},style:{classes:"",widget:n},events:{render:D,move:D,show:D,hide:D,toggle:D,focus:D,
blur:D}};c.fn.qtip.plugins.ajax=function(e){var a=e.plugins.ajax;return"object"===typeof a?a:e.plugins.ajax=new X(e)};c.fn.qtip.plugins.ajax.initialize="render";c.fn.qtip.plugins.ajax.sanitize=function(e){var a=e.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=e.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};c.extend(v,c.fn.qtip.defaults,{content:{ajax:{once:v}}});c.fn.qtip.plugins.tip=function(e){var a=e.plugins.tip;return"object"===typeof a?a:e.plugins.tip=
new Y(e)};c.fn.qtip.plugins.tip.initialize="render";c.fn.qtip.plugins.tip.sanitize=function(e){var a=e.style;if(a&&"tip"in a){a=e.style.tip;if(typeof a!=="object")e.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=v;if(typeof a.method!=="string")a.method=v;if(!/canvas|polygon/i.test(a.method))a.method=v;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&delete a.height;typeof a.border!=="number"&&a.border!==v&&delete a.border;typeof a.offset!=="number"&&
delete a.offset}};c.extend(v,c.fn.qtip.defaults,{style:{tip:{corner:v,mimic:n,method:v,width:8,height:8,border:v,offset:0}}});c.fn.qtip.plugins.imagemap=function(e,a){function q(F,l){for(var b=0,d=1,f=1,g=0,j=0,h=F.width,m=F.height;h>0&&m>0&&d>0&&f>0;){h=Math.floor(h/2);m=Math.floor(m/2);if(a.x==="left")d=h;else if(a.x==="right")d=F.width-h;else d+=Math.floor(h/2);if(a.y==="top")f=m;else if(a.y==="bottom")f=F.height-m;else f+=Math.floor(m/2);for(b=l.length;b--;){if(l.length<2)break;g=l[b][0]-F.offset.left;
j=l[b][1]-F.offset.top;if(a.x==="left"&&g>=d||a.x==="right"&&g<=d||a.x==="center"&&(g<d||g>F.width-d)||a.y==="top"&&j>=f||a.y==="bottom"&&j<=f||a.y==="center"&&(j<f||j>F.height-f))l.splice(b,1)}}return{left:l[0][0],top:l[0][1]}}var i=e.attr("shape").toLowerCase(),o=e.attr("coords").split(","),k=[],s=c('img[usemap="#'+e.parent("map").attr("name")+'"]'),z=s.offset(),p={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},A=0,C=0;z.left+=Math.ceil((s.outerWidth()-s.width())/2);z.top+=Math.ceil((s.outerHeight()-
s.height())/2);if(i==="poly")for(A=o.length;A--;){C=[parseInt(o[--A],10),parseInt(o[A+1],10)];if(C[0]>p.offset.right)p.offset.right=C[0];if(C[0]<p.offset.left)p.offset.left=C[0];if(C[1]>p.offset.bottom)p.offset.bottom=C[1];if(C[1]<p.offset.top)p.offset.top=C[1];k.push(C)}else k=c.map(o,function(F){return parseInt(F,10)});switch(i){case "rect":p={width:Math.abs(k[2]-k[0]),height:Math.abs(k[3]-k[1]),offset:{left:k[0],top:k[1]}};break;case "circle":p={width:k[2]+2,height:k[2]+2,offset:{left:k[0],top:k[1]}};
break;case "poly":c.extend(p,{width:Math.abs(p.offset.right-p.offset.left),height:Math.abs(p.offset.bottom-p.offset.top)});p.offset=a.string()==="centercenter"?{left:p.offset.left+p.width/2,top:p.offset.top+p.height/2}:q(p,k.slice());p.width=p.height=0;break}p.offset.left+=z.left;p.offset.top+=z.top;return p};c.fn.qtip.plugins.modal=function(e){var a=e.plugins.modal;return"object"===typeof a?a:e.plugins.modal=new Z(e)};c.fn.qtip.plugins.modal.initialize="render";c.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!==
"object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=v};c.extend(v,c.fn.qtip.defaults,{show:{modal:{on:n,effect:v,blur:v}}});c.fn.qtip.plugins.bgiframe=function(e){if(!(c.browser.msie&&/^6\.[0-9]/.test(c.browser.version)&&c("select, object").length))return n;var a=e.plugins.bgiframe;if(a)return a;else{e.plugins.bgiframe=new $(e);return e.plugins.bgiframe}};c.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
