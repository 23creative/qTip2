/*
* qTip2 - Pretty pwoerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Thu Dec 30 03:35:23 2010 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null;
(function(c,G,L){function M(f){var a;if(!f)return FALSE;if("object"!==typeof f.metadata)f.metadata={type:f.metadata};if("content"in f){if("object"!==typeof f.content||f.content.jquery)f.content={text:f.content};a=f.content.text||FALSE;if(!c.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))a=f.content.text=FALSE;if("title"in f.content&&"object"!==typeof f.content.title)f.content.title={text:f.content.title}}if("position"in f)if("object"!==typeof f.position)f.position={my:f.position,
at:f.position};if("show"in f)if("object"!==typeof f.show)f.show=f.show.jquery?{target:f.show}:{event:f.show};if("hide"in f)if("object"!==typeof f.hide)f.hide=f.hide.jquery?{target:f.hide}:{event:f.hide};if("style"in f&&"object"!==typeof f.style)f.style={classes:f.style};c.each(c.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(f)});return f}function O(f,a,g){function k(d){var e,i=d.split("."),j=a[i[0]];for(d=1;d<i.length;d+=1){e=j[i[d]];if(typeof e==="object"&&!e.jquery&&!e.precedance)j=j[i[d]];
else break}return i[d]!==L?[j,i[d]]:[a,i[0]]}function m(d,e){var i={left:0,top:0},j=!c.fn.qtip.plugins.iOS,h,p;if(e){i=m(e);i.left*=-1;i.top*=-1}if(d.offsetParent){do{h=d.offsetParent;p=h===e;i.left+=d.offsetLeft-(j&&h&&!p?h.scrollLeft:0);i.top+=d.offsetTop-(j&&h&&!p?h.scrollTop:0)}while(d=h)}return i}function o(d,e){var i=b.elements.tooltip,j=s+"-accessible "+(e?s+"-accessible-fluid":""),h=!i.is(":visible"),p=FALSE;if(!b.rendered)return FALSE;h&&i.addClass(j);switch(d){case "dimensions":p={height:i.outerHeight(),
width:i.outerWidth()};break;case "position":p=m(i[0],a.position.container);break}h&&i.removeClass(j);return p}function w(){var d=b.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=NULL;d.tooltip.removeAttr("aria-labelledby")}}function q(){var d=b.elements,e=a.content.title.button;d.button&&d.button.remove();d.button=e.jquery?e:"string"===typeof e?c("<a />",{html:e}):c("<a />",{"class":"ui-state-default",title:"Close tooltip",css:{"text-indent":"-10000em"}}).prepend(c("<span />",
{"class":(a.style.widget?"ui":s)+"-icon ui-icon-close"}));d.button.prependTo(d.titlebar).attr("role","button").addClass(s+"-close").hover(function(i){c(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(){d.tooltip.hasClass("ui-state-disabled")||b.hide();return FALSE}).bind("mousedown keydown mouseup keyup mouseout",function(i){c(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(i.type))});b.redraw()}function n(){var d=b.elements;d.titlebar&&w();d.titlebar=c("<div />",
{"class":s+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(d.title=c("<div />",{id:s+"-"+g+"-title","class":s+"-title",html:a.content.title.text})).prependTo(d.tooltip);if(a.content.title.button)q();else b.rendered===TRUE&&b.redraw()}function z(d){var e=b.elements;if(!b.rendered||!d)return FALSE;if(c.isFunction(d))d=d.call(f);d.jquery&&d.length>0?e.content.empty().append(d.css({display:"block"})):e.content.html(d);e.tooltip.queue("fx",function(i){function j(p){h=h.not(p);if(h.length===
0){b.redraw();b.rendered===TRUE&&b.reposition(b.cache.event);i()}}var h=c("img:not([height]):not([width])",b.elements.content);h.each(function(p,A){var B=["abort","error","load","unload",""].join(".qtip-image ");c(this).bind(B,function(){clearTimeout(b.timers.img[p]);j(this)});(function y(){if(A.height)return j(A);b.timers.img[p]=setTimeout(y,20)})();return TRUE});h.length===0&&j(h)});return b}function C(d,e,i,j){function h(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;t.show.trigger("qtip-"+
g+"-inactive");clearTimeout(b.timers.show);clearTimeout(b.timers.hide);var r=function(){b.show(u)};if(a.show.delay>0)b.timers.show=setTimeout(r,a.show.delay);else r()}function p(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;var r=c(u.relatedTarget||u.target).parents(x)[0]===t.tooltip[0],I=c(u.relatedTarget||u.target)[0]===t.show[0];clearTimeout(b.timers.show);clearTimeout(b.timers.hide);if(a.hide.fixed&&(v.target==="mouse"&&r||/mouse(out|leave|move)/.test(u.type)&&(r||I))){u.stopPropagation();
u.preventDefault();return FALSE}t.tooltip.stop(1,1);if(a.hide.delay>0)b.timers.hide=setTimeout(function(){b.hide(u)},a.hide.delay);else b.hide(u)}function A(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;clearTimeout(b.timers.inactive);b.timers.inactive=setTimeout(function(){b.hide(u)},a.hide.inactive)}function B(u){if(!b.cache.processing){b.cache.processing=1;b.elements.tooltip.is(":visible")&&b.reposition(u);b.cache.processing=0}}var y=".qtip-"+g,v=a.position,t={show:a.show.target,hide:a.hide.target,
tooltip:b.elements.tooltip,container:v.container[0]===document.body?document:v.container},F={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},J=c.browser.msie&&parseInt(c.browser.version,10)===6;if(i&&a.hide.fixed){t.hide=t.hide.add(t.tooltip);t.tooltip.bind("mouseover"+y,function(){t.tooltip.hasClass("ui-state-disabled")||clearTimeout(b.timers.hide)})}if(e){if("number"===typeof a.hide.inactive){t.show.bind("qtip-"+g+"-inactive",A);c.each(c.fn.qtip.inactiveEvents,function(u,
r){t.hide.add(b.elements.tooltip).bind(r+y+"-inactive",A)})}c.each(F.hide,function(u,r){var I=c.inArray(r,F.show);if(I>-1&&c(t.hide).add(t.show).length===c(t.hide).length||r==="unfocus"){t.show.bind(r+y,function(D){t.tooltip.is(":visible")?p(D):h(D)});delete F.show[I]}else t.hide.bind(r+y,p)})}if(d){c.each(F.show,function(u,r){t.show.bind(r+y,h)});t.tooltip.bind("mouseover"+y,function(){b.focus()})}if(j){if(v.adjust.resize||v.viewport)c(c.event.special.resize?v.viewport:G).bind("resize"+y,B);if(v.viewport||
J&&t.tooltip.css("position")==="fixed")c(v.viewport).bind("scroll"+y,B);/unfocus/i.test(a.hide.event)&&c(document).bind("mousedown"+y,function(u){var r=b.elements.tooltip;c(u.target).parents(x).length===0&&c(u.target).add(f).length>1&&r.is(":visible")&&!r.hasClass("ui-state-disabled")&&b.hide(u)});v.target==="mouse"&&c(document).bind("mousemove"+y,function(u){if(v.adjust.mouse&&!t.tooltip.hasClass("ui-state-disabled")&&t.tooltip.is(":visible"))b.reposition(u||c.fn.qtip.mouse)})}}function l(d,e,i,
j){j=parseInt(j,10)!==0;var h=".qtip-"+g;e={show:d?a.show.target:NULL,hide:e?a.hide.target:NULL,tooltip:i?b.elements.tooltip:NULL,content:i?b.elements.content:NULL,container:j?a.position.container[0]===document.body?document:a.position.container:NULL,window:j?G:NULL};if(b.rendered)c([]).pushStack(c.grep([e.show,e.hide,e.tooltip,e.container,e.content,e.window],function(){return this!==null})).unbind(h);else d&&e.show.unbind(h+"-create")}var b=this,s="ui-tooltip",x=".qtip."+s;b.id=g;b.rendered=FALSE;
b.elements={target:f};b.cache={event:{},target:NULL,disabled:FALSE,position:NULL};b.timers={img:[]};b.options=a;b.plugins={};c.extend(b,{render:function(d){var e=b.elements,i=c.Event("tooltiprender");if(b.rendered)return FALSE;b.rendered=d?-2:-1;e.tooltip=c("<div/>").attr({id:s+"-"+g,role:"tooltip","class":s+" qtip ui-tooltip-accessible ui-helper-reset "+a.style.classes}).css("z-index",c.fn.qtip.zindex+c(x).length).toggleClass("ui-widget",a.style.widget).toggleClass("ui-state-disabled",b.cache.disabled).data("qtip",
b).appendTo(a.position.container);e.content=c("<div />",{"class":s+"-content "+(a.style.widget?"ui-widget-content":""),id:s+"-"+g+"-content"}).appendTo(e.tooltip);a.content.title.text&&n();z(a.content.text);c.each(c.fn.qtip.plugins,function(){this.initialize==="render"&&this(b)});b.rendered=TRUE;C(1,1,1,1);c.each(a.events,function(j,h){if(h)e.tooltip.bind(j==="toggle"?"tooltipshow tooltiphide":"tooltip"+j,h)});e.tooltip.queue("fx",function(j){e.tooltip.removeClass("ui-tooltip-accessible");i.originalEvent=
b.cache.event;e.tooltip.trigger(i,[b]);if(a.show.ready||d){e.tooltip.hide();b.show(b.cache.event)}j()});return b},get:function(d){switch(d.toLowerCase()){case "offset":d=o("position");break;case "dimensions":d=o("dimensions");break;default:d=k(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,e){d=d.toLowerCase();var i=k(d),j=b.elements,h=j.tooltip,p,A,B,y={builtin:{id:function(){var v=e===TRUE?c.fn.qtip.nextid:e,t=s+"-"+v;if(v!==FALSE&&v.length>
0&&!c("#ui-tooltip-"+v).length){h[0].id=t;j.content[0].id=t+"-content";j.title[0].id=t+"-title"}},"^content.text":function(){z(e)},"^content.title.text":function(){if(b.rendered)if(!b.elements.title&&e){n();b.reposition()}else e?b.elements.title.html(e):w()},"^content.title.button":function(){var v=b.elements.button,t=b.elements.title;if(b.rendered)if(e){t||n();q()}else v.remove()},"^position.(my|at)$":function(){var v=/my$/i.test(d)?"my":"at";if("string"===typeof e)a.position[v]=new c.fn.qtip.plugins.Corner(e)},
"^position.(my|at|adjust|target)":function(){b.rendered&&b.reposition()},"^position.container$":function(){if(b.rendered===TRUE){h.appendTo(e);b.reposition()}},"^(show|hide).(event|target|fixed|delay|inactive)":function(v,t,F,J){var u=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(u[0])v[t]=J;l.apply(b,u[1]);if(u[0])v[t]=F;C.apply(b,u[1])},"^show.ready$":function(){b.rendered===FALSE&&b.show()},"^style.classes$":function(){b.elements.tooltip.attr("class",
s+" qtip ui-helper-reset "+e)},"^style.widget$":function(){var v=!!e;h.toggleClass("ui-widget",v);j.titlebar.toggleClass("ui-widget-header",v);j.content.toggleClass("ui-widget-content",v);j.button.children("span").toggleClass(s+"-icon",!v).toggleClass("ui-icon",v)},"^events.(render|show|move|hide|focus|blur)":function(v,t,F){j.tooltip[(c.isFunction(e)?"":"un")+"bind"]("tooltip"+t,F)}}};c.each(b.plugins,function(v){if("object"===typeof this.checks)y[v]=this.checks});p=i[0][i[1]];i[0][i[1]]=e.nodeType?
c(e):e;M(a);for(A in y)for(B in y[A])RegExp(B,"i").test(d)&&y[A][B].call(b,i[0],i[1],e,p);return b},toggle:function(d,e){function i(){var B=c(this),y=d?"attr":"removeAttr",v=/^1|0$/.test(B.css("opacity")),t=this.style;b.elements.title&&f[y]("aria-labelledby",s+"-"+g+"-title");f[y]("aria-describedby",s+"-"+g+"-content");if(d){if(c.browser.msie&&t&&v){t.removeAttribute("filter");t.removeAttribute("opacity")}}else v&&B.hide()}if(b.rendered===FALSE)return FALSE;var j=d?"show":"hide",h=b.elements.tooltip,
p=a[j],A=h.is(":visible");if((typeof d).search("boolean|number"))d=!h.is(":visible");if(!A&&!d||h.is(":animated"))return b;if(e){if(/over|enter/.test(e.type)&&/out|leave/.test(b.cache.event.type)&&e.target===a.show.target[0]&&h.has(e.relatedTarget).length)return b;b.cache.event=c.extend({},e)}A=c.Event("tooltip"+j);A.originalEvent=e?b.cache.event:NULL;h.trigger(A,[b,90]);if(A.isDefaultPrevented())return b;if(d){b.focus();b.reposition(e);p.solo&&c(x).qtip("hide")}else clearTimeout(b.timers.show);h.attr("aria-hidden",
Boolean(!d));h.stop(1,1);if(c.isFunction(p.effect)){p.effect.call(h,b);h.queue(function(){i.call(this);c(this).dequeue()})}else if(p.effect===FALSE){h[j]();i.call(h)}else h.fadeTo(90,d?1:0,i);d&&p.target.trigger("qtip-"+g+"-inactive");return b},show:function(d){b.toggle(TRUE,d)},hide:function(d){b.toggle(FALSE,d)},focus:function(d){if(b.rendered===FALSE)return FALSE;var e=b.elements.tooltip,i=c(x),j=parseInt(e[0].style.zIndex,10),h=c.fn.qtip.zindex+i.length,p=s+"-focus",A=c.extend({},d);if(!e.hasClass(p)&&
j!==h){i.each(function(){this.style.zIndex-=1});c(x+"."+p).each(function(){var B=c(this),y=B.qtip(),v;if(!y||y.rendered===FALSE)return TRUE;B.removeClass(p);v=c.Event("tooltipblur");v.originalEvent=A;B.trigger(v,[y,h])});d=c.Event("tooltipfocus");d.originalEvent=A;e.trigger(d,[b,h]);if(!d.isDefaultPrevented())e.addClass(p)[0].style.zIndex=h}return b},reposition:function(d){if(b.rendered===FALSE)return FALSE;var e=a.position.target,i=b.elements.tooltip,j=a.position,h=j.my,p=j.at,A=j.adjust,B=b.elements.tooltip.outerWidth(),
y=b.elements.tooltip.outerHeight(),v=0,t=0,F=c.Event("tooltipmove"),J=i.css("position")==="fixed",u=j.viewport.jquery?j.viewport:FALSE,r={left:0,top:0},I={left:function(D){var E=u.scrollLeft,H=p.x==="left"?v:p.x==="right"?-v:-v/2,K=E-D;E=D+B-u.width-E;H=(h.x==="left"?B:h.x==="right"?-B:-B/2)-(h.precedance==="x"||h.x===h.y?H:0);if(K>0&&(h.x!=="left"||E>0))r.left-=H;else if(E>0&&(h.x!=="right"||K>0))r.left-=(h.x==="center"?-1:1)*H+2*A.x;if(r.left<0&&-r.left>E)r.left=D;return r.left-D},top:function(D){var E=
u.scrollTop,H=p.y==="top"?t:p.y==="bottom"?-t:-t/2,K=E-D;E=D+y-u.height-E;H=(h.y==="top"?y:h.y==="bottom"?-y:-y/2)-(h.precedance==="y"||h.x===h.y?H:0);if(K>0&&(h.y!=="top"||E>0))r.top-=H;else if(E>0&&(h.y!=="bottom"||K>0))r.top-=(h.y==="center"?-1:1)*H+2*A.y;if(r.top<0&&-r.top>E)r.top=D;return r.top-D}};u=!u?FALSE:{elem:u,height:u[(u[0]===G?"h":"outerH")+"eight"](),width:u[(u[0]===G?"w":"outerW")+"idth"](),scrollLeft:u.scrollLeft(),scrollTop:u.scrollTop()};if(e==="mouse"){p={x:"left",y:"top"};d=d&&
(d.type==="resize"||d.type==="scroll")?b.cache.event:A.mouse||!d||!d.pageX?c.extend({},c.fn.qtip.mouse):d;r={top:d.pageY,left:d.pageX}}else{if(e==="event")e=d&&d.target&&d.type!=="scroll"&&d.type!=="resize"?b.cache.target=c(d.target):b.cache.target;e=c(e).eq(0);if(e.length===0)return b;else if(e[0]===document||e[0]===G){v=e.width();t=e.height();if(e[0]===G)r={top:J?0:u.scrollTop,left:J?0:u.scrollLeft}}else if(e.is("area")&&c.fn.qtip.plugins.imagemap){r=c.fn.qtip.plugins.imagemap(e,p);v=r.width;t=
r.height;r=r.offset}else{v=e.outerWidth();t=e.outerHeight();r=m(e[0],j.container[0])}r.left+=p.x==="right"?v:p.x==="center"?v/2:0;r.top+=p.y==="bottom"?t:p.y==="center"?t/2:0}r.left+=A.x+(h.x==="right"?-B:h.x==="center"?-B/2:0);r.top+=A.y+(h.y==="bottom"?-y:h.y==="center"?-y/2:0);r.adjusted=u&&e[0]!==G&&e[0]!==document.body?{left:I.left(r.left),top:I.top(r.top)}:{left:0,top:0};i.attr("class",function(){return c(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(s+"-pos-"+h.abbreviation());
F.originalEvent=c.extend({},d);i.trigger(F,[b,r,u.elem]);if(F.isDefaultPrevented())return b;delete r.adjusted;if(i.is(":visible")&&c.isFunction(j.effect)){j.effect.call(i,b,r);i.queue(function(){var D=c(this);D.css({opacity:"",height:""});c.browser.msie&&this.style&&this.style.removeAttribute("filter");D.dequeue()})}else isNaN(r.left,r.top)||i.css(r);return b},redraw:function(){if(!b.rendered||!(c.browser.msie&&parseInt(c.browser.version.charAt(0),10)<9))return FALSE;var d=b.elements.tooltip;d.attr("style");
var e;d.css({width:"auto",height:"auto"});e=o("dimensions",1);c.each(["width","height"],function(i,j){var h=parseInt(d.css("max-"+j),10)||0,p=parseInt(d.css("min-"+j),10)||0;e[j]=h+p?Math.min(Math.max(e[j],p),h):e[j]});d.css(e)},disable:function(d){var e=b.elements.tooltip;if("boolean"!==typeof d)d=!(e.hasClass("ui-state-disabled")||b.cache.disabled);if(b.rendered)e.toggleClass("ui-state-disabled",d);else b.cache.disabled=!!d;return b},destroy:function(){var d=b.elements,e=d.target.data("oldtitle");
if(b.rendered){d.tooltip.remove();c.each(b.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(b.timers.show);clearTimeout(b.timers.hide);l(1,1,1,1);f.removeData("qtip");e&&f.attr("title",e);f.removeAttr("aria-describedby");return f}})}function P(f,a){var g,k,m=c(this),o=c(document.body),w=this===document?o:m;k=m.metadata?m.metadata(a.metadata):NULL;var q=c.extend(TRUE,{},c.fn.qtip.defaults,a,M((k&&a.metadata.type==="html5"?k[a.metadata.name]:NULL)||k));m.removeData("metadata");
k=q.position;if("boolean"===typeof q.content.text)if(q.content.attr!==FALSE&&m.attr(q.content.attr))q.content.text=m.attr(q.content.attr);else return FALSE;if(k.container===FALSE)k.container=o;if(k.target===FALSE)k.target=w;if(q.show.target===FALSE)q.show.target=w;if(q.hide.target===FALSE)q.hide.target=w;k.at=new c.fn.qtip.plugins.Corner(k.at);k.my=new c.fn.qtip.plugins.Corner(k.my);if(m.data("qtip"))if(q.overwrite)m.qtip("destroy");else if(q.overwrite===FALSE)return FALSE;m.attr("title")&&m.data("oldtitle",
m.attr("title")).removeAttr("title");g=new O(m,q,f);m.data("qtip",g);m.bind("remove.qtip",function(){g.destroy()});return g}function Q(f){var a=this,g=f.elements.tooltip,k=f.options.content.ajax;a.checks={"^content.ajax":function(m,o){if(o==="once")a.once();else k&&k.url&&a.load()}};c.extend(a,{init:function(){if(k&&k.url){a.load();a.once()}},once:function(){k.once?a.destroy():g.bind("tooltipshow.ajax",function(){a.load()})},load:function(){c.ajax(c.extend({success:function(m){f.set("content.text",
m)},error:function(m,o,w){f.set("content.text",o+": "+w)}},k));return a},destroy:function(){g.unbind(".ajax")}});a.init()}function N(f,a,g){var k=Math.ceil(a/2),m=Math.ceil(g/2);a={bottomright:[[0,0],[a,g],[a,0]],bottomleft:[[0,0],[a,0],[0,g]],topright:[[0,g],[a,0],[a,g]],topleft:[[0,0],[0,g],[a,g]],topcenter:[[0,g],[k,0],[a,g]],bottomcenter:[[0,0],[a,0],[k,g]],rightcenter:[[0,0],[a,m],[0,g]],leftcenter:[[a,0],[a,g],[0,m]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=
a.topleft;return a[f.string()]}function R(f){function a(l,b,s){if(m.tip){l=c.extend({},g.corner);b=l.precedance==="y"?["y","top","left","height","x"]:["x","left","top","width","y"];var x=s.adjusted,d=[0,0];if(g.corner.fixed!==TRUE){if(x.left)l.x=l.x==="center"?x.left>0?"left":"right":l.x==="left"?"right":"left";if(x.top)l.y=l.y==="center"?x.top>0?"top":"bottom":l.y==="top"?"bottom":"top";if(l.string()!==w.corner.string()&&(w.top!==x.top||w.left!==x.left))g.update(l)}d[0]=z?parseInt(o.css("border-"+
l[b[0]]+"-width"),10)||0:C==="vml"?1:0;d[1]=Math.max(l[b[4]]==="center"?k.offset:0,k.offset);s[b[1]]+=(l[b[0]]===b[1]?1:-1)*(q[b[3]]-d[0]);s[b[2]]-=(l[b[4]]===b[2]||l[b[4]]==="center"?1:-1)*d[1];w.left=x.left;w.top=x.top;w.corner=l}}var g=this,k=f.options.style.tip,m=f.elements,o=m.tooltip,w={top:0,left:0,corner:{string:function(){}}},q={width:k.width,height:k.height},n={},z=k.border||0,C=k.method||FALSE;g.corner=NULL;g.mimic=NULL;g.checks={"^position.my|style.tip.(corner|mimic|method|border)":function(){z=
k.border;if(g.init())f.get("position.target")!=="mouse"&&f.reposition();else g.destroy()},"^style.tip.(height|width)":function(){q={width:k.width,height:k.height};g.create();g.update();f.reposition()},"^style.(classes|widget)$":function(){g.detectColours();g.update()}};c.extend(g,{init:function(){var l=g.detectCorner();if(l){if(C!=="polygon")C=c("<canvas />")[0].getContext?"canvas":c.browser.msie?"vml":"polygon";g.create();g.detectColours();g.update();o.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",
a)}return l},detectCorner:function(){var l=k.corner,b=f.options.position,s=b.at;b=b.my.string?b.my.string():b.my;if(l===FALSE||b===FALSE&&s===FALSE)return FALSE;else if(l===TRUE)g.corner=new c.fn.qtip.plugins.Corner(b);else if(!l.string){g.corner=new c.fn.qtip.plugins.Corner(l);g.corner.fixed=TRUE}return g.corner.string()!=="centercenter"},detectColours:function(){var l=m.tip.css({backgroundColor:"",border:""}),b=g.corner,s=b[b.precedance],x="border-"+s+"-color";s="border"+s.charAt(0)+s.substr(1)+
"Color";var d=/rgba?\(0, 0, 0(, 0)?\)|transparent/i,e=m.titlebar&&b.y==="top",i=f.options.style.widget;b=i?m.content:e?m.titlebar:o;e=!i?o:e?m.titlebar:m.content;n.fill=l.css("background-color")||"transparent";n.border=l[0].style[s];if(d.test(n.fill))n.fill=z?b.css("background-color"):e.css(x);if(!n.border||d.test(n.border))n.border=e.css(x)||n.fill;c("*",l).add(l).css("background-color","transparent").css("border",0)},create:function(){var l=q.width,b=q.height;m.tip&&m.tip.remove();m.tip=c("<div />",
{"class":"ui-tooltip-tip"}).css(q).toggleClass("ui-widget-content",f.options.style.widget).prependTo(o);switch(C){case "canvas":c('<canvas height="'+b+'" width="'+l+'" />').appendTo(m.tip)[0].getContext("2d").save();break;case "vml":l='<vml:shape coordorigin="0,0" coordsize="'+l+" "+b+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+l+"px; height:"+b+'px;"></vml:shape>';m.tip.html(z?l+=l:l);break;case "polygon":m.tip.append('<div class="ui-tooltip-tip-inner" />').append(z?
'<div class="ui-tooltip-tip-border" />':"");break}return g},update:function(l){var b=m.tip.children(),s=q.width,x=q.height,d=z>0?0:1,e=k.mimic,i,j,h,p;if(!l)l=g.corner;if(e===FALSE)e=l;else{e=new c.fn.qtip.plugins.Corner(e);e.precedance=l.precedance;if(e.x==="inherit")e.x=l.x;else if(e.y==="inherit")e.y=l.y;else if(e.x===e.y)e[l.precedance]=l[l.precedance]}h=e.string().indexOf("center")>-1;p=Math[/b|r/.test(e[e.precedance==="y"?"x":"y"])?"ceil":"floor"];switch(C){case "canvas":i=b.get(0).getContext("2d");
i.restore&&i.restore();i.clearRect(0,0,3E3,3E3);for(j=N(e,s,x);d<2;d++){if(d){i.save();i.translate(p((e.x==="left"?1:e.x==="right"?-1:0)*(z+1)*(e.precedance==="y"?0.5:1)),p((e.y==="top"?1:e.y==="bottom"?-1:0)*(z+1)*(e.precedance==="x"?0.5:1)))}i.beginPath();i.moveTo(j[0][0],j[0][1]);i.lineTo(j[1][0],j[1][1]);i.lineTo(j[2][0],j[2][1]);i.closePath();i.fillStyle=n[d?"fill":"border"];i.fill()}break;case "vml":j=N(e,s,x);j="m"+j[0][0]+","+j[0][1]+" l"+j[1][0]+","+j[1][1]+" "+j[2][0]+","+j[2][1]+" xe";
b.each(function(A){c(this).attr({path:j,fillcolor:n[A||!z?"fill":"border"]}).css("antialias",""+h)});break;case "polygon":b.removeAttr("style").css({position:"absolute",left:0,top:0}).each(function(A){var B={x:e.precedance==="x"?e.x==="left"?"right":"left":e.x,y:e.precedance==="y"?e.y==="top"?"bottom":"top":e.y},y=e.x==="center"?["left","right",B.y,x,s]:["top","bottom",B.x,s,x];A=n[!A&&z?"border":"fill"];e.x==="center"||e.y==="center"?c(this).css("border-"+y[2],y[3]+"px solid "+A).css("border-"+y[0],
p(y[4]/2)+"px dashed transparent").css("border-"+y[1],p(y[4]/2)+"px dashed transparent"):c(this).css("border-width",p(x/2)+"px "+p(s/2)+"px").css("border-"+B.x,p(s/2)+"px solid "+A).css("border-"+B.y,p(x/2)+"px solid "+A)});break}if(C!=="canvas"&&z){d=[z*2.75,z];d=e.precedance==="y"?[e.x==="left"?d[1]:e.x==="right"?-d[1]:0,e.y==="bottom"?-d[0]:d[0]]:[e.x==="left"?d[0]:-d[0],e.y==="bottom"?-d[1]:e.y==="top"?d[1]:0];b.eq(1).css({left:d[0],top:d[1]})}g.reposition(l);return g},reposition:function(l){var b=
m.tip,s={},x=k.offset,d,e;if(k.corner===FALSE||!b)return FALSE;l=l||g.corner;d=l.precedance;e=q[d==="x"?"width":"height"];x=Math.max(l[d==="y"?"x":"y"]==="center"?x:0,x);b.css({top:"",bottom:"",left:"",right:"",margin:""});c.each(d==="y"?[l.x,l.y]:[l.y,l.x],function(i,j){if(j==="center"){var h=d==="y"?"left":"top";s[h]="50%";b.css("margin-"+h,-Math.floor(e/2)+x)}else s[j]=x-(!i||!z?parseInt(o.css("border-"+j+"-width"),10):0)});s[l[d]]-=e;b.css(s)},destroy:function(){m.tip&&m.tip.remove();o.unbind(".qtip-tip")}});
g.init()}function S(f){var a=this,g=f.options.show.modal,k=f.elements,m=k.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();k.overlay.toggle(m.is(":visible"))}};c.extend(a,{init:function(){if(g.on){m.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(o,w,q){o=o.type.replace("tooltip","");c.isFunction(g[o])?g[o].call(k.overlay,q,w):a[o](q)});a.create();g.blur===TRUE&&k.overlay.unbind(".qtipmodal"+f.id).bind("click.qtipmodal"+f.id,function(){f.hide.call(f)})}},
create:function(){var o=c("#qtip-overlay");if(o.length)k.overlay=o;else{k.overlay=c("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(m.css("z-index"),10)-1}}).appendTo(document.body);c(G).bind("resize.qtipmodal",function(){k.overlay.css({height:Math.max(c(G).height(),c(document).height()),width:Math.max(c(G).width(),c(document).width())})}).trigger("resize")}},toggle:function(o){var w=k.overlay,q=f.options.show.modal.effect,n=o?"show":"hide";
w.stop(TRUE,FALSE);if(c.isFunction(q))q.call(w,o);else q===FALSE?w[n]():w.fadeTo(90,o?0.7:0,function(){o||c(this).hide()})},show:function(){a.toggle(TRUE)},hide:function(){a.toggle(FALSE)},destroy:function(){var o=TRUE;c("*").each(function(){var w=c(this).data("qtip");if(w&&w.id!==f.id&&w.options.show.modal)return o=FALSE});if(o){k.overlay.remove();c(G).unbind(".qtipmodal")}else k.overlay.unbind(".qtipmodal"+f.id);m.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function T(f){var a=
this,g=f.elements,k=g.tooltip,m=".bgiframe-"+f.id,o="tooltipmove"+m+" tooltipshow"+m;c.extend(a,{init:function(){g.bgiframe=c('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');g.bgiframe.appendTo(k);k.bind(o,a.adjust)},adjust:function(){var w=f.get("dimensions"),q=f.plugins.tip,n=f.elements.tip,z;z=parseInt(k.css("border-left-width"),10)||0;z={left:-z,top:-z};if(q&&n){q=
q.corner.precedance==="x"?["width","left"]:["height","top"];z[q[1]]-=n[q[0]]()}g.bgiframe.css(z).css(w)},destroy:function(){a.iframe.remove();k.unbind(o)}});a.init()}c.fn.qtip=function(f,a,g){var k=String(f).toLowerCase(),m=NULL,o=k==="disable"?[TRUE]:c.makeArray(arguments).slice(1,10),w=o[o.length-1],q;if(!arguments.length&&this.data("qtip")||k==="api")return(q=this.data("qtip"))?q:L;else if("string"===typeof f){this.each(function(){var n=c(this).data("qtip");if(!n)return TRUE;if(/option|set/.test(k)&&
a)if(g!==L)n.set(a,g);else m=n.get(a);else{if(!n.rendered&&(k==="show"||k==="toggle")){if(w&&w.timeStamp)n.cache.event=w;n.render(1)}else if(k==="enable"){k="disable";o=[FALSE]}n[k]&&n[k].apply(n[k],o)}});return m!==NULL?m:this}else if("object"===typeof f||!arguments.length){q=M(c.extend(TRUE,{},f));return c.fn.qtip.bind.call(this,q,w)}};c.fn.qtip.bind=function(f,a){return this.each(function(){function g(z){function C(){n.render(typeof z==="object"||k.show.ready);m.show.unbind(o.show);m.hide.unbind(o.hide)}
if(n.cache.disabled)return FALSE;n.cache.event=c.extend({},z);if(k.show.delay>0){clearTimeout(n.timers.show);n.timers.show=setTimeout(C,k.show.delay);o.show!==o.hide&&m.hide.bind(o.hide,function(){clearTimeout(n.timers.show)})}else C()}var k,m,o,w=f.id=!f.id||f.id===FALSE||f.id.length<1||c("#ui-tooltip-"+f.id).length?c.fn.qtip.nextid++:f.id,q=".qtip-"+w+"-create",n=P.call(this,w,f);if(n===FALSE)return TRUE;k=n.options;c.each(c.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(n)});m=
{show:k.show.target,hide:k.hide.target};o={show:String(k.show.event).replace(" ",q+" ")+q,hide:String(k.hide.event).replace(" ",q+" ")+q};m.show.bind(o.show,g);if(k.show.ready||k.prerender)g(a)})};c.each({attr:function(f){var a=c(this),g=a.data("qtip");return arguments.length===1&&f==="title"&&g&&g.rendered===TRUE?a.data("oldtitle"):NULL},remove:c.ui?NULL:function(f,a){c(this).each(function(){if(!a)if(!f||c.filter(f,[this]).length)c("*",this).add(this).each(function(){c(this).triggerHandler("remove")})})}},
function(f,a){if(!a)return TRUE;c.fn["Old"+f]=c.fn[f];c.fn[f]=function(){return a.apply(this,arguments)||c.fn["Old"+f].apply(this,arguments)}});c(document.body).attr("role",function(f,a){return!a?"application":a});c(document).bind("mousemove.qtip",function(f){c.fn.qtip.mouse={pageX:f.pageX,pageY:f.pageY}});c.fn.qtip.version="2.0.0pre";c.fn.qtip.nextid=0;c.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");c.fn.qtip.zindex=15E3;c.fn.qtip.plugins={Corner:function(f){f=
String(f).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(f.match(/left|right/i)||f.match(/center/)||["inherit"])[0].toLowerCase();this.y=(f.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=f.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),g=this.y.substr(0,1);return a===g?a:a==="c"||a!=="c"&&g!=="c"?g+a:a+g}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||
[0,"4_2"])[1].replace("_","."))<4.1};c.fn.qtip.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,resize:TRUE},effect:TRUE},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",
widget:FALSE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,focus:NULL,blur:NULL}};c.fn.qtip.plugins.ajax=function(f){var a=f.plugins.ajax;return"object"===typeof a?a:f.plugins.ajax=new Q(f)};c.fn.qtip.plugins.ajax.initialize="render";c.fn.qtip.plugins.ajax.sanitize=function(f){var a=f.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=f.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};c.extend(TRUE,c.fn.qtip.defaults,{content:{ajax:{once:TRUE}}});
c.fn.qtip.plugins.tip=function(f){var a=f.plugins.tip;return"object"===typeof a?a:f.plugins.tip=new R(f)};c.fn.qtip.plugins.tip.initialize="render";c.fn.qtip.plugins.tip.sanitize=function(f){var a=f.style;if(a&&"tip"in a){a=f.style.tip;if(typeof a!=="object")f.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=true;if(typeof a.method!=="string")a.method=TRUE;if(!/canvas|polygon/i.test(a.method))a.method=TRUE;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&
delete a.height;typeof a.border!=="number"&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};c.extend(TRUE,c.fn.qtip.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,method:TRUE,width:8,height:8,border:0,offset:0}}});c.fn.qtip.plugins.imagemap=function(f,a){function g(l,b){for(var s=0,x=1,d=1,e=0,i=0,j=l.width,h=l.height;j>0&&h>0&&x>0&&d>0;){j=Math.floor(j/2);h=Math.floor(h/2);if(a.x==="left")x=j;else if(a.x==="right")x=l.width-j;else x+=Math.floor(j/2);if(a.y==="top")d=h;else if(a.y===
"bottom")d=l.height-h;else d+=Math.floor(h/2);for(s=b.length;s--;){if(b.length<2)break;e=b[s][0]-l.offset.left;i=b[s][1]-l.offset.top;if(a.x==="left"&&e>=x||a.x==="right"&&e<=x||a.x==="center"&&(e<x||e>l.width-x)||a.y==="top"&&i>=d||a.y==="bottom"&&i<=d||a.y==="center"&&(i<d||i>l.height-d))b.splice(s,1)}}return{left:b[0][0],top:b[0][1]}}var k=f.attr("shape").toLowerCase(),m=f.attr("coords").split(","),o=[],w=c('img[usemap="#'+f.parent("map").attr("name")+'"]'),q=w.offset(),n={width:0,height:0,offset:{top:1E10,
right:0,bottom:0,left:1E10}},z=0,C=0;q.left+=Math.ceil((w.outerWidth()-w.width())/2);q.top+=Math.ceil((w.outerHeight()-w.height())/2);if(k==="poly")for(z=m.length;z--;){C=[parseInt(m[--z],10),parseInt(m[z+1],10)];if(C[0]>n.offset.right)n.offset.right=C[0];if(C[0]<n.offset.left)n.offset.left=C[0];if(C[1]>n.offset.bottom)n.offset.bottom=C[1];if(C[1]<n.offset.top)n.offset.top=C[1];o.push(C)}else o=c.map(m,function(l){return parseInt(l,10)});switch(k){case "rect":n={width:Math.abs(o[2]-o[0]),height:Math.abs(o[3]-
o[1]),offset:{left:o[0],top:o[1]}};break;case "circle":n={width:o[2]+2,height:o[2]+2,offset:{left:o[0],top:o[1]}};break;case "poly":c.extend(n,{width:Math.abs(n.offset.right-n.offset.left),height:Math.abs(n.offset.bottom-n.offset.top)});n.offset=a.string()==="centercenter"?{left:n.offset.left+n.width/2,top:n.offset.top+n.height/2}:g(n,o.slice());n.width=n.height=0;break}n.offset.left+=q.left;n.offset.top+=q.top;return n};c.fn.qtip.plugins.modal=function(f){var a=f.plugins.modal;return"object"===typeof a?
a:f.plugins.modal=new S(f)};c.fn.qtip.plugins.modal.initialize="render";c.fn.qtip.plugins.modal.sanitize=function(f){if(f.show)if(typeof f.show.modal!=="object")f.show.modal={on:!!f.show.modal};else if(typeof f.show.modal.on==="undefined")f.show.modal.on=TRUE};c.extend(TRUE,c.fn.qtip.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE}}});c.fn.qtip.plugins.bgiframe=function(f){if(!(c.browser.msie&&/^6\.[0-9]/.test(c.browser.version)&&c("select, object").length))return FALSE;var a=f.plugins.bgiframe;
if(a)return a;else{f.plugins.bgiframe=new T(f);return f.plugins.bgiframe}};c.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
