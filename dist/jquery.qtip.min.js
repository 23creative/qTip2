/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Tue Feb 1 12:29:24 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(a,M,T){function $(){var c=M.console;return c&&(c.error||c.log||a.noop).apply(c,arguments)}function W(c){var b;if(!c||"object"!==typeof c)return p;if("object"!==typeof c.metadata)c.metadata={type:c.metadata};if("content"in c){if("object"!==typeof c.content||c.content.jquery)c.content={text:c.content};b=c.content.text||p;if(!a.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))c.content.text=p;if("title"in c.content){if("object"!==typeof c.content.title)c.content.title=
{text:c.content.title};b=c.content.title.text||p;if(!a.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))c.content.title.text=p}}if("position"in c)if("object"!==typeof c.position)c.position={my:c.position,at:c.position};if("show"in c)if("object"!==typeof c.show)c.show=c.show.jquery?{target:c.show}:{event:c.show};if("hide"in c)if("object"!==typeof c.hide)c.hide=c.hide.jquery?{target:c.hide}:{event:c.hide};if("style"in c)if("object"!==typeof c.style)c.style={classes:c.style};
a.each(a.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(c)});return c}function aa(c,b,i,j){function q(e){var g,l=e.split("."),s=b[l[0]];for(e=1;e<l.length;e+=1){g=s[l[e]];if(typeof g==="object"&&!g.jquery&&!g.precedance)s=s[l[e]];else break}return l[e]!==T?[s,l[e]]:[b,l[0]]}function h(e,g){var l={left:0,top:0},s=!a.fn.qtip.plugins.iOS,o,u;if(g){if(g.offsetParent!==v){l=h(g);l.left*=-1;l.top*=-1;l.left+=parseInt(a.css(g,"margin-left"),10)||0;l.top+=parseInt(a.css(g,"margin-top"),10)||0}else{l.left+=
v.scrollLeft;l.top+=v.scrollTop}if(g!==v)if(a.css(g,"overflow")!=="visible"){l.left-=g.scrollLeft;l.top-=g.scrollTop}}if(e.offsetParent){do{o=e.offsetParent;u=o===g;l.left+=e.offsetLeft-(s&&o&&!u?o.scrollLeft:0);l.top+=e.offsetTop-(s&&o&&!u?o.scrollTop:0)}while(e=o)}return l}function k(){return f.css("left")!==ba&&f.css("visibility")!=="hidden"}function y(){var e=d.elements,g=b.style.widget;f.toggleClass(Z,g);e.content.toggleClass(Z+"-content",g);e.titlebar&&e.titlebar.toggleClass(Z+"-header",g);
e.button&&e.button.toggleClass(N+"-icon",!g)}function n(){var e=d.elements;if(e.title){e.titlebar.remove();e.titlebar=e.title=e.button=G;d.reposition()}}function C(){var e=d.elements,g=b.content.title.button;e.button&&e.button.remove();e.button=g.jquery?g:a("<a />",{"class":"ui-state-default "+(b.style.widget?"":N+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));e.button.appendTo(e.titlebar).attr("role","button").hover(function(l){a(this).toggleClass("ui-state-hover",
l.type==="mouseenter")}).click(function(l){f.hasClass(S)||d.hide(l);return p}).bind("mousedown keydown mouseup keyup mouseout",function(l){a(this).toggleClass("ui-state-active ui-state-focus",l.type.substr(-4)==="down")});d.redraw()}function B(){var e=d.elements,g=E+"-title";e.titlebar&&n();e.titlebar=a("<div />",{"class":N+"-titlebar "+(b.style.widget?"ui-widget-header":"")}).append(e.title=a("<div />",{id:g,"class":N+"-title","aria-atomic":A})).insertBefore(e.content);if(b.content.title.button)C();
else d.rendered&&d.redraw()}function D(e){var g=d.elements.title;if(!d.rendered||!e)return p;if(a.isFunction(e))e=e.call(c,d)||"";e.jquery&&e.length>0?g.empty().append(e.css({display:"block"})):g.html(e);d.redraw();d.rendered&&k()&&d.reposition(d.cache.event)}function O(e){var g=d.elements.content;if(!d.rendered||!e)return p;if(a.isFunction(e))e=e.call(c,d)||"";e.jquery&&e.length>0?g.empty().append(e.css({display:"block"})):g.html(e);f.queue("fx",function(l){function s(u){o=o.not(u);if(o.length===
0){d.redraw();d.rendered&&k()&&d.reposition(d.cache.event);l()}}var o=g.find("img:not([height]):not([width])");o.each(function(u,F){var K=["abort","error","load","unload",""].join(".qtip-image ");a(this).bind(K,function(){clearTimeout(d.timers.img[u]);s(this)});(function z(){if(F.height)return s(F);d.timers.img[u]=setTimeout(z,20)})();return A});o.length===0&&s(o)});return d}function m(e,g,l,s){function o(t){if(f.hasClass(S))return p;w.show.trigger("qtip-"+i+"-inactive");clearTimeout(d.timers.show);
clearTimeout(d.timers.hide);var H=function(){d.show(t)};if(b.show.delay>0)d.timers.show=setTimeout(H,b.show.delay);else H()}function u(t){if(f.hasClass(S))return p;var H=a(t.relatedTarget||t.target),J=H.closest(X)[0]===f[0];H=H[0]===w.show[0];clearTimeout(d.timers.show);clearTimeout(d.timers.hide);if(x.target==="mouse"&&J||b.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(J||H)){t.stopPropagation();t.preventDefault();return p}f.stop(1,1);if(b.hide.delay>0)d.timers.hide=setTimeout(function(){d.hide(t)},
b.hide.delay);else d.hide(t)}function F(t){if(f.hasClass(S))return p;clearTimeout(d.timers.inactive);d.timers.inactive=setTimeout(function(){d.hide(t)},b.hide.inactive)}function K(t){if(!d.cache.processing){d.cache.processing=1;k()&&d.reposition(t);d.cache.processing=0}}var z=".qtip-"+i,x=b.position,w={show:b.show.target,hide:b.hide.target,container:x.container[0]===v?document:x.container},Q={show:String(b.show.event).split(" "),hide:String(b.hide.event).split(" ")},P=a(document),I=a.browser.msie&&
parseInt(a.browser.version,10)===6;if(l){if(b.hide.fixed){w.hide=w.hide.add(f);f.bind("mouseover"+z,function(){f.hasClass(S)||clearTimeout(d.timers.hide)})}f.bind("mouseenter"+z+" mouseleave"+z,function(t){d[t.type==="mouseenter"?"focus":"blur"](t)})}if(g){if("number"===typeof b.hide.inactive){w.show.bind("qtip-"+i+"-inactive",F);a.each(a.fn.qtip.inactiveEvents,function(t,H){w.hide.add(d.elements.tooltip).bind(H+z+"-inactive",F)})}a.each(Q.hide,function(t,H){var J=a.inArray(H,Q.show),L=a(w.hide);
if(J>-1&&L.add(w.show).length===L.length||H==="unfocus"){w.show.bind(H+z,function(R){k()?u(R):o(R)});delete Q.show[J]}else w.hide.bind(H+z,u)})}e&&a.each(Q.show,function(t,H){w.show.bind(H+z,o)});if(s){if(x.adjust.resize||x.viewport)a(a.event.special.resize?x.viewport:M).bind("resize"+z,K);if(x.viewport||I&&f.css("position")==="fixed")a(x.viewport).bind("scroll"+z,K);/unfocus/i.test(b.hide.event)&&P.bind("mousedown"+z,function(t){var H=a(t.target);H.parents(X).length===0&&H.add(c).length>1&&k()&&
!f.hasClass(S)&&d.hide(t)});x.target==="mouse"&&P.bind("mousemove"+z,function(t){if(x.adjust.mouse&&!f.hasClass(S)&&k())d.reposition(t||a.fn.qtip.mouse)})}}function r(e,g,l,s){s=parseInt(s,10)!==0;var o=".qtip-"+i;g={show:e?b.show.target:G,hide:g?b.hide.target:G,tooltip:l?d.elements.tooltip:G,content:l?d.elements.content:G,container:s?b.position.container[0]===v?document:b.position.container:G,window:s?M:G};if(d.rendered)a([]).pushStack(a.grep([g.show,g.hide,g.tooltip,g.container,g.content,g.window],
function(){return this!==null})).unbind(o);else e&&g.show.unbind(o+"-create")}var d=this,v=document.body,E=N+"-"+i,f;d.id=i;d.rendered=p;d.elements={target:c};d.timers={img:[]};d.options=b;d.plugins={};d.cache={event:{},target:G,disabled:p,lastFocus:v,attr:j};a.extend(d,{render:function(e){if(d.rendered)return p;var g=d.elements,l=b.content.text,s=b.content.title.text,o=a.Event("tooltiprender");a.attr(c[0],"aria-describedby",E);f=g.tooltip=a("<div/>").attr({id:E,"class":N+" qtip ui-helper-reset "+
b.style.classes,role:"alert","aria-live":"polite","aria-atomic":p,"aria-describedby":E+"-content","aria-hidden":A}).toggleClass(S,d.cache.disabled).data("qtip",d).appendTo(b.position.container).append(g.content=a("<div />",{"class":N+"-content",id:E+"-content","aria-atomic":A}));d.rendered=A;if(s){B();D(s)}O(l);y();a.each(a.fn.qtip.plugins,function(){this.initialize==="render"&&this(d)});m(1,1,1,1);a.each(b.events,function(u,F){if(F)f.bind(u==="toggle"?"tooltipshow tooltiphide":"tooltip"+u,F)});f.css("visibility",
"hidden").queue("fx",function(u){o.originalEvent=d.cache.event;f.trigger(o,[d]);if(b.show.ready||e)d.show(d.cache.event);u()});return d},get:function(e){switch(e.toLowerCase()){case "dimensions":e={height:f.outerHeight(),width:f.outerWidth()};break;case "offset":e=h(f[0],b.position.container[0]);break;default:e=q(e.toLowerCase());e=e[0].precedance?e[0].string():e[0].jquery?e[0]:e[0][e[1]];break}return e},set:function(e,g){function l(z,x){z=z.toLowerCase();var w=q(z),Q,P,I;Q=w[0][w[1]];w[0][w[1]]=
x.nodeType?a(x):x;for(P in K)for(I in K[P])RegExp(I,"i").test(z)&&K[P][I].call(d,w[0],w[1],x,Q)}var s=d.elements,o=/^position.(my|at|adjust|target|container)|style|content/i,u=p,F,K={builtin:{"^id$":function(z,x,w){z=w===A?a.fn.qtip.nextid:w;x=N+"-"+z;if(z!==p&&z.length>0&&!a("#"+x).length){f[0].id=x;s.content[0].id=x+"-content";s.title[0].id=x+"-title"}},"^content.text$":function(z,x,w){O(w)},"^content.title.text$":function(z,x,w){if(!w)return n();!s.title&&w&&B();D(w)},"^content.title.button$":function(z,
x,w){z=d.elements.button;x=d.elements.title;if(d.rendered)if(w){x||B();C()}else z.remove()},"^position.(my|at)$":function(z,x,w){if("string"===typeof w)z[x.substr(-2)]=new a.fn.qtip.plugins.Corner(w)},"^position.container$":function(z,x,w){d.rendered&&f.appendTo(w)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(z,x,w,Q){var P=x.search(/fixed/i)>-1?[0,[0,1,1,1]]:[x.substr(0,3),x.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(P[0])z[x]=Q;r.apply(d,P[1]);if(P[0])z[x]=w;m.apply(d,P[1])},"^show.ready$":function(){d.rendered||
d.show()},"^style.classes$":function(z,x,w){a.attr(f[0],"class",N+" qtip ui-helper-reset "+w)},"^style.widget|content.title":y,"^events.(render|show|move|hide|focus|blur)$":function(z,x,w){s.tooltip[(a.isFunction(w)?"":"un")+"bind"]("tooltip"+x,w)}}};a.each(d.plugins,function(z){if("object"===typeof this.checks)K[z]=this.checks});if("string"===typeof e){F=e;e={};e[F]=g}for(F in e){l(F,e[F]);u=o.test(F)||u}u&&k()&&d.rendered&&d.reposition();W(b);return d},toggle:function(e,g){function l(){if(e)a.browser.msie&&
f[0].style.removeAttribute("filter");else f.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(!d.rendered)return p;var s=e?"show":"hide",o=b[s],u=k();if((typeof e).search("boolean|number"))e=!u;if(u===e)return d;if(g){if(/over|enter/.test(g.type)&&/out|leave/.test(d.cache.event.type)&&g.target===b.show.target[0]&&f.has(g.relatedTarget).length)return d;d.cache.event=a.extend({},g)}u=a.Event("tooltip"+s);u.originalEvent=g?d.cache.event:G;f.trigger(u,[d,90]);if(u.isDefaultPrevented())return d;
a.attr(f[0],"aria-hidden",!!!e);if(e){f.hide().css({visibility:""});d.focus(g);d.reposition(g,0);o.solo&&a(X).not(f).qtip("hide",u)}else{clearTimeout(d.timers.show);d.blur(g)}f.stop(1,1);if(a.isFunction(o.effect)){o.effect.call(f,d);f.queue("fx",function(F){l.call(this,F);F()})}else if(o.effect===p){f[s]();l.call(f)}else f.fadeTo(90,e?1:0,l);e&&o.target.trigger("qtip-"+i+"-inactive");return d},show:function(e){d.toggle(A,e)},hide:function(e){d.toggle(p,e)},focus:function(e){if(!d.rendered)return p;
var g=a(X),l=parseInt(f[0].style.zIndex,10),s=a.fn.qtip.zindex+g.length;e=a.extend({},e);if(!f.hasClass(Y)){if(l!==s){g.each(function(){if(this.style.zIndex>l)this.style.zIndex-=1});g.filter("."+Y).qtip("blur",e)}d.cache.lastFocus=document.activeElement;g=a.Event("tooltipfocus");g.originalEvent=e;f.trigger(g,[d,s]);if(!g.isDefaultPrevented())f.addClass(Y)[0].style.zIndex=s}return d},blur:function(e){e=a.extend({},e);var g;f.removeClass(Y);g=a.Event("tooltipblur");g.originalEvent=e;f.trigger(g,[d])},
reposition:function(e,g){if(!d.rendered)return p;var l=b.position.target,s=b.position,o=s.my,u=s.at,F=s.adjust,K=f.outerWidth(),z=f.outerHeight(),x=0,w=0,Q=a.Event("tooltipmove"),P=f.css("position")==="fixed",I=s.viewport.jquery?s.viewport:a(M),t={left:0,top:0},H={left:function(J){var L=I.scrollLeft,R=u.x==="left"?x:u.x==="right"?-x:-x/2,U=L-J;L=J+K-I.width-L;R=(o.x==="left"?K:o.x==="right"?-K:-K/2)-(o.precedance==="x"||o.x===o.y?R:0);if(U>0&&(o.x!=="left"||L>0))t.left-=R;else if(L>0&&(o.x!=="right"||
U>0))t.left-=(o.x==="center"?-1:1)*R+2*F.x;if(t.left<0&&-t.left>L)t.left=J;return t.left-J},top:function(J){var L=I.scrollTop,R=u.y==="top"?w:u.y==="bottom"?-w:-w/2,U=L-J;L=J+z-I.height-L;R=(o.y==="top"?z:o.y==="bottom"?-z:-z/2)-(o.precedance==="y"||o.x===o.y?R:0);if(U>0&&(o.y!=="top"||L>0))t.top-=R;else if(L>0&&(o.y!=="bottom"||U>0))t.top-=(o.y==="center"?-1:1)*R+2*F.y;if(t.top<0&&-t.top>L)t.top=J;return t.top-J}};g=g===T||!!g||p;I=!I?p:{elem:I,height:I[(I[0]===M?"h":"outerH")+"eight"](),width:I[(I[0]===
M?"w":"outerW")+"idth"](),scrollLeft:I.scrollLeft(),scrollTop:I.scrollTop()};if(l==="mouse"){u={x:"left",y:"top"};e=e&&(e.type==="resize"||e.type==="scroll")?d.cache.event:F.mouse||!e||!e.pageX?a.extend({},a.fn.qtip.mouse):e;t={top:e.pageY,left:e.pageX}}else{if(l==="event")l=e&&e.target&&e.type!=="scroll"&&e.type!=="resize"?d.cache.target=a(e.target):d.cache.target;l=a(l).eq(0);if(l.length===0)return d;else if(l[0]===document||l[0]===M){x=l.width();w=l.height();if(l[0]===M)t={top:P?0:I.scrollTop,
left:P?0:I.scrollLeft}}else if(l.is("area")&&a.fn.qtip.plugins.imagemap){t=a.fn.qtip.plugins.imagemap(l,u);x=t.width;w=t.height;t=t.offset}else if(l[0].namespaceURI=="http://www.w3.org/2000/svg"&&a.fn.qtip.plugins.svg){t=a.fn.qtip.plugins.svg(l,u);x=t.width;w=t.height;t=t.offset}else{x=l.outerWidth();w=l.outerHeight();t=h(l[0],s.container[0])}t.left+=u.x==="right"?x:u.x==="center"?x/2:0;t.top+=u.y==="bottom"?w:u.y==="center"?w/2:0}t.left+=F.x+(o.x==="right"?-K:o.x==="center"?-K/2:0);t.top+=F.y+(o.y===
"bottom"?-z:o.y==="center"?-z/2:0);t.adjusted=s.viewport.jquery&&l[0]!==M&&l[0]!==v?{left:H.left(t.left),top:H.top(t.top)}:{left:0,top:0};f.attr("class",function(){return a.attr(this,"class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(N+"-pos-"+o.abbreviation());Q.originalEvent=a.extend({},e);f.trigger(Q,[d,t,I.elem]);if(Q.isDefaultPrevented())return d;delete t.adjusted;if(!g||!isNaN(t.left,t.top))f.css(t);else if(k()&&a.isFunction(s.effect)){s.effect.call(f,d,t);f.queue(function(J){a(this).css({opacity:"",
height:""});a.browser.msie&&this.style&&this.style.removeAttribute("filter");J()})}return d},redraw:function(){if(!d.rendered||!(a.browser.msie&&a.browser.version<8))return p;var e=N+"-fluid",g;f.css({width:"auto",height:"auto"}).addClass(e);g={height:f.outerHeight(),width:f.outerWidth()};a.each(["width","height"],function(l,s){var o=parseInt(f.css("max-"+s),10)||0,u=parseInt(f.css("min-"+s),10)||0;g[s]=o+u?Math.min(Math.max(g[s],u),o):g[s]});f.css(g).removeClass(e)},disable:function(e){var g=S;if("boolean"!==
typeof e)e=!(f.hasClass(g)||d.cache.disabled);if(d.rendered){f.toggleClass(g,e);a.attr(f[0],"aria-disabled",e)}else d.cache.disabled=!!e;return d},destroy:function(){var e=c[0],g=a.data(e,V);if(d.rendered){f.remove();a.each(d.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(d.timers.show);clearTimeout(d.timers.hide);r(1,1,1,1);a.removeData(e,"qtip");g&&a.attr(e,"title",g);c.removeAttr("aria-describedby");return c}})}function ca(c,b){var i,j,q,h,k=a(this),y=a(document.body),
n=this===document?y:k;j=k.metadata?k.metadata(b.metadata):G;h=b.metadata.type==="html5"&&j?j[b.metadata.name]:G;var C=k.data(b.metadata.name||"qtipopts");try{C=typeof C==="string"?(new Function("return "+C))():C}catch(B){$("Unable to parse HTML5 attribute data: "+C)}h=a.extend(A,{},a.fn.qtip.defaults,b,typeof C==="object"?W(C):G,W(h||j));j&&a.removeData(this,"metadata");j=h.position;h.id=c;if("boolean"===typeof h.content.text){q=k.attr(h.content.attr);if(h.content.attr!==p&&q)h.content.text=q;else return p}if(j.container===
p)j.container=y;if(j.target===p)j.target=n;if(h.show.target===p)h.show.target=n;if(h.hide.target===p)h.hide.target=n;if(h.position.viewport===A)h.position.viewport=j.container;j.at=new a.fn.qtip.plugins.Corner(j.at);j.my=new a.fn.qtip.plugins.Corner(j.my);if(a.data(this,"qtip"))if(h.overwrite)k.qtip("destroy");else if(h.overwrite===p)return p;if(a.attr(this,"title")){a.data(this,V,a.attr(this,"title"));k.removeAttr("title")}i=new aa(k,h,c,!!q);a.data(this,"qtip",i);k.bind("remove.qtip",function(){i.destroy()});
return i}function da(c){var b=this,i=c.elements.tooltip,j=c.options.content.ajax,q=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;b.checks={"^content.ajax":function(h,k){if(k==="once")b.once();else j&&j.url&&b.load()}};a.extend(b,{init:function(){if(j&&j.url){b.load();i.one("tooltipshow",b.once)}},once:function(){j.once?b.destroy():i.bind("tooltipshow.qtip-ajax",b.load)},load:function(){var h=j.url.indexOf(" "),k=j.url,y;if(h>-1){y=k.substr(h);k=k.substr(0,h)}a.ajax(a.extend({success:function(n){if(y)n=
a("<div/>").append(n.replace(q,"")).find(y);c.set("content.text",n)},error:function(n,C,B){c.set("content.text",C+": "+B)},context:c},j,{url:k}));return b},destroy:function(){i.unbind(".qtip-ajax")}});b.init()}function ea(c,b,i){var j=Math.ceil(b/2),q=Math.ceil(i/2);b={bottomright:[[0,0],[b,i],[b,0]],bottomleft:[[0,0],[b,0],[0,i]],topright:[[0,i],[b,0],[b,i]],topleft:[[0,0],[0,i],[b,i]],topcenter:[[0,i],[j,0],[b,i]],bottomcenter:[[0,0],[b,0],[j,i]],rightcenter:[[0,0],[b,q],[0,i]],leftcenter:[[b,0],
[b,i],[0,q]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[c.string()]}function fa(c){function b(m,r,d){if(k.tip){m=a.extend({},q.corner);r=d.adjusted;var v;if(q.corner.fixed!==A){if(r.left)m.x=m.x==="center"?r.left>0?"left":"right":m.x==="left"?"right":"left";if(r.top)m.y=m.y==="center"?r.top>0?"top":"bottom":m.y==="top"?"bottom":"top";if(m.string()!==n.corner&&(n.top!==r.top||n.left!==r.left))v=q.update(m)}v||(v=q.position(m,0));if(v.right!==
T)v.left=v.right;if(v.bottom!==T)v.top=v.bottom;v.option=Math.max(0,h.offset);d.left-=v.left.charAt?v.option:(v.right?-1:1)*v.left;d.top-=v.top.charAt?v.option:(v.bottom?-1:1)*v.top;n.left=r.left;n.top=r.top;n.corner=m.string()}}function i(m,r,d){r=!r?m[m.precedance]:r;r="border-"+r+"-width";m=parseInt((k.titlebar&&m.y==="top"?k.titlebar:k.content).css(r),10);return(d?m||parseInt(y.css(r),10):m)||0}function j(m){var r=m.precedance==="y",d=C[r?"width":"height"],v=C[r?"height":"width"],E=m.string().indexOf("center")>
-1,f=d*(E?0.5:1),e=Math.pow;m=Math.round;var g=Math.sqrt(e(f,2)+e(v,2));f=[D/f*g,D/v*g];f[2]=Math.sqrt(e(f[0],2)-e(D,2));f[3]=Math.sqrt(e(f[1],2)-e(D,2));E=(g+f[2]+f[3]+(E?0:f[0]))/g;d=[m(E*v),m(E*d)];return{height:d[r?0:1],width:d[r?1:0]}}var q=this,h=c.options.style.tip,k=c.elements,y=k.tooltip,n={top:0,left:0,corner:""},C={width:h.width,height:h.height},B={},D=h.border||0,O=a("<canvas />")[0].getContext;q.corner=G;q.mimic=G;q.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){q.init()||
q.destroy();c.reposition()},"^style.tip.(height|width)$":function(){C={width:h.width,height:h.height};q.create();q.update();c.reposition()},"^content.title.text|style.(classes|widget)$":function(){k.tip&&q.update()}};a.extend(q,{init:function(){var m=q.detectCorner()&&(O||a.browser.msie);if(m){q.create();q.update();y.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",b)}return m},detectCorner:function(){var m=h.corner,r=c.options.position,d=r.at;r=r.my.string?r.my.string():r.my;if(m===p||r===p&&d===
p)return p;else if(m===A)q.corner=new a.fn.qtip.plugins.Corner(r);else if(!m.string){q.corner=new a.fn.qtip.plugins.Corner(m);q.corner.fixed=A}return q.corner.string()!=="centercenter"},detectColours:function(){var m=k.tip.css({backgroundColor:"",border:""}),r=q.corner,d=r[r.precedance],v="border-"+d+"-color";d="border"+d.charAt(0)+d.substr(1)+"Color";var E=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;r=k.titlebar&&(r.y==="top"||r.y==="center"&&m.position().top+C.height/2+h.offset<k.titlebar.outerHeight(1))?
k.titlebar:k.content;B.fill=m.css("background-color")||"transparent";B.border=m[0].style[d];if(!B.fill||E.test(B.fill)){B.fill=r.css("background-color");if(E.test(B.fill))B.fill=y.css("background-color")}if(!B.border||E.test(B.border)){B.border=y.css(v);if(E.test(B.border)||B.border===a(document.body).css("color"))B.border=r.css(v)!==a(c.elements.content).css("color")?r.css(v):"transparent"}a("*",m).add(m).css("background-color","transparent").css("border","0px dashed transparent")},create:function(){var m=
C.width,r=C.height;k.tip&&k.tip.remove();k.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:m,height:r}).prependTo(y);if(O)a("<canvas />").appendTo(k.tip)[0].getContext("2d").save();else{m='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';k.tip.html(D?m+=m:m)}},update:function(m){var r=k.tip,d=r.children(),v=C.width,E=C.height,f=h.mimic,e=Math.round,g,l,s;if(!m)m=q.corner;if(f===p)f=m;else{f=new a.fn.qtip.plugins.Corner(f);f.precedance=
m.precedance;if(f.x==="inherit")f.x=m.x;else if(f.y==="inherit")f.y=m.y;else if(f.x===f.y)f[m.precedance]=m[m.precedance]}g=f.precedance;q.detectColours();D=B.border==="transparent"||B.border==="#123456"?0:h.border===A?i(m,G,A):h.border;l=ea(f,v,E);s=j(m);r.css(s);r=m.precedance==="y"?[e(f.x==="left"?D:f.x==="right"?s.width-v-D:(s.width-v)/2),e(f.y==="top"?s.height-E:0)]:[e(f.x==="left"?s.width-v:0),e(f.y==="top"?D:f.y==="bottom"?s.height-E-D:(s.height-E)/2)];if(O){d.attr(s);d=d[0].getContext("2d");
d.restore();d.save();d.clearRect(0,0,3E3,3E3);d.translate(r[0],r[1]);d.beginPath();d.moveTo(l[0][0],l[0][1]);d.lineTo(l[1][0],l[1][1]);d.lineTo(l[2][0],l[2][1]);d.closePath();d.fillStyle=B.fill;d.strokeStyle=B.border;d.lineWidth=D*2;d.lineJoin="miter";d.miterLimit=100;d.stroke();d.fill()}else{l="m"+l[0][0]+","+l[0][1]+" l"+l[1][0]+","+l[1][1]+" "+l[2][0]+","+l[2][1]+" xe";r[2]=D&&/^(r|b)/i.test(m.string())?1:0;d.css({antialias:""+(f.string().indexOf("center")>-1),left:r[0]-r[2]*Number(g==="x"),top:r[1]-
r[2]*Number(g==="y"),width:v+D,height:E+D}).each(function(o){var u=a(this);u.attr({coordsize:v+D+" "+(E+D),path:l,fillcolor:B.fill,filled:!!o,stroked:!!!o}).css({display:D||o?"block":"none"});!o&&D>0&&u.html()===""&&u.html('<vml:stroke weight="'+D*2+'px" color="'+B.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}return q.position(m,1)},position:function(m,r){var d=k.tip,v={},E=Math.max(0,h.offset),f,e,g;if(h.corner===p||!d)return p;m=m||q.corner;
f=m.precedance;e=j(m);g=a.browser.msie&&D&&/^(b|r)/i.test(m.string())?1:0;a.each(f==="y"?[m.x,m.y]:[m.y,m.x],function(l,s){var o,u;if(s==="center"){o=f==="y"?"left":"top";v[o]="50%";v["margin-"+o]=-Math.round(e[f==="y"?"width":"height"]/2)+E}else{o=i(m,s,A);u=a.browser.mozilla;var F=m.y+(u?"":"-")+m.x;u=(u?"-moz-":a.browser.webkit?"-webkit-":"")+(u?"border-radius-"+F:"border-"+F+"-radius");u=parseInt((k.titlebar&&m.y==="top"?k.titlebar:k.content).css(u),10)||parseInt(y.css(u),10)||0;v[s]=l||!D?i(m,
s):E+(u>o?u:0)}});v[m[f]]-=e[f==="x"?"width":"height"]+g;r&&d.css({top:"",bottom:"",left:"",right:"",margin:""}).css(v);return v},destroy:function(){k.tip&&k.tip.remove();y.unbind(".qtip-tip")}});q.init()}function ga(c){var b=this,i=c.options.show.modal,j=c.elements,q=j.tooltip;b.checks={"^show.modal.(on|blur)$":function(){b.init();j.overlay.toggle(q.is(":visible"))}};a.extend(b,{init:function(){if(i.on){q.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(h,k,y){h=h.type.replace("tooltip",
"");a.isFunction(i[h])?i[h].call(j.overlay,y,k):b[h](y)});b.create();i.blur===A&&j.overlay.unbind(".qtipmodal"+c.id).bind("click.qtipmodal"+c.id,function(){c.hide.call(c)})}},create:function(){var h=a("#qtip-overlay"),k;if(h.length)return j.overlay=h;k=j.overlay=a("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none"}}).appendTo(document.body);a(M).bind("resize.qtipmodal",function(){k.css({height:Math.max(a(M).height(),a(document).height()),width:Math.max(a(M).width(),
a(document).width())})}).trigger("resize");return k},toggle:function(h){var k=j.overlay,y=c.options.show.modal.effect,n=h?"show":"hide",C;k||(k=b.create());if(!(k.is(":animated")&&!h)){k.stop(A,p);if(h){C=parseInt(a.css(q[0],"z-index"),10);k.css("z-index",(C||a.fn.qtip.zindex)-1)}if(a.isFunction(y))y.call(k,h);else y===p?k[n]():k.fadeTo(90,h?0.7:0,function(){h||a(this).hide()})}},show:function(){b.toggle(A)},hide:function(){b.toggle(p)},destroy:function(){var h=A;a("*").each(function(){var k=a(this).data("qtip");
if(k&&k.id!==c.id&&k.options.show.modal)return h=p});if(h){j.overlay.remove();a(M).unbind(".qtipmodal")}else j.overlay.unbind(".qtipmodal"+c.id);q.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});b.init()}function ha(c){var b=this,i=c.elements,j=i.tooltip,q=".bgiframe-"+c.id,h="tooltipmove"+q+" tooltipshow"+q;a.extend(b,{init:function(){i.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');
i.bgiframe.appendTo(j);j.bind(h,b.adjust)},adjust:function(){var k=c.get("dimensions"),y=c.plugins.tip,n=c.elements.tip,C;C=parseInt(j.css("border-left-width"),10)||0;C={left:-C,top:-C};if(y&&n){y=y.corner.precedance==="x"?["width","left"]:["height","top"];C[y[1]]-=n[y[0]]()}i.bgiframe.css(C).css(k)},destroy:function(){b.iframe.remove();j.unbind(h)}});b.init()}var A=true,p=false,G=null,N="ui-tooltip",Z="ui-widget",S="ui-state-disabled",X="div.qtip."+N,Y=N+"-focus",ba="-31000px",V="oldtitle";a.fn.qtip=
function(c,b,i){var j=String(c).toLowerCase(),q=G,h=j==="disable"?[A]:a.makeArray(arguments).slice(1,10),k=h[h.length-1],y=this[0]?a.data(this[0],"qtip"):G;if(!arguments.length&&y||j==="api")return y;else if("string"===typeof c){this.each(function(){var n=a.data(this,"qtip");if(!n)return A;if(/option|set/.test(j)&&b)if(a.isPlainObject(b)||i!==T)n.set(b,i);else q=n.get(b);else{if(!n.rendered&&(j==="show"||j==="toggle")){if(k&&k.timeStamp)n.cache.event=k;n.render(1)}else if(j==="enable"){j="disable";
h=[p]}n[j]&&n[j].apply(n[j],h)}});return q!==G?q:this}else if("object"===typeof c||!arguments.length){y=W(a.extend(A,{},c));return a.fn.qtip.bind.call(this,y,k)}};a.fn.qtip.bind=function(c,b){return this.each(function(){function i(C){function B(){n.render(typeof C==="object"||j.show.ready);q.show.unbind(h.show);q.hide.unbind(h.hide)}if(n.cache.disabled)return p;n.cache.event=a.extend({},C);if(j.show.delay>0){clearTimeout(n.timers.show);n.timers.show=setTimeout(B,j.show.delay);h.show!==h.hide&&q.hide.bind(h.hide,
function(){clearTimeout(n.timers.show)})}else B()}var j,q,h,k=!c.id||c.id===p||c.id.length<1||a("#"+N+"-"+c.id).length?a.fn.qtip.nextid++:c.id,y=".qtip-"+k+"-create",n=ca.call(this,k,c);if(n===p)return A;j=n.options;a.each(a.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(n)});q={show:j.show.target,hide:j.hide.target};h={show:String(j.show.event).replace(" ",y+" ")+y,hide:String(j.hide.event).replace(" ",y+" ")+y};q.show.bind(h.show,i);if(j.show.ready||j.prerender)i(b)})};a.each({attr:function(c,
b){if(this.length){var i=this[0],j=a.data(i,"qtip");if(c==="title")if(arguments.length<2)return a.data(i,V);else if(typeof j==="object"){j&&j.rendered&&j.options.content.attr==="title"&&j.cache.attr&&j.set("content.text",b);a.fn.attr_replacedByqTip.apply(this,arguments);a.data(i,V,a.attr(i,"title"));return this.removeAttr("title")}}},clone:function(){var c=a([]),b;a("*",this).add(this).each(function(){var i=a.data(this,V);if(i){a.attr(this,"title",i);c=c.add(this)}});b=a.fn.clone_replacedByqTip.apply(this,
arguments);c.removeAttr("title");return b},remove:a.ui?G:function(c,b){a(this).each(function(){if(!b)if(!c||a.filter(c,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}},function(c,b){if(!b)return A;var i=a.fn[c+"_replacedByqTip"]=a.fn[c];a.fn[c]=function(){return b.apply(this,arguments)||i.apply(this,arguments)}});a(M).load(function(){var c=document,b=c.body;a(c).bind("mousemove.qtip",function(i){a.fn.qtip.mouse={pageX:i.pageX,pageY:i.pageY}});c.activeElement===
T&&c.addEventListener("focus",function(i){if(i&&i.target)c.activeElement=i.target===c?b:i.target},true)});a.fn.qtip.version="2.0.0pre";a.fn.qtip.nextid=0;a.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");a.fn.qtip.zindex=15E3;a.fn.qtip.plugins={Corner:function(c){c=String(c).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(c.match(/left|right/i)||c.match(/center/)||["inherit"])[0].toLowerCase();this.y=(c.match(/top|bottom|center/i)||
["inherit"])[0].toLowerCase();this.precedance=c.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var b=this.x.substr(0,1),i=this.y.substr(0,1);return b===i?b:b==="c"||b!=="c"&&i!=="c"?i+b:b+i}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};a.fn.qtip.defaults={prerender:p,id:p,overwrite:A,content:{text:A,attr:"title",title:{text:p,
button:p}},position:{my:"top left",at:"bottom right",target:p,container:p,viewport:p,adjust:{x:0,y:0,mouse:A,resize:A},effect:A},show:{target:p,event:"mouseenter",effect:A,delay:90,solo:p,ready:p},hide:{target:p,event:"mouseleave",effect:A,delay:0,fixed:p,inactive:p},style:{classes:"",widget:p},events:{render:G,move:G,show:G,hide:G,toggle:G,focus:G,blur:G}};a.fn.qtip.plugins.ajax=function(c){var b=c.plugins.ajax;return"object"===typeof b?b:c.plugins.ajax=new da(c)};a.fn.qtip.plugins.ajax.initialize=
"render";a.fn.qtip.plugins.ajax.sanitize=function(c){var b=c.content;if(b&&"ajax"in b){b=b.ajax;if(typeof b!=="object")b=c.content.ajax={url:b};if("boolean"!==typeof b.once&&b.once)b.once=!!b.once}};a.extend(A,a.fn.qtip.defaults,{content:{ajax:{once:A}}});a.fn.qtip.plugins.tip=function(c){var b=c.plugins.tip;return"object"===typeof b?b:c.plugins.tip=new fa(c)};a.fn.qtip.plugins.tip.initialize="render";a.fn.qtip.plugins.tip.sanitize=function(c){var b=c.style;if(b&&"tip"in b){b=c.style.tip;if(typeof b!==
"object")c.style.tip={corner:b};if(!/string|boolean/i.test(typeof b.corner))b.corner=A;typeof b.width!=="number"&&delete b.width;typeof b.height!=="number"&&delete b.height;typeof b.border!=="number"&&b.border!==A&&delete b.border;typeof b.offset!=="number"&&delete b.offset}};a.extend(A,a.fn.qtip.defaults,{style:{tip:{corner:A,mimic:p,width:6,height:6,border:A,offset:0}}});a.fn.qtip.plugins.imagemap=function(c,b){function i(D,O){for(var m=0,r=1,d=1,v=0,E=0,f=D.width,e=D.height;f>0&&e>0&&r>0&&d>0;){f=
Math.floor(f/2);e=Math.floor(e/2);if(b.x==="left")r=f;else if(b.x==="right")r=D.width-f;else r+=Math.floor(f/2);if(b.y==="top")d=e;else if(b.y==="bottom")d=D.height-e;else d+=Math.floor(e/2);for(m=O.length;m--;){if(O.length<2)break;v=O[m][0]-D.offset.left;E=O[m][1]-D.offset.top;if(b.x==="left"&&v>=r||b.x==="right"&&v<=r||b.x==="center"&&(v<r||v>D.width-r)||b.y==="top"&&E>=d||b.y==="bottom"&&E<=d||b.y==="center"&&(E<d||E>D.height-d))O.splice(m,1)}}return{left:O[0][0],top:O[0][1]}}var j=c.attr("shape").toLowerCase(),
q=c.attr("coords").split(","),h=[],k=a('img[usemap="#'+c.parent("map").attr("name")+'"]'),y=k.offset(),n={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},C=0,B=0;y.left+=Math.ceil((k.outerWidth()-k.width())/2);y.top+=Math.ceil((k.outerHeight()-k.height())/2);if(j==="poly")for(C=q.length;C--;){B=[parseInt(q[--C],10),parseInt(q[C+1],10)];if(B[0]>n.offset.right)n.offset.right=B[0];if(B[0]<n.offset.left)n.offset.left=B[0];if(B[1]>n.offset.bottom)n.offset.bottom=B[1];if(B[1]<n.offset.top)n.offset.top=
B[1];h.push(B)}else h=a.map(q,function(D){return parseInt(D,10)});switch(j){case "rect":n={width:Math.abs(h[2]-h[0]),height:Math.abs(h[3]-h[1]),offset:{left:h[0],top:h[1]}};break;case "circle":n={width:h[2]+2,height:h[2]+2,offset:{left:h[0],top:h[1]}};break;case "poly":a.extend(n,{width:Math.abs(n.offset.right-n.offset.left),height:Math.abs(n.offset.bottom-n.offset.top)});n.offset=b.string()==="centercenter"?{left:n.offset.left+n.width/2,top:n.offset.top+n.height/2}:i(n,h.slice());n.width=n.height=
0;break}n.offset.left+=y.left;n.offset.top+=y.top;return n};a.fn.qtip.plugins.svg=function(c){var b=a(document),i=c[0];c={width:0,height:0,offset:{top:1E10,left:1E10}};var j,q,h;if(i.getBBox&&i.parentNode){j=i.getBBox();q=i.getScreenCTM();i=i.farthestViewportElement||i;if(!i.createSVGPoint)return c;i=i.createSVGPoint();i.x=j.x;i.y=j.y;h=i.matrixTransform(q);c.offset.left=h.x;c.offset.top=h.y;i.x+=j.width;i.y+=j.height;h=i.matrixTransform(q);c.width=h.x-c.offset.left;c.height=h.y-c.offset.top;c.offset.left+=
b.scrollLeft();c.offset.top+=b.scrollTop()}return c};a.fn.qtip.plugins.modal=function(c){var b=c.plugins.modal;return"object"===typeof b?b:c.plugins.modal=new ga(c)};a.fn.qtip.plugins.modal.initialize="render";a.fn.qtip.plugins.modal.sanitize=function(c){if(c.show)if(typeof c.show.modal!=="object")c.show.modal={on:!!c.show.modal};else if(typeof c.show.modal.on==="undefined")c.show.modal.on=A};a.extend(A,a.fn.qtip.defaults,{show:{modal:{on:p,effect:A,blur:A}}});a.fn.qtip.plugins.bgiframe=function(c){if(!(a.browser.msie&&
/^6\.[0-9]/.test(a.browser.version)&&a("select, object").length))return p;var b=c.plugins.bgiframe;if(b)return b;else{c.plugins.bgiframe=new ha(c);return c.plugins.bgiframe}};a.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
