/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Wed Jan 19 15:51:20 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(a,O,T){function V(e){var b;if(!e||"object"!==typeof e)return o;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};b=e.content.text||o;if(!a.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))e.content.text=o;if("title"in e.content){if("object"!==typeof e.content.title)e.content.title={text:e.content.title};b=e.content.title.text||o;if(!a.isFunction(b)&&(!b&&!b.attr||
b.length<1||"object"===typeof b&&!b.jquery))e.content.title.text=o}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,at:e.position};if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e)if("object"!==typeof e.style)e.style={classes:e.style};a.each(a.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function $(e,
b,m,l){function q(d){var f,i=d.split("."),r=b[i[0]];for(d=1;d<i.length;d+=1){f=r[i[d]];if(typeof f==="object"&&!f.jquery&&!f.precedance)r=r[i[d]];else break}return i[d]!==T?[r,i[d]]:[b,i[0]]}function j(d,f){var i={left:0,top:0},r=!a.fn.qtip.plugins.iOS,n=a(f),u;if(f)if(n.css("position")!=="static"){i=j(f);i.left*=-1;i.top*=-1}else if(n.css("overflow")!=="visible"){i.left-=f.scrollLeft;i.top-=f.scrollTop}if(d.offsetParent){do{n=d.offsetParent;u=n===f;i.left+=d.offsetLeft-(r&&n&&!u?n.scrollLeft:0);
i.top+=d.offsetTop-(r&&n&&!u?n.scrollTop:0)}while(d=n)}return i}function s(){return g.css("left")!==aa}function x(){var d=c.elements,f=b.style.widget;g.toggleClass(Z,f);d.content.toggleClass(Z+"-content",f);d.titlebar&&d.titlebar.toggleClass(Z+"-header",f);d.button&&d.button.toggleClass(M+"-icon",!f)}function k(){var d=c.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=E;c.reposition()}}function D(){var d=c.elements,f=b.content.title.button;d.button&&d.button.remove();d.button=
f.jquery?f:a("<a />",{"class":"ui-state-default "+(b.style.widget?"":M+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));d.button.appendTo(d.titlebar).attr("role","button").hover(function(i){a(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(i){g.hasClass(S)||c.hide(i);return o}).bind("mousedown keydown mouseup keyup mouseout",function(i){a(this).toggleClass("ui-state-active ui-state-focus",
i.type.substr(-4)==="down")});c.redraw()}function y(){var d=c.elements,f=B+"-title";d.titlebar&&k();d.titlebar=a("<div />",{"class":M+"-titlebar "+(b.style.widget?"ui-widget-header":"")}).append(d.title=a("<div />",{id:f,"class":M+"-title","aria-atomic":w})).insertBefore(d.content);if(b.content.title.button)D();else c.rendered===w&&c.redraw()}function z(d){var f=c.elements.title;if(!c.rendered||!d)return o;if(a.isFunction(d))d=d.call(e,c)||"";d.jquery&&d.length>0?f.empty().append(d.css({display:"block"})):
f.html(d);c.redraw();c.rendered===w&&c.reposition(c.cache.event)}function N(d){var f=c.elements.content;if(!c.rendered||!d)return o;if(a.isFunction(d))d=d.call(e,c)||"";d.jquery&&d.length>0?f.empty().append(d.css({display:"block"})):f.html(d);g.queue("fx",function(i){function r(u){n=n.not(u);if(n.length===0){c.redraw();c.rendered===w&&c.reposition(c.cache.event);i()}}var n=f.find("img:not([height]):not([width])");n.each(function(u,F){var K=["abort","error","load","unload",""].join(".qtip-image ");
a(this).bind(K,function(){clearTimeout(c.timers.img[u]);r(this)});(function A(){if(F.height)return r(F);c.timers.img[u]=setTimeout(A,20)})();return w});n.length===0&&r(n)});return c}function h(d,f,i,r){function n(t){if(g.hasClass(S))return o;G.show.trigger("qtip-"+m+"-inactive");clearTimeout(c.timers.show);clearTimeout(c.timers.hide);var H=function(){c.show(t)};if(b.show.delay>0)c.timers.show=setTimeout(H,b.show.delay);else H()}function u(t){if(g.hasClass(S))return o;var H=a(t.relatedTarget||t.target),
J=H.parents(W)[0]===g[0];H=H[0]===G.show[0];clearTimeout(c.timers.show);clearTimeout(c.timers.hide);if(b.hide.fixed&&(C.target==="mouse"&&J||/mouse(out|leave|move)/.test(t.type)&&(J||H))){t.stopPropagation();t.preventDefault();return o}g.stop(1,1);if(b.hide.delay>0)c.timers.hide=setTimeout(function(){c.hide(t)},b.hide.delay);else c.hide(t)}function F(t){if(g.hasClass(S))return o;clearTimeout(c.timers.inactive);c.timers.inactive=setTimeout(function(){c.hide(t)},b.hide.inactive)}function K(t){if(!c.cache.processing){c.cache.processing=
1;s()&&c.reposition(t);c.cache.processing=0}}var A=".qtip-"+m,C=b.position,G={show:b.show.target,hide:b.hide.target,container:C.container[0]===v?document:C.container},Q={show:String(b.show.event).split(" "),hide:String(b.hide.event).split(" ")},R=a(document),I=a.browser.msie&&parseInt(a.browser.version,10)===6;if(i){if(b.hide.fixed){G.hide=G.hide.add(g);g.bind("mouseover"+A,function(){g.hasClass(S)||clearTimeout(c.timers.hide)})}g.bind("mouseenter"+A+" mouseleave"+A,function(t){c[t.type==="mouseenter"?
"focus":"blur"](t)})}if(f){if("number"===typeof b.hide.inactive){G.show.bind("qtip-"+m+"-inactive",F);a.each(a.fn.qtip.inactiveEvents,function(t,H){G.hide.add(c.elements.tooltip).bind(H+A+"-inactive",F)})}a.each(Q.hide,function(t,H){var J=a.inArray(H,Q.show),L=a(G.hide);if(J>-1&&L.add(G.show).length===L.length||H==="unfocus"){G.show.bind(H+A,function(P){s()?u(P):n(P)});delete Q.show[J]}else G.hide.bind(H+A,u)})}d&&a.each(Q.show,function(t,H){G.show.bind(H+A,n)});if(r){if(C.adjust.resize||C.viewport)a(a.event.special.resize?
C.viewport:O).bind("resize"+A,K);if(C.viewport||I&&g.css("position")==="fixed")a(C.viewport).bind("scroll"+A,K);/unfocus/i.test(b.hide.event)&&R.bind("mousedown"+A,function(t){var H=a(t.target);H.parents(W).length===0&&H.add(e).length>1&&s()&&!g.hasClass(S)&&c.hide(t)});C.target==="mouse"&&R.bind("mousemove"+A,function(t){if(C.adjust.mouse&&!g.hasClass(S)&&s())c.reposition(t||a.fn.qtip.mouse)})}}function p(d,f,i,r){r=parseInt(r,10)!==0;var n=".qtip-"+m;f={show:d?b.show.target:E,hide:f?b.hide.target:
E,tooltip:i?c.elements.tooltip:E,content:i?c.elements.content:E,container:r?b.position.container[0]===v?document:b.position.container:E,window:r?O:E};if(c.rendered)a([]).pushStack(a.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(n);else d&&f.show.unbind(n+"-create")}var c=this,v=document.body,B=M+"-"+m,g;c.id=m;c.rendered=o;c.elements={target:e};c.timers={img:[]};c.options=b;c.plugins={};c.cache={event:{},target:E,disabled:o,lastFocus:v,attr:l};
a.extend(c,{render:function(d){if(c.rendered)return o;var f=c.elements,i=b.content.text,r=b.content.title.text,n=a.Event("tooltiprender");a.attr(e[0],"aria-describedby",B);g=f.tooltip=a("<div/>").attr({id:B,"class":M+" qtip ui-helper-reset "+b.style.classes,role:"alert","aria-live":"polite","aria-atomic":o,"aria-describedby":B+"-content","aria-hidden":w}).toggleClass(S,c.cache.disabled).data("qtip",c).appendTo(b.position.container).append(f.content=a("<div />",{"class":M+"-content",id:B+"-content",
"aria-atomic":w}));c.rendered=w;if(r){y();z(r)}N(i);a.each(a.fn.qtip.plugins,function(){this.initialize==="render"&&this(c)});h(1,1,1,1);a.each(b.events,function(u,F){if(F)g.bind(u==="toggle"?"tooltipshow tooltiphide":"tooltip"+u,F)});g.queue("fx",function(u){n.originalEvent=c.cache.event;g.trigger(n,[c]);if(b.show.ready||d){g.hide();c.show(c.cache.event)}u()});return c},get:function(d){switch(d.toLowerCase()){case "dimensions":d={height:g.outerHeight(),width:g.outerWidth()};break;case "offset":d=
j(g[0],b.position.container[0]);break;default:d=q(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,f){d=d.toLowerCase();var i=q(d),r=c.elements,n,u,F,K={builtin:{"^id$":function(){var A=f===w?a.fn.qtip.nextid:f,C=M+"-"+A;if(A!==o&&A.length>0&&!a("#"+C).length){g[0].id=C;r.content[0].id=C+"-content";r.title[0].id=C+"-title"}},"^content.text$":function(){N(f)},"^content.title.text$":function(){if(!f)return k();!c.elements.title&&f&&y();z(f)},
"^content.title.button$":function(){var A=c.elements.button,C=c.elements.title;if(c.rendered)if(f){C||y();D()}else A.remove()},"^position.(my|at)$":function(){var A=/my$/i.test(d)?"my":"at";if("string"===typeof f)b.position[A]=new a.fn.qtip.plugins.Corner(f)},"^position.container$":function(){c.rendered===w&&g.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(A,C,G,Q){var R=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(R[0])A[C]=
Q;p.apply(c,R[1]);if(R[0])A[C]=G;h.apply(c,R[1])},"^show.ready$":function(){c.rendered===o&&c.show()},"^style.classes$":function(){a.attr(g[0],"class",M+" qtip ui-helper-reset "+f)},"^style.widget|content.title":x,"^events.(render|show|move|hide|focus|blur)$":function(A,C,G){r.tooltip[(a.isFunction(f)?"":"un")+"bind"]("tooltip"+C,G)},"^position.(my|at|adjust|target|container)|style|content":function(){c.reposition()}}};a.each(c.plugins,function(A){if("object"===typeof this.checks)K[A]=this.checks});
n=i[0][i[1]];i[0][i[1]]=f.nodeType?a(f):f;V(b);for(u in K)for(F in K[u])RegExp(F,"i").test(d)&&K[u][F].call(c,i[0],i[1],f,n);return c},toggle:function(d,f){function i(){if(d)a.browser.msie&&g[0].style.removeAttribute("filter");else g.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(c.rendered===o)return o;var r=d?"show":"hide",n=b[r],u=s();if((typeof d).search("boolean|number"))d=!u;if(!u&&!d||g.is(":animated"))return c;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(c.cache.event.type)&&
f.target===b.show.target[0]&&g.has(f.relatedTarget).length)return c;c.cache.event=a.extend({},f)}u=a.Event("tooltip"+r);u.originalEvent=f?c.cache.event:E;g.trigger(u,[c,90]);if(u.isDefaultPrevented())return c;a.attr(g[0],"aria-hidden",!!!d);if(d){g.hide().css({visibility:""});c.focus(f);c.reposition(f,0);n.solo&&a(W).not(g).qtip("hide")}else{clearTimeout(c.timers.show);c.blur(f)}g.stop(1,1);if(a.isFunction(n.effect)){n.effect.call(g,c);g.queue("fx",function(F){i.call(this,F);F()})}else if(n.effect===
o){g[r]();i.call(g)}else g.fadeTo(90,d?1:0,i);d&&n.target.trigger("qtip-"+m+"-inactive");return a.fn.qtip.lastShown=c},show:function(d){c.toggle(w,d)},hide:function(d){c.toggle(o,d)},focus:function(d){if(c.rendered===o)return o;var f=a(W),i=parseInt(g[0].style.zIndex,10),r=a.fn.qtip.zindex+f.length;d=a.extend({},d);if(!g.hasClass(X)){if(i!==r){f.each(function(){if(this.style.zIndex>i)this.style.zIndex-=1});f.filter("."+X).qtip("blur",d)}c.cache.lastFocus=document.activeElement;f=a.Event("tooltipfocus");
f.originalEvent=d;g.trigger(f,[c,r]);if(!f.isDefaultPrevented())g.addClass(X)[0].style.zIndex=r}return c},blur:function(d){d=a.extend({},d);var f;g.removeClass(X);f=a.Event("tooltipblur");f.originalEvent=d;g.trigger(f,[c])},reposition:function(d,f){if(c.rendered===o)return o;var i=b.position.target,r=b.position,n=r.my,u=r.at,F=r.adjust,K=g.outerWidth(),A=g.outerHeight(),C=0,G=0,Q=a.Event("tooltipmove"),R=g.css("position")==="fixed",I=r.viewport.jquery?r.viewport:a(O),t={left:0,top:0},H={left:function(J){var L=
I.scrollLeft,P=u.x==="left"?C:u.x==="right"?-C:-C/2,U=L-J;L=J+K-I.width-L;P=(n.x==="left"?K:n.x==="right"?-K:-K/2)-(n.precedance==="x"||n.x===n.y?P:0);if(U>0&&(n.x!=="left"||L>0))t.left-=P;else if(L>0&&(n.x!=="right"||U>0))t.left-=(n.x==="center"?-1:1)*P+2*F.x;if(t.left<0&&-t.left>L)t.left=J;return t.left-J},top:function(J){var L=I.scrollTop,P=u.y==="top"?G:u.y==="bottom"?-G:-G/2,U=L-J;L=J+A-I.height-L;P=(n.y==="top"?A:n.y==="bottom"?-A:-A/2)-(n.precedance==="y"||n.x===n.y?P:0);if(U>0&&(n.y!=="top"||
L>0))t.top-=P;else if(L>0&&(n.y!=="bottom"||U>0))t.top-=(n.y==="center"?-1:1)*P+2*F.y;if(t.top<0&&-t.top>L)t.top=J;return t.top-J}};f=f===T||!!f||o;I=!I?o:{elem:I,height:I[(I[0]===O?"h":"outerH")+"eight"](),width:I[(I[0]===O?"w":"outerW")+"idth"](),scrollLeft:I.scrollLeft(),scrollTop:I.scrollTop()};if(i==="mouse"){u={x:"left",y:"top"};d=d&&(d.type==="resize"||d.type==="scroll")?c.cache.event:F.mouse||!d||!d.pageX?a.extend({},a.fn.qtip.mouse):d;t={top:d.pageY,left:d.pageX}}else{if(i==="event")i=d&&
d.target&&d.type!=="scroll"&&d.type!=="resize"?c.cache.target=a(d.target):c.cache.target;i=a(i).eq(0);if(i.length===0)return c;else if(i[0]===document||i[0]===O){C=i.width();G=i.height();if(i[0]===O)t={top:R?0:I.scrollTop,left:R?0:I.scrollLeft}}else if(i.is("area")&&a.fn.qtip.plugins.imagemap){t=a.fn.qtip.plugins.imagemap(i,u);C=t.width;G=t.height;t=t.offset}else{C=i.outerWidth();G=i.outerHeight();t=j(i[0],r.container[0])}t.left+=u.x==="right"?C:u.x==="center"?C/2:0;t.top+=u.y==="bottom"?G:u.y===
"center"?G/2:0}t.left+=F.x+(n.x==="right"?-K:n.x==="center"?-K/2:0);t.top+=F.y+(n.y==="bottom"?-A:n.y==="center"?-A/2:0);t.adjusted=r.viewport.jquery&&i[0]!==O&&i[0]!==v?{left:H.left(t.left),top:H.top(t.top)}:{left:0,top:0};g.attr("class",function(){return a.attr(this,"class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(M+"-pos-"+n.abbreviation());Q.originalEvent=a.extend({},d);g.trigger(Q,[c,t,I.elem]);if(Q.isDefaultPrevented())return c;delete t.adjusted;if(!f||!isNaN(t.left,t.top))g.css(t);else if(s()&&
a.isFunction(r.effect)){r.effect.call(g,c,t);g.queue(function(J){a(this).css({opacity:"",height:""});a.browser.msie&&this.style&&this.style.removeAttribute("filter");J()})}return c},redraw:function(){if(!c.rendered||!(a.browser.msie&&a.browser.version<8))return o;var d=M+"-fluid",f;g.css({width:"auto",height:"auto"}).addClass(d);f={height:g.outerHeight(),width:g.outerWidth()};a.each(["width","height"],function(i,r){var n=parseInt(g.css("max-"+r),10)||0,u=parseInt(g.css("min-"+r),10)||0;f[r]=n+u?Math.min(Math.max(f[r],
u),n):f[r]});g.css(f).removeClass(d)},disable:function(d){var f=S;if("boolean"!==typeof d)d=!(g.hasClass(f)||c.cache.disabled);if(c.rendered){g.toggleClass(f,d);a.attr(g[0],"aria-disabled",d)}else c.cache.disabled=!!d;return c},destroy:function(){var d=e[0],f=a.data(d,f);if(c.rendered){g.remove();a.each(c.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(c.timers.show);clearTimeout(c.timers.hide);p(1,1,1,1);a.removeData(d,"qtip");f&&a.attr(d,"title",f);e.removeAttr("aria-describedby");
return e}})}function ba(e,b){var m,l,q,j=a(this),s=a(document.body),x=this===document?s:j;l=j.metadata?j.metadata(b.metadata):E;var k=b.metadata.type==="html5"&&l?l[b.metadata.name]:E,D=j.data(b.metadata.name||"qtipopts");k=a.extend(w,{},a.fn.qtip.defaults,b,V(D),V(k||l));l&&a.removeData(this,"metadata");l=k.position;if("boolean"===typeof k.content.text){q=j.attr(k.content.attr);if(k.content.attr!==o&&q)k.content.text=q;else return o}if(l.container===o)l.container=s;if(l.target===o)l.target=x;if(k.show.target===
o)k.show.target=x;if(k.hide.target===o)k.hide.target=x;if(k.position.viewport===w)k.position.viewport=l.container;l.at=new a.fn.qtip.plugins.Corner(l.at);l.my=new a.fn.qtip.plugins.Corner(l.my);if(a.data(this,"qtip"))if(k.overwrite)j.qtip("destroy");else if(k.overwrite===o)return o;if(a.attr(this,"title")){a.data(this,Y,a.attr(this,"title"));j.removeAttr("title")}m=new $(j,k,e,!!q);a.data(this,"qtip",m);j.bind("remove.qtip",function(){m.destroy()});return m}function ca(e){var b=this,m=e.elements.tooltip,
l=e.options.content.ajax;b.checks={"^content.ajax":function(q,j){if(j==="once")b.once();else l&&l.url&&b.load()}};a.extend(b,{init:function(){if(l&&l.url){b.load();m.one("tooltipshow",b.once)}},once:function(){l.once?b.destroy():m.bind("tooltipshow.qtip-ajax",b.load)},load:function(){a.ajax(a.extend({success:function(q){e.set("content.text",q)},error:function(q,j,s){e.set("content.text",j+": "+s)},context:e},l));return b},destroy:function(){m.unbind(".qtip-ajax")}});b.init()}function da(e,b,m){var l=
Math.ceil(b/2),q=Math.ceil(m/2);b={bottomright:[[0,0],[b,m],[b,0]],bottomleft:[[0,0],[b,0],[0,m]],topright:[[0,m],[b,0],[b,m]],topleft:[[0,0],[0,m],[b,m]],topcenter:[[0,m],[l,0],[b,m]],bottomcenter:[[0,0],[b,0],[l,m]],rightcenter:[[0,0],[b,q],[0,m]],leftcenter:[[b,0],[b,m],[0,q]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[e.string()]}function ea(e){function b(h,p,c){if(s.tip){h=a.extend({},q.corner);p=c.adjusted;var v;if(q.corner.fixed!==
w){if(p.left)h.x=h.x==="center"?p.left>0?"left":"right":h.x==="left"?"right":"left";if(p.top)h.y=h.y==="center"?p.top>0?"top":"bottom":h.y==="top"?"bottom":"top";if(h.string()!==k.corner&&(k.top!==p.top||k.left!==p.left))v=q.update(h)}v||(v=q.position(h,0));if(v.right!==T)v.left=v.right;if(v.bottom!==T)v.top=v.bottom;v.option=Math.max(0,j.offset);c.left-=v.left.charAt?v.option:(v.right?-1:1)*v.left;c.top-=v.top.charAt?v.option:(v.bottom?-1:1)*v.top;k.left=p.left;k.top=p.top;k.corner=h.string()}}function m(h,
p,c){p=!p?h[h.precedance]:p;p="border-"+p+"-width";h=parseInt((s.titlebar&&h.y==="top"?s.titlebar:s.content).css(p),10);return(c?h||parseInt(x.css(p),10):h)||0}function l(h){var p=h.precedance==="y",c=D[p?"width":"height"],v=D[p?"height":"width"],B=h.string().indexOf("center")>-1,g=c*(B?0.5:1),d=Math.pow;h=Math.round;var f=Math.sqrt(d(g,2)+d(v,2));g=[z/g*f,z/v*f];g[2]=Math.sqrt(d(g[0],2)-d(z,2));g[3]=Math.sqrt(d(g[1],2)-d(z,2));B=(f+g[2]+g[3]+(B?0:g[0]))/f;c=[h(B*v),h(B*c)];return{height:c[p?0:1],
width:c[p?1:0]}}var q=this,j=e.options.style.tip,s=e.elements,x=s.tooltip,k={top:0,left:0,corner:""},D={width:j.width,height:j.height},y={},z=j.border||0,N=a("<canvas />")[0].getContext;q.corner=E;q.mimic=E;q.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){q.init()||q.destroy();e.reposition()},"^style.tip.(height|width)$":function(){D={width:j.width,height:j.height};q.create();q.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){s.tip&&q.update()}};
a.extend(q,{init:function(){var h=q.detectCorner()&&(N||a.browser.msie);if(h){q.create();q.update();x.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",b)}return h},detectCorner:function(){var h=j.corner,p=e.options.position,c=p.at;p=p.my.string?p.my.string():p.my;if(h===o||p===o&&c===o)return o;else if(h===w)q.corner=new a.fn.qtip.plugins.Corner(p);else if(!h.string){q.corner=new a.fn.qtip.plugins.Corner(h);q.corner.fixed=w}return q.corner.string()!=="centercenter"},detectColours:function(){var h=
s.tip.css({backgroundColor:"",border:""}),p=q.corner,c=p[p.precedance],v="border-"+c+"-color";c="border"+c.charAt(0)+c.substr(1)+"Color";var B=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;p=s.titlebar&&(p.y==="top"||p.y==="center"&&h.position().top+D.height/2+j.offset<s.titlebar.outerHeight(1))?s.titlebar:s.content;y.fill=h.css("background-color")||"transparent";y.border=h[0].style[c];if(!y.fill||B.test(y.fill)){y.fill=p.css("background-color");if(B.test(y.fill))y.fill=x.css("background-color")}if(!y.border||
B.test(y.border)){y.border=x.css(v);if(B.test(y.border)||y.border===a(document.body).css("color"))y.border=p.css(v)!==a(e.elements.content).css("color")?p.css(v):"transparent"}a("*",h).add(h).css("background-color","transparent").css("border","0px dashed transparent")},create:function(){var h=D.width,p=D.height;s.tip&&s.tip.remove();s.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:h,height:p}).prependTo(x);if(N)a("<canvas />").appendTo(s.tip)[0].getContext("2d").save();else{h='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';
s.tip.html(z?h+=h:h)}},update:function(h){var p=s.tip,c=p.children(),v=D.width,B=D.height,g=j.mimic,d=Math.round,f,i,r;if(!h)h=q.corner;if(g===o)g=h;else{g=new a.fn.qtip.plugins.Corner(g);g.precedance=h.precedance;if(g.x==="inherit")g.x=h.x;else if(g.y==="inherit")g.y=h.y;else if(g.x===g.y)g[h.precedance]=h[h.precedance]}f=g.precedance;q.detectColours();z=y.border==="transparent"||y.border==="#123456"?0:j.border===w?m(h,E,w):j.border;i=da(g,v,B);r=l(h);p.css(r);p=h.precedance==="y"?[d(g.x==="left"?
z:g.x==="right"?r.width-v-z:(r.width-v)/2),d(g.y==="top"?r.height-B:0)]:[d(g.x==="left"?r.width-v:0),d(g.y==="top"?z:g.y==="bottom"?r.height-B-z:(r.height-B)/2)];if(N){c.attr(r);c=c[0].getContext("2d");c.restore();c.save();c.clearRect(0,0,3E3,3E3);c.translate(p[0],p[1]);c.beginPath();c.moveTo(i[0][0],i[0][1]);c.lineTo(i[1][0],i[1][1]);c.lineTo(i[2][0],i[2][1]);c.closePath();c.fillStyle=y.fill;c.strokeStyle=y.border;c.lineWidth=z*2;c.lineJoin="miter";c.miterLimit=100;c.stroke();c.fill()}else{i="m"+
i[0][0]+","+i[0][1]+" l"+i[1][0]+","+i[1][1]+" "+i[2][0]+","+i[2][1]+" xe";p[2]=z&&/^(r|b)/i.test(h.string())?1:0;c.css({antialias:""+(g.string().indexOf("center")>-1),left:p[0]-p[2]*Number(f==="x"),top:p[1]-p[2]*Number(f==="y"),width:v+z,height:B+z}).each(function(n){var u=a(this);u.attr({coordsize:v+z+" "+(B+z),path:i,fillcolor:y.fill,filled:!!n,stroked:!!!n}).css({display:z||n?"block":"none"});!n&&z>0&&u.html()===""&&u.html('<vml:stroke weight="'+z*2+'px" color="'+y.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}return q.position(h,
1)},position:function(h,p){var c=s.tip,v={},B=Math.max(0,j.offset),g,d,f;if(j.corner===o||!c)return o;h=h||q.corner;g=h.precedance;d=l(h)[g==="x"?"width":"height"];f=a.browser.msie&&z&&/^(b|r)/i.test(h.string())?1:0;a.each(g==="y"?[h.x,h.y]:[h.y,h.x],function(i,r){var n,u;if(r==="center"){n=g==="y"?"left":"top";v[n]="50%";v["margin-"+n]=-Math.round(d/2)+B}else{n=m(h,r,w);u=a.browser.mozilla;var F=h.y+(u?"":"-")+h.x;u=(u?"-moz-":a.browser.webkit?"-webkit-":"")+(u?"border-radius-"+F:"border-"+F+"-radius");
u=parseInt((s.titlebar&&h.y==="top"?s.titlebar:s.content).css(u),10)||parseInt(x.css(u),10)||0;v[r]=i||!z?m(h,r):B+(u>n?u:0)}});v[h[g]]-=d+f;p&&c.css({top:"",bottom:"",left:"",right:"",margin:""}).css(v);return v},destroy:function(){s.tip&&s.tip.remove();x.unbind(".qtip-tip")}});q.init()}function fa(e){var b=this,m=e.options.show.modal,l=e.elements,q=l.tooltip;b.checks={"^show.modal.(on|blur)$":function(){b.init();l.overlay.toggle(q.is(":visible"))}};a.extend(b,{init:function(){if(m.on){q.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(j,s,x){j=j.type.replace("tooltip","");a.isFunction(m[j])?m[j].call(l.overlay,x,s):b[j](x)});b.create();m.blur===w&&l.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var j=a("#qtip-overlay");if(j.length)l.overlay=j;else{l.overlay=a("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(q.css("z-index"),10)-1}}).appendTo(document.body);a(O).bind("resize.qtipmodal",function(){l.overlay.css({height:Math.max(a(O).height(),
a(document).height()),width:Math.max(a(O).width(),a(document).width())})}).trigger("resize")}},toggle:function(j){var s=l.overlay,x=e.options.show.modal.effect,k=j?"show":"hide";s.stop(w,o);if(a.isFunction(x))x.call(s,j);else x===o?s[k]():s.fadeTo(90,j?0.7:0,function(){j||a(this).hide()})},show:function(){b.toggle(w)},hide:function(){b.toggle(o)},destroy:function(){var j=w;a("*").each(function(){var s=a(this).data("qtip");if(s&&s.id!==e.id&&s.options.show.modal)return j=o});if(j){l.overlay.remove();
a(O).unbind(".qtipmodal")}else l.overlay.unbind(".qtipmodal"+e.id);q.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});b.init()}function ga(e){var b=this,m=e.elements,l=m.tooltip,q=".bgiframe-"+e.id,j="tooltipmove"+q+" tooltipshow"+q;a.extend(b,{init:function(){m.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');m.bgiframe.appendTo(l);l.bind(j,b.adjust)},
adjust:function(){var s=e.get("dimensions"),x=e.plugins.tip,k=e.elements.tip,D;D=parseInt(l.css("border-left-width"),10)||0;D={left:-D,top:-D};if(x&&k){x=x.corner.precedance==="x"?["width","left"]:["height","top"];D[x[1]]-=k[x[0]]()}m.bgiframe.css(D).css(s)},destroy:function(){b.iframe.remove();l.unbind(j)}});b.init()}var w=true,o=false,E=null,M="ui-tooltip",Z="ui-widget",S="ui-state-disabled",W="div.qtip."+M,X=M+"-focus",aa="-31000px",Y="oldtitle";a.fn.qtip=function(e,b,m){var l=String(e).toLowerCase(),
q=E,j=l==="disable"?[w]:a.makeArray(arguments).slice(1,10),s=j[j.length-1],x=this[0]?a.data(this[0],"qtip"):E;if(!arguments.length&&x||l==="api")return x;else if("string"===typeof e){this.each(function(){var k=a.data(this,"qtip");if(!k)return w;if(/option|set/.test(l)&&b)if(m!==T)k.set(b,m);else q=k.get(b);else{if(!k.rendered&&(l==="show"||l==="toggle")){if(s&&s.timeStamp)k.cache.event=s;k.render(1)}else if(l==="enable"){l="disable";j=[o]}k[l]&&k[l].apply(k[l],j)}});return q!==E?q:this}else if("object"===
typeof e||!arguments.length){x=V(a.extend(w,{},e));return a.fn.qtip.bind.call(this,x,s)}};a.fn.qtip.bind=function(e,b){return this.each(function(){function m(D){function y(){k.render(typeof D==="object"||l.show.ready);q.show.unbind(j.show);q.hide.unbind(j.hide)}if(k.cache.disabled)return o;k.cache.event=a.extend({},D);if(l.show.delay>0){clearTimeout(k.timers.show);k.timers.show=setTimeout(y,l.show.delay);j.show!==j.hide&&q.hide.bind(j.hide,function(){clearTimeout(k.timers.show)})}else y()}var l,q,
j,s=e.id=!e.id||e.id===o||e.id.length<1||a("#"+M+"-"+e.id).length?a.fn.qtip.nextid++:e.id,x=".qtip-"+s+"-create",k=ba.call(this,s,e);if(k===o)return w;l=k.options;a.each(a.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(k)});q={show:l.show.target,hide:l.hide.target};j={show:String(l.show.event).replace(" ",x+" ")+x,hide:String(l.hide.event).replace(" ",x+" ")+x};q.show.bind(j.show,m);if(l.show.ready||l.prerender)m(b)})};a.each({attr:function(e,b){var m=this[0],l=a.data(m,"qtip");if(e===
"title")if(arguments.length===1)return a.data(m,Y);else{l&&l.rendered&&l.options.content.attr==="title"&&l.cache.attr&&l.set("content.text",b);a.fn.attr_replacedByqTip.apply(this,arguments);a.data(m,Y,a.attr(m,"title"));return this.removeAttr("title")}},clone:function(){var e=a([]),b;a("*",this).add(this).each(function(){var m=a.data(this,Y);if(m){a.attr(this,"title",m);e=e.add(this)}});b=a.fn.clone_replacedByqTip.apply(this,arguments);e.removeAttr("title");return b},remove:a.ui?E:function(e,b){a(this).each(function(){if(!b)if(!e||
a.filter(e,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}},function(e,b){if(!b)return w;var m=a.fn[e+"_replacedByqTip"]=a.fn[e];a.fn[e]=function(){return b.apply(this,arguments)||m.apply(this,arguments)}});a(O).load(function(){var e=document,b=e.body;a(e).bind("mousemove.qtip",function(m){a.fn.qtip.mouse={pageX:m.pageX,pageY:m.pageY}});e.activeElement===T&&e.addEventListener("focus",function(m){if(m&&m.target)e.activeElement=m.target===e?b:m.target},true)});
a.fn.qtip.version="2.0.0pre";a.fn.qtip.nextid=0;a.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");a.fn.qtip.zindex=15E3;a.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=
function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var b=this.x.substr(0,1),m=this.y.substr(0,1);return b===m?b:b==="c"||b!=="c"&&m!=="c"?m+b:b+m}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};a.fn.qtip.defaults={prerender:o,id:o,overwrite:w,content:{text:w,attr:"title",title:{text:o,button:o}},position:{my:"top left",at:"bottom right",target:o,container:o,viewport:o,adjust:{x:0,
y:0,mouse:w,resize:w},effect:w},show:{target:o,event:"mouseenter",effect:w,delay:90,solo:o,ready:o},hide:{target:o,event:"mouseleave",effect:w,delay:0,fixed:o,inactive:o},style:{classes:"",widget:o},events:{render:E,move:E,show:E,hide:E,toggle:E,focus:E,blur:E}};a.fn.qtip.plugins.ajax=function(e){var b=e.plugins.ajax;return"object"===typeof b?b:e.plugins.ajax=new ca(e)};a.fn.qtip.plugins.ajax.initialize="render";a.fn.qtip.plugins.ajax.sanitize=function(e){var b=e.content;if(b&&"ajax"in b){b=b.ajax;
if(typeof b!=="object")b=e.content.ajax={url:b};if("boolean"!==typeof b.once&&b.once)b.once=!!b.once}};a.extend(w,a.fn.qtip.defaults,{content:{ajax:{once:w}}});a.fn.qtip.plugins.tip=function(e){var b=e.plugins.tip;return"object"===typeof b?b:e.plugins.tip=new ea(e)};a.fn.qtip.plugins.tip.initialize="render";a.fn.qtip.plugins.tip.sanitize=function(e){var b=e.style;if(b&&"tip"in b){b=e.style.tip;if(typeof b!=="object")e.style.tip={corner:b};if(!/string|boolean/i.test(typeof b.corner))b.corner=w;typeof b.width!==
"number"&&delete b.width;typeof b.height!=="number"&&delete b.height;typeof b.border!=="number"&&b.border!==w&&delete b.border;typeof b.offset!=="number"&&delete b.offset}};a.extend(w,a.fn.qtip.defaults,{style:{tip:{corner:w,mimic:o,width:8,height:8,border:w,offset:0}}});a.fn.qtip.plugins.imagemap=function(e,b){function m(z,N){for(var h=0,p=1,c=1,v=0,B=0,g=z.width,d=z.height;g>0&&d>0&&p>0&&c>0;){g=Math.floor(g/2);d=Math.floor(d/2);if(b.x==="left")p=g;else if(b.x==="right")p=z.width-g;else p+=Math.floor(g/
2);if(b.y==="top")c=d;else if(b.y==="bottom")c=z.height-d;else c+=Math.floor(d/2);for(h=N.length;h--;){if(N.length<2)break;v=N[h][0]-z.offset.left;B=N[h][1]-z.offset.top;if(b.x==="left"&&v>=p||b.x==="right"&&v<=p||b.x==="center"&&(v<p||v>z.width-p)||b.y==="top"&&B>=c||b.y==="bottom"&&B<=c||b.y==="center"&&(B<c||B>z.height-c))N.splice(h,1)}}return{left:N[0][0],top:N[0][1]}}var l=e.attr("shape").toLowerCase(),q=e.attr("coords").split(","),j=[],s=a('img[usemap="#'+e.parent("map").attr("name")+'"]'),
x=s.offset(),k={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},D=0,y=0;x.left+=Math.ceil((s.outerWidth()-s.width())/2);x.top+=Math.ceil((s.outerHeight()-s.height())/2);if(l==="poly")for(D=q.length;D--;){y=[parseInt(q[--D],10),parseInt(q[D+1],10)];if(y[0]>k.offset.right)k.offset.right=y[0];if(y[0]<k.offset.left)k.offset.left=y[0];if(y[1]>k.offset.bottom)k.offset.bottom=y[1];if(y[1]<k.offset.top)k.offset.top=y[1];j.push(y)}else j=a.map(q,function(z){return parseInt(z,10)});switch(l){case "rect":k=
{width:Math.abs(j[2]-j[0]),height:Math.abs(j[3]-j[1]),offset:{left:j[0],top:j[1]}};break;case "circle":k={width:j[2]+2,height:j[2]+2,offset:{left:j[0],top:j[1]}};break;case "poly":a.extend(k,{width:Math.abs(k.offset.right-k.offset.left),height:Math.abs(k.offset.bottom-k.offset.top)});k.offset=b.string()==="centercenter"?{left:k.offset.left+k.width/2,top:k.offset.top+k.height/2}:m(k,j.slice());k.width=k.height=0;break}k.offset.left+=x.left;k.offset.top+=x.top;return k};a.fn.qtip.plugins.modal=function(e){var b=
e.plugins.modal;return"object"===typeof b?b:e.plugins.modal=new fa(e)};a.fn.qtip.plugins.modal.initialize="render";a.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=w};a.extend(w,a.fn.qtip.defaults,{show:{modal:{on:o,effect:w,blur:w}}});a.fn.qtip.plugins.bgiframe=function(e){if(!(a.browser.msie&&/^6\.[0-9]/.test(a.browser.version)&&a("select, object").length))return o;
var b=e.plugins.bgiframe;if(b)return b;else{e.plugins.bgiframe=new ga(e);return e.plugins.bgiframe}};a.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
