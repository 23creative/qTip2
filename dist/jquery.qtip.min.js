/*
* qTip - The jQuery tooltip plugin
* http://craigsworks.com/projects/qtip/
*
* Version: 2.0.0pre
* Copyright 2009 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPL Version 2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Mon Nov 29 23:33:41 2010 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null;
(function(b,G,M){function N(d,c){var h,g=b();if(!d)return FALSE;try{if("metadata"in d&&"object"!==typeof d.metadata)d.metadata={type:d.metadata};if("content"in d){if("object"!==typeof d.content||d.content.jquery)d.content={text:d.content};h=d.content.text||FALSE;if(!b.isFunction(h)&&(!h&&!h.attr||h.length<1||"object"===typeof h&&!h.jquery))h=d.content.text=FALSE;if("title"in d.content&&"object"!==typeof d.content.title)d.content.title={text:d.content.title}}if("position"in d){if("object"!==typeof d.position)d.position=
{my:d.position,at:d.position};if("object"!==typeof d.position.adjust)d.position.adjust={};if("undefined"!==typeof d.position.adjust.screen)d.position.adjust.screen=!!d.position.adjust.screen}if("show"in d){if("object"!==typeof d.show)d.show={event:d.show};if("object"!==typeof d.show)d.show=d.show.jquery?{target:d.show}:{event:d.show}}if("hide"in d)if("object"!==typeof d.hide)d.hide=d.hide.jquery?{target:d.hide}:{event:d.hide};if("style"in d&&"object"!==typeof d.style)d.style={classes:d.style}}catch(o){}if(b.isFunction(h)){d.content.text=
[];c.each(function(){var l=h.call(this);if(l){d.content.text.push(l);g=g.add(b(this))}})}else g=c;b.each(b.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(d)});return c?g:d}function P(d,c,h){function g(a){var e,j=a.split("."),k=c[j[0]];for(a=1;a<j.length;a+=1){e=k[j[a]];if(typeof e==="object"&&!e.jquery&&!e.precedance)k=k[j[a]];else break}return j[a]!==M?[k,j[a]]:[c,j[0]]}function o(a){a=a[0];var e={left:0,top:0},j=!c.position.adjust.container;if(a.offsetParent){do{e.left+=a.offsetLeft;e.top+=
a.offsetTop}while(a=j?a.offsetParent:0)}return e}function l(a){var e=f.elements.tooltip,j=w+"-accessible",k=!e.is(":visible")?TRUE:FALSE,i=FALSE;if(!f.rendered)return FALSE;k&&e.addClass(j);switch(a){case "dimensions":i={height:e.outerHeight(),width:e.outerWidth()};break;case "position":i=o(e);break}k&&e.removeClass(j);return i}function t(){var a=f.elements;if(a.title){a.titlebar.remove();a.titlebar=a.title=a.button=NULL;a.tooltip.removeAttr("aria-labelledby")}}function n(){var a=f.elements,e=c.content.title.button;
a.button&&a.button.remove();a.button=e.jquery?e:"string"===typeof e?b("<a />",{html:e}):b("<a />",{"class":"ui-state-default",text:"Close tooltip",title:"Close tooltip",css:{"text-indent":"-10000em"}}).prepend(b("<span />",{"class":"ui-icon ui-icon-close"}));a.button.prependTo(a.titlebar).attr("role","button").addClass(w+"-"+(e===TRUE?"close":"button")).hover(function(j){b(this).toggleClass("ui-state-hover",j.type==="mouseenter")}).click(function(){a.tooltip.hasClass("ui-state-disabled")||f.hide();
return FALSE}).bind("mousedown keydown mouseup keyup mouseout",function(j){b(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(j.type))})}function A(){var a=f.elements;a.titlebar&&t();a.titlebar=b("<div />",{"class":w+"-titlebar "+(c.style.widget?"ui-widget-header":"")}).append(a.title=b("<div />",{id:w+"-"+h+"-title","class":w+"-title",html:c.content.title.text})).prependTo(a.wrapper);c.content.title.button&&n()}function s(a){var e=f.elements;if(!f.rendered||!a)return FALSE;if(b.isFunction(a))a=
a.call(d);a.jquery&&a.length>0?e.content.empty().append(a.css({display:"block"})):e.content.html(a);e.tooltip.queue("fx",function(j){function k(m){i=i.not(m);if(i.length===0){m=void 0;var r=f.elements.tooltip,v,u;if(f.rendered&&b.browser.msie&&parseInt(b.browser.version.charAt(0),10)<9){r.css({width:"auto",maxWidth:"none"});m=l("dimensions").width;r.css({maxWidth:""});v=parseInt(r.css("max-width"),10)||0;u=parseInt(r.css("min-width"),10)||0;m=v+u?Math.min(Math.max(m,u),v):m;r.width(m)}f.rendered===
TRUE&&f.reposition(f.cache.event);j()}}var i=b("img:not([height]):not([width])",f.elements.content);i.each(function(m,r){var v=["abort","error","load","unload",""].join(".qtip-image ");b(this).bind(v,function(){clearTimeout(f.timers.img[m]);k(this)});(function u(){if(r.height)return k(r);f.timers.img[m]=setTimeout(u,20)})();return TRUE});i.length===0&&k(i)});return f}function y(a,e,j,k){function i(D){if(p.tooltip.hasClass("ui-state-disabled"))return FALSE;p.show.trigger("qtip-"+h+"-inactive");clearTimeout(f.timers.show);
clearTimeout(f.timers.hide);var B=function(){f.show(D)};if(c.show.delay>0)f.timers.show=setTimeout(B,c.show.delay);else B()}function m(D){if(p.tooltip.hasClass("ui-state-disabled"))return FALSE;var B=b(D.relatedTarget||D.target).parents(q)[0]==p.tooltip[0];clearTimeout(f.timers.show);clearTimeout(f.timers.hide);if(c.hide.fixed&&(c.position.target==="mouse"&&B||/mouse(out|leave|move)/.test(D.type)&&B)){D.stopPropagation();D.preventDefault();return FALSE}p.tooltip.stop(TRUE);if(c.hide.delay>0)f.timers.hide=
setTimeout(function(){f.hide(D)},c.hide.delay);else f.hide(D)}function r(D){if(p.tooltip.hasClass("ui-state-disabled"))return FALSE;clearTimeout(f.timers.inactive);f.timers.inactive=setTimeout(function(){f.hide(D)},c.hide.inactive)}function v(D){f.elements.tooltip.is(":visible")&&f.reposition(D)}var u=".qtip-"+h,p={show:c.show.target,hide:c.hide.target,tooltip:f.elements.tooltip},x={show:String(c.show.event).split(" "),hide:String(c.hide.event).split(" ")},E=b.browser.msie&&/^6\.[0-9]/.test(b.browser.version);
d.bind("remove.qtip",function(){f.destroy()});if(j&&c.hide.fixed){p.hide=p.hide.add(p.tooltip);p.tooltip.bind("mouseover"+u,function(){p.tooltip.hasClass("ui-state-disabled")||clearTimeout(f.timers.hide)})}if(e){if("number"===typeof c.hide.inactive){p.show.bind("qtip-"+h+"-inactive",r);b.each(b.fn.qtip.inactiveEvents,function(D,B){p.hide.add(f.elements.tooltip).bind(B+u+"-inactive",r)})}b.each(x.hide,function(D,B){var z=b.inArray(B,x.show);if(z>-1&&b(p.hide).add(p.show).length===b(p.hide).length||
B==="unfocus"){p.show.bind(B+u,function(F){p.tooltip.is(":visible")?m(F):i(F)});delete x.show[z]}else p.hide.bind(B+u,m)})}if(a){b.each(x.show,function(D,B){p.show.bind(B+u,i)});p.tooltip.bind("mouseover"+u,function(){f.focus()})}if(k){if(c.position.adjust.resize||c.position.adjust.screen)b(G).bind("resize"+u,v);if(c.position.adjust.screen||E&&p.tooltip.css("position")==="fixed")b(document).bind("scroll"+u,v);/unfocus/i.test(c.hide.event)&&b(document).bind("mousedown"+u,function(D){var B=f.elements.tooltip;
b(D.target).parents(q).length===0&&b(D.target).add(d).length>1&&B.is(":visible")&&!B.hasClass("ui-state-disabled")&&f.hide()});c.position.target==="mouse"&&b(document).bind("mousemove"+u,function(D){if(c.position.adjust.mouse&&!p.tooltip.hasClass("ui-state-disabled")&&p.tooltip.is(":visible"))f.reposition(D||b.fn.qtip.mouse)})}}function C(a,e,j,k){k=parseInt(k,10)!==0;var i=".qtip-"+h,m={show:a?c.show.target:b("<div/>"),hide:e?c.hide.target:b("<div/>"),tooltip:j?f.elements.tooltip:b("<div/>")};e=
{show:String(c.show.event).split(" "),hide:String(c.hide.event).split(" ")};if(f.rendered){b.each(e.show,function(r,v){m.show.unbind(v+i)});m.show.unbind("mousemove"+i).unbind("mouseout"+i).unbind("qtip-"+h+"-inactive");b.each(e.hide,function(r,v){m.hide.add(m.tooltip).unbind(v+i)});b.each(b.fn.qtip.inactiveEvents,function(r,v){m.hide.add(j?f.elements.content:NULL).unbind(v+i+"-inactive")});m.hide.unbind("mouseout"+i);m.tooltip.unbind("mouseover"+i);if(k){b(G).unbind("resize"+i);b(document).unbind("mousedown"+
i+" mousemove"+i)}}else a&&m.show.unbind(e.show+i+"-create")}var f=this,w="ui-tooltip",q=".qtip."+w;f.id=h;f.rendered=FALSE;f.elements={target:d};f.cache={event:{},target:NULL,disabled:FALSE};f.timers={img:[]};f.options=c;f.plugins={};b.extend(f,{render:function(a){var e=f.elements,j=b.Event("tooltiprender");if(f.rendered)return FALSE;f.rendered=a?-2:-1;e.tooltip=b("<div/>").attr({id:w+"-"+h,role:"tooltip","class":w+" qtip ui-tooltip-accessible ui-helper-reset "+c.style.classes}).css("z-index",b.fn.qtip.zindex+
b(q).length).toggleClass("ui-widget",c.style.widget).toggleClass("ui-state-disabled",f.cache.disabled).data("qtip",f).appendTo(c.position.container);e.wrapper=b("<div />",{"class":w+"-wrapper"}).appendTo(e.tooltip);e.content=b("<div />",{"class":w+"-content "+(c.style.widget?"ui-widget-content":""),id:w+"-"+h+"-content"}).appendTo(e.wrapper);s(c.content.text);c.content.title.text&&A();b.each(b.fn.qtip.plugins,function(){this.initialize==="render"&&this(f)});f.rendered=TRUE;y(1,1,1,1);b.each(c.events,
function(k,i){e.tooltip.bind("tooltip"+k,i)});e.tooltip.queue("fx",function(k){if(c.show.ready||a){e.tooltip.hide();f.show(f.cache.event)}e.tooltip.removeClass("ui-tooltip-accessible");j.originalEvent=b.extend({},f.cache.event);e.tooltip.trigger(j,[f.hash()]);k()});return f},get:function(a){switch(a.toLowerCase()){case "offset":a=l("position");break;case "dimensions":a=l("dimensions");break;default:a=g(a.toLowerCase());a=a[0].precedance?a[0].string():a[0].jquery?a[0]:a[0][a[1]];break}return a},set:function(a,
e){a=a.toLowerCase();var j=g(a),k=f.elements,i=k.tooltip,m,r,v,u={builtin:{id:function(){var p=e===TRUE?b.fn.qtip.nextid:e,x=w+"-"+p;if(p!==FALSE&&p.length>0&&!b("#ui-tooltip-"+p).length){i[0].id=x;k.content[0].id=x+"-content";k.title[0].id=x+"-title"}},"^content.text":function(){s(e)},"^content.title.text":function(){if(f.rendered)if(!f.elements.title&&e){A();f.reposition()}else e?f.elements.title.html(e):t()},"^content.title.button":function(){var p=f.elements.button,x=f.elements.title;if(f.rendered)if(e){x||
A();n()}else p.remove()},"^position.(my|at)$":function(){var p=/my$/i.test(a)?"my":"at";if("string"===typeof e)c.position[p]=new b.fn.qtip.plugins.Corner(e)},"^position.(my|at|adjust|target)":function(){f.rendered&&f.reposition()},"^position.container$":function(){if(f.rendered===TRUE){i.appendTo(e);f.reposition()}},"^(show|hide).(event|target|fixed|delay|inactive)":function(p,x,E,D){var B=a.search(/fixed/i)>-1?[0,[0,1,1,1]]:[a.substr(0,3),a.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(B[0])p[x]=D;C.apply(f,
B[1]);if(B[0])p[x]=E;y.apply(f,B[1])},"^show.ready$":function(){f.rendered===FALSE&&f.show()},"^style.classes$":function(){f.elements.tooltip.css("class",w+" qtip ui-helper-reset "+e)},"^style.widget$":function(){i.toggleClass("ui-widget",!!e);k.titlebar.toggleClass("ui-widget-header",!!e);k.content.toggleClass("ui-widget-content",!!e)},"^events.(render|show|move|hide|focus|blur)":function(p,x,E,D){b.isFunction(e)?k.tooltip.bind("tooltip"+x,E):k.tooltip.unbind("tooltip"+x,D)}}};b.each(f.plugins,function(p){if("object"===
typeof this.checks)u[p]=this.checks});m=j[0][j[1]];j[0][j[1]]=e.nodeType?b(e):e;N(c,d);for(r in u)for(v in u[r])RegExp(v,"i").test(a)&&u[r][v].call(f,j[0],j[1],e,m);return f},toggle:function(a,e){function j(){var u=b(this),p=a?"attr":"removeAttr",x=/^1|0$/.test(u.css("opacity"));f.elements.title&&d[p]("aria-labelledby",w+"-"+h+"-title");d[p]("aria-describedby",w+"-"+h+"-content");if(a){if(b.browser.msie&&this.style&&x){v=this.style;v.removeAttribute("filter");v.removeAttribute("opacity")}}else x&&
u.hide()}if(f.rendered===FALSE)return FALSE;var k=a?"show":"hide",i=f.elements.tooltip,m=c[k],r=i.is(":visible"),v;if((typeof a).search("boolean|number"))a=!i.is(":visible");if(!r&&!a||i.is(":animated"))return f;if(e){if(f.cache.event&&/over|enter/.test(e.type)&&/out|leave/.test(f.cache.event.type)&&b(e.target).add(c.show.target).length<2&&b(e.relatedTarget).parents(q).length>0)return f;f.cache.event=b.extend({},e)}r=b.Event("tooltip"+k);r.originalEvent=b.extend({},e);i.trigger(r,[f.hash(),90]);if(r.isDefaultPrevented())return f;
if(a){f.focus();f.reposition(e);m.solo&&b(q).qtip("hide")}else clearTimeout(f.timers.show);i.attr("aria-hidden",Boolean(!a));i.stop(TRUE,FALSE);if(b.isFunction(m.effect)){m.effect.call(i,f.hash());i.queue(function(){j.call(this);b(this).dequeue()})}else if(m.effect===FALSE){i[k]();j.call(i)}else i.fadeTo(90,a?1:0,j);a&&m.target.trigger("qtip-"+h+"-inactive");return f},show:function(a){f.toggle(TRUE,a)},hide:function(a){f.toggle(FALSE,a)},focus:function(a){if(f.rendered===false)return FALSE;var e=
f.elements.tooltip,j=b(q),k=parseInt(e.css("z-index"),10),i=b.fn.qtip.zindex+j.length,m=w+"-focus",r=b.extend({},a);if(!e.hasClass(m)&&k!==i){j.css("z-index",function(v,u){return u-1});b(q+"."+m).each(function(){var v=b(this),u=v.qtip(),p;if(!u||u.rendered===FALSE)return TRUE;v.removeClass(m);p=b.Event("tooltipblur");p.originalEvent=r;v.trigger(p,[u,i])});a=b.Event("tooltipfocus");a.originalEvent=r;e.trigger(a,[f.hash(),i]);a.isDefaultPrevented()||e.css({zIndex:i}).addClass(m)}return f},reposition:function(a){if(f.rendered===
FALSE)return FALSE;var e=c.position.target,j=f.elements.tooltip,k=c.position,i=k.my,m=k.at,r=f.elements.tooltip.width(),v=f.elements.tooltip.height(),u=b(k.container)[0],p=0,x=0,E=b.Event("tooltipmove"),D=j.css("position")==="fixed",B=b(k.adjust.container&&u!==document.body?u:G),z={left:0,top:0};u={left:function(F){var I=B.scrollLeft(),J=B.width(),H=m.x==="left"?p:m.x==="right"?-p:p/2,K=i.x!==m.x&&m.x!=="center"?p:0,L=H+(i.x==="left"?-r:i.x==="right"?r:r/2)+-2*k.adjust.x,Q=I-F;if(F+r-J-I>0)z.left+=
(i.x==="center"?-1:1)*(L-H-K);else if(Q>0)z.left+=L-H+K;return z.left-F},top:function(F){var I=B.scrollTop(),J=B.height(),H=m.y==="top"?x:m.y==="bottom"?-x:0,K=i.y!==m.y&&m.y!=="center"?x:0,L=H+(i.y==="top"?-v:i.y==="bottom"?v:-v/2)+-2*k.adjust.y;J=F+v-J-I;if(I-F>0)z.top+=(i.y==="center"?-1:1)*(L-H-K);else if(J>0)z.top+=L-H-K;return z.top-F}};if(e==="mouse"){m={x:"left",y:"top"};a=k.adjust.mouse||!a?b.extend({},b.fn.qtip.mouse):a;z={top:a.pageY,left:a.pageX}}else{if(e==="event")e=a&&a.target&&a.type!==
"scroll"&&a.type!=="resize"?f.cache.target=b(a.target):f.cache.target;e=b(e).eq(0);if(e.length===0)return f;else if(e[0]===document||e[0]===G){p=e.width();x=e.height();if(e[0]===G)z={top:D?0:B.scrollTop(),left:D?0:B.scrollLeft()}}else if(e.is("area")&&b.fn.qtip.plugins.imagemap){z=b.fn.qtip.plugins.imagemap(e,m);p=z.width;x=z.height;z=z.offset}else{p=e.outerWidth();x=e.outerHeight();z=o(e)}z.left+=m.x==="right"?p:m.x==="center"?p/2:0;z.top+=m.y==="bottom"?x:m.y==="center"?x/2:0}z.left+=k.adjust.x+
(i.x==="right"?-r:i.x==="center"?-r/2:0);z.top+=k.adjust.y+(i.y==="bottom"?-v:i.y==="center"?-v/2:0);z.adjusted=k.adjust.screen&&e[0]!==G&&e[0]!==document.body?{left:u.left(z.left),top:u.top(z.top)}:{left:0,top:0};j.attr("class",function(){return b(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(w+"-pos-"+i.abbreviation());E.originalEvent=b.extend({},a);j.trigger(E,[f.hash(),z,B]);if(E.isDefaultPrevented())return f;delete z.adjusted;if(k.container[0]==document.body){if(z.top+B.scrollTop()<
1)z.top=0;if(z.left+B.scrollLeft()<1)z.left=0}if(j.is(":visible")&&b.isFunction(k.effect)){k.effect.call(j,f.hash(),z);j.queue(function(){var F=b(this);F.css({opacity:"",height:""});b.browser.msie&&this.style&&this.style.removeAttribute("filter");F.dequeue()})}else isNaN(z.left,z.top)||j.css(z);return f},disable:function(a){var e=f.elements.tooltip;if(f.rendered)e.toggleClass("ui-state-disabled",a);else f.cache.disabled=!!a;return f},destroy:function(){var a=f.elements,e=a.target.data("oldtitle");
f.rendered&&b.each(f.plugins,function(){this.initialize==="render"&&this.destroy()});C(1,1,1,1);d.removeData("qtip");f.rendered&&a.tooltip.remove();e&&d.attr("title",e);d.removeAttr("aria-describedby");return d},hash:function(){var a=b.extend({},f);delete a.cache;delete a.timers;delete a.options;delete a.plugins;delete a.render;delete a.hash;return a}})}function R(d,c){var h,g=b(this);h=b(document.body);var o=g.metadata?g.metadata(c.metadata):{};o=b.extend(TRUE,{},c,N(b.extend(TRUE,{},(o&&c.metadata.type===
"html5"?o[c.metadata.name]:{})||o)));var l=o.position,t=this===document?h:g;g.removeData("metadata");if("boolean"===typeof o.content.text)if(o.content.attr!==FALSE&&g.attr(o.content.attr))o.content.text=g.attr(o.content.attr);else return FALSE;if(l.container===FALSE)l.container=h;if(l.target===FALSE)l.target=t;if(o.show.target===FALSE)o.show.target=t;if(o.hide.target===FALSE)o.hide.target=t;l.at=new b.fn.qtip.plugins.Corner(l.at);l.my=new b.fn.qtip.plugins.Corner(l.my);if(g.data("qtip"))if(o.overwrite)g.qtip("destroy");
else if(o.overwrite===FALSE)return FALSE;h=new P(g,o,d);g.data("qtip",h);return h}function S(d){var c=this;c.checks={"^content.ajax":function(){this.plugins.ajax.load(this.options.content.ajax)}};b.extend(c,{init:function(){var h=d.options.content.ajax;d.elements.tooltip.bind("tooltiprender.ajax",function(){c.load(h);d.elements.tooltip.bind("tooltipshow.ajax",function(){h.once===FALSE&&d.rendered===TRUE&&c.load(h)})})},load:function(h){b.ajax(b.extend(TRUE,{},h,{success:function(g,o){if(b.isFunction(h.success))if(h.success.call(d.hash(),
g,o)===FALSE)return;d.set("content.text",g)},error:function(g,o,l){var t=o||l;if(b.isFunction(h.error)){g=h.error.call(d.hash(),g,o,l);if(g===FALSE)return}d.set("content.text",t)}}));return c},destroy:function(){d.elements.tooltip.unbind("tooltipshow.ajax")}});c.init()}function O(d,c,h){var g=Math.floor(c/2),o=Math.floor(h/2);c={bottomright:[[0,0],[c,h],[c,0]],bottomleft:[[0,0],[c,0],[0,h]],topright:[[0,h],[c,0],[c,h]],topleft:[[0,0],[0,h],[c,h]],topcenter:[[0,h],[g,0],[c,h]],bottomcenter:[[0,0],
[c,0],[g,h]],rightcenter:[[0,0],[c,o],[0,h]],leftcenter:[[c,0],[c,h],[0,o]]};c.lefttop=c.bottomright;c.righttop=c.bottomleft;c.leftbottom=c.topright;c.rightbottom=c.topleft;return c[d]}function T(d){function c(q){var a=l.tip,e=["left","right"],j=o.offset,k,i;if(o.corner===FALSE||!a)return FALSE;q=q||g.corner;k=q.precedance;a.css({top:"",bottom:"",left:"",right:"",margin:""});e[k==="y"?"push":"unshift"]("top","bottom");i=k==="y"?"x":"y";j=Math.max(q[i]==="center"?j:0,j)-w[i];switch(q[k==="y"?"x":"y"]){case "center":a.css(e[0],
"50%").css("margin-"+e[0],-(s[k==="y"?"width":"height"]/2)+j);break;case e[0]:a.css(e[0],j);break;case e[1]:a.css(e[1],j);break}j=s[k==="x"?"width":"height"];if(C){t.toggleClass("ui-tooltip-accessible",!t.is(":visible"));j-=parseInt(n.css("border-"+q[k]+"-width"),10)||0;t.removeClass("ui-tooltip-accessible")}a.css(q[k],-j)}function h(q,a,e,j){if(l.tip){q={left:e.left,top:e.top};a=b.extend({},g.corner);var k=g.mimic.adjust?b.extend({},g.mimic):NULL,i=a.precedance==="y"?["y","top","left","height","x"]:
["x","left","top","width","y"],m=e.adjusted,r=[parseInt(n.css("border-"+a[i[0]]+"-width"),10)||0,0];b.each([a,k],function(){if(m.left)this.x=this.x==="center"?m.left>0?"left":"right":this.x==="left"?"right":"left";if(m.top)this.y=this.y==="center"?m.top>0?"top":"bottom":this.y==="top"?"bottom":"top"});r[1]=Math.max(a[i[4]]==="center"?o.offset:0,o.offset);q[i[1]]+=(a[i[0]]===i[1]?1:-1)*(s[i[3]]-r[0]);q[i[2]]-=(a[i[4]]===i[2]||a[i[4]]==="center"?1:-1)*r[1];w.x=Math.max(-q.left-j.scrollLeft(),0);w.y=
Math.max(-q.top-j.scrollTop(),0);if(a.string()!==A.corner.string()&&(A.top!==m.top||A.left!==m.left))g.update(a,k);else Math.max(w.x,w.y,0)&&c();A.left=m.left;A.top=m.top;A.corner=a;b.extend(e,q)}}var g=this,o=d.options.style.tip,l=d.elements,t=l.tooltip,n=l.wrapper,A={top:0,left:0,corner:{string:function(){}}},s={width:o.width,height:o.height},y={},C=o.border||0,f=o.method||FALSE,w={x:0,y:0};g.corner=NULL;g.mimic=NULL;g.checks={"^position.my|style.tip.(corner|mimic|method|border)":function(){C=o.border;
if(g.init())this.get("position.target")!=="mouse"&&this.reposition();else g.destroy()},"^style.tip.(height|width)":function(){s={width:o.width,height:o.height};g.create();g.update();d.reposition()}};b.extend(g,{init:function(){var q=b.browser.msie,a=g.mimic&&/center/i.test(g.mimic.string()),e=g.detectCorner();if(e){if(f===TRUE)f=b("<canvas />")[0].getContext?"canvas":q&&(a||s.height!==s.width)?"vml":"polygon";else if(f==="canvas")f=q?"vml":!b("<canvas />")[0].getContext?"polygon":"canvas";else if(f===
"polygon")f=q&&a?"vml":f;g.create();g.detectColours();g.update();t.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",h)}return e},detectCorner:function(){var q=o.corner,a=o.mimic||q,e=d.options.position.at,j=d.options.position.my;if(j.string)j=j.string();if(q===FALSE||j===FALSE&&e===FALSE)return FALSE;else{if(q===TRUE)g.corner=new b.fn.qtip.plugins.Corner(j);else if(!q.string)g.corner=new b.fn.qtip.plugins.Corner(q);if(a===TRUE)g.mimic=new b.fn.qtip.plugins.Corner(j);else if(!a.string){g.mimic=new b.fn.qtip.plugins.Corner(a);
g.mimic.precedance=g.corner.precedance}}return g.corner.string()!=="centercenter"},detectColours:function(){var q=l.tip,a=g.mimic[g.mimic.precedance],e="border-"+a+"-color";y.fill=q.css("background-color","").css("border","").css("background-color")||"transparent";y.border=q.get(0).style?q.get(0).style["border"+a.charAt(0)+a.substr(1)+"Color"]:q.css(e)||"transparent";if(/rgba?\(0, 0, 0(, 0)?\)|transparent/i.test(y.fill))y.fill=n.css(C?"background-color":e);if(!y.border||/rgba?\(0, 0, 0(, 0)?\)|transparent/i.test(y.border))y.border=
n.css(e)||y.fill;b("*",q).add(q).css("background-color","transparent").css("border",0)},create:function(){var q=s.width,a=s.height;l.tip&&l.tip.remove();l.tip=b('<div class="ui-tooltip-tip" />').toggleClass("ui-widget-content",d.options.style.widget).css(s).prependTo(t);switch(f){case "canvas":l.tip.append('<canvas height="'+a+'" width="'+q+'" />');break;case "vml":l.tip.html('<vml:shape coordorigin="0 0" coordsize="'+q+" "+a+'" stroked="'+!!C+'"  style="behavior:url(#default#VML); display:inline-block; antialias:TRUE; position: absolute;  top:0; left:0; width:'+
q+"px; height:"+a+"px; vertical-align:"+g.corner.y+';"><vml:stroke weight="'+(C-2)+'px" joinstyle="miter" miterlimit="10"  style="behavior:url(#default#VML); display:inline-block;" /></vml:shape>');break;case "polygon":l.tip.append('<div class="ui-tooltip-tip-inner" />').append(C?'<div class="ui-tooltip-tip-border" />':"");break}return g},update:function(q,a){var e=l.tip,j=s.width,k=s.height,i=C>0?0:1,m=Math.ceil(C/2+0.5),r,v;a||(a=q?q:g.mimic);if(!q)q=g.corner;if(a.x==="false")a.x=q.x;if(a.y==="false")a.y=
q.y;v=Math[/b|r/.test(a[a.precedance==="y"?"x":"y"])?"ceil":"floor"];e=e.children();switch(f){case "canvas":e=e.get(0).getContext("2d");e.restore();e.clearRect(0,0,3E3,3E3);for(r=O(a.string(),j,k);i<2;i++){if(i){e.save();e.translate(v((a.x==="left"?1:a.x==="right"?-1:0)*(C+1)*(a.precedance==="y"?0.5:1)),v((a.y==="top"?1:a.y==="bottom"?-1:0)*(C+1)*(a.precedance==="x"?0.5:1)))}e.beginPath();e.moveTo(r[0][0],r[0][1]);e.lineTo(r[1][0],r[1][1]);e.lineTo(r[2][0],r[2][1]);e.closePath();e.fillStyle=y[i?"fill":
"border"];e.fill()}break;case "vml":r=O(a.string(),j,k);i="m"+r[0][0]+","+r[0][1]+" l"+r[1][0]+","+r[1][1]+" "+r[2][0]+","+r[2][1]+" xe";e.attr({path:i,fillcolor:y.fill});if(C){e.children().attr("color",y.border);if(a.precedance==="y"){e.css("top",(a.y==="top"?1:-1)*(C-2));e.css("left",a.x==="left"?1:-2)}else{e.css("left",(a.x==="left"?1:-1)*(C-2));e.css("top",a.y==="top"?1:-2)}}break;case "polygon":if(a.precedance==="y"){i=j>k?1.5:j<k?5:2.2;m=[a.x==="left"?m:a.x==="right"?-m:0,Math.floor(i*m*(a.y===
"bottom"?-1:1)*(a.x==="center"?0.8:1))]}else{i=j<k?1.5:j>k?5:2.2;m=[Math.floor(i*m*(a.x==="right"?-1:1)*(a.y==="center"?0.9:1)),a.y==="top"?m:a.y==="bottom"?-m:0]}e.removeAttr("style").each(function(u){var p={x:a.precedance==="x"?a.x==="left"?"right":"left":a.x,y:a.precedance==="y"?a.y==="top"?"bottom":"top":a.y},x=a.x==="center"?["left","right",p.y,k,j]:["top","bottom",p.x,j,k],E=y[!u&&C?"border":"fill"];u&&b(this).css({position:"absolute","z-index":1,left:m[0],top:m[1]});a.x==="center"||a.y==="center"?
b(this).css("border-"+x[2],x[3]+"px solid "+E).css("border-"+x[0],Math.floor(x[4]/2)+"px dashed transparent").css("border-"+x[1],Math.floor(x[4]/2)+"px dashed transparent"):b(this).css("border-width",Math.floor(k/2)+"px "+Math.floor(j/2)+"px").css("border-"+p.x,Math.floor(j/2)+"px solid "+E).css("border-"+p.y,Math.floor(k/2)+"px solid "+E)});break}c(q);return g},destroy:function(){l.tip&&l.tip.remove();t.unbind(".qtip-tip")}})}function U(d,c){var h=this,g=d.elements,o=g.tooltip;g.overlay=b("#qtip-overlay");
b.extend(h,{init:function(){o.bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(l,t,n){l=l.type.replace("tooltip","");b.isFunction(c[l])?c[l].call(g.overlay,n,t):h[l](n)});g.overlay.length||h.create();c.blur===TRUE&&g.overlay.bind("click.qtipmodal"+d.id,function(){d.hide.call(d)})},create:function(){g.overlay=b("<div />",{id:"qtip-overlay",css:{position:"absolute",top:0,left:0,display:"none"}}).appendTo(document.body);b(G).bind("resize.qtipmodal",function(){g.overlay.css({height:Math.max(b(G).height(),
b(document).height()),width:Math.max(b(G).width(),b(document).width())})}).trigger("resize")},toggle:function(l){var t=g.overlay,n=d.options.show.modal.effect,A=l?"show":"hide";t.stop(TRUE,FALSE);if(b.isFunction(n))n.call(t,l);else n===FALSE?t[A]():t.fadeTo(90,l?0.7:0,function(){l||b(this).hide()})},show:function(){h.toggle(TRUE)},hide:function(){h.toggle(FALSE)},destroy:function(){var l=TRUE;b("*").each(function(){var t=b(this).data("qtip");if(t&&t.id!==d.id&&t.options.show.modal)return l=FALSE});
if(l){g.overlay.remove();b(G).unbind("scroll.qtipmodal resize.qtipmodal")}else g.overlay.unbind("click.qtipmodal"+d.id);o.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});h.init()}function V(d){var c=this,h=d.elements,g=h.tooltip,o=".bgiframe-"+d.id,l="tooltipmove"+o+" tooltipshow"+o;b.extend(c,{init:function(){h.bgiframe=b('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');
h.bgiframe.appendTo(g);g.bind(l,c.adjust)},adjust:function(){var t=d.get("dimensions"),n=d.plugins.tip,A=d.elements.tip,s;s=parseInt(g.css("border-left-width"),10)||0;s={left:-s,top:-s};if(n&&A){n=n.corner.precedance==="x"?["width","left"]:["height","top"];s[n[1]]-=A[n[0]]()}h.bgiframe.css(s).css(t)},destroy:function(){c.iframe.remove();g.unbind(l)}});c.init()}b.fn.qtip=function(d,c,h){var g=String(d).toLowerCase(),o=NULL,l=g==="disable"?[TRUE]:b.makeArray(arguments).slice(1,10),t=l[l.length-1],n=
b.extend(TRUE,{},d),A;if(!arguments.length&&this.data("qtip")||g==="api")return(n=this.data("qtip"))?n.hash():M;else if("string"===typeof d){this.each(function(){var s=b(this).data("qtip");if(!s)return TRUE;if(/option|set/.test(g)&&c)if(h!==M)s.set(c,h);else o=s.get(c);else{if(!s.rendered&&(g==="show"||g==="toggle")){if(t&&t.timeStamp)s.cache.event=t;s.render(1)}else if(g==="enable"){g="disable";l=[FALSE]}s[g]&&s[g].apply(s[g],l)}});return o!==NULL?o:this}else if("object"===typeof d||!arguments.length){A=
N(n,this);n=b.extend(TRUE,{},b.fn.qtip.defaults,n);return b.fn.qtip.bind.call(A,n,t)}};b.fn.qtip.bind=function(d,c){return this.each(function(h){function g(f){function w(){n.render(typeof f==="object"||A.show.ready);s.show.unbind(y.show);s.hide.unbind(y.hide)}if(n.cache.disabled)return FALSE;n.cache.event=b.extend({},f);if(A.show.delay>0){clearTimeout(n.timers.show);n.timers.show=setTimeout(w,A.show.delay);y.show!==y.hide&&s.hide.bind(y.hide,function(){clearTimeout(n.timers.show)})}else w()}var o=
b(this),l=d.id,t=d.content.text,n,A,s,y,C;d.id=l=l===FALSE||l.length<1||b("#ui-tooltip-"+l).length?b.fn.qtip.nextid++:l;C=".qtip-"+l+"-create";n=R.call(this,l,d);if(n===FALSE)return TRUE;A=n.options;if(b.isArray(t))A.content.text=t[h];o.attr("title")&&o.data("oldtitle",o.attr("title")).removeAttr("title");b.each(b.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(n)});s={show:A.show.target,hide:A.hide.target};y={show:String(A.show.event).replace(" ",C+" ")+C,hide:String(A.hide.event).replace(" ",
C+" ")+C};s.show.bind(y.show,g);if(d.show.ready||d.prerender)g(c)})};b.each({attr:function(d){var c=b(this),h=c.data("qtip");return arguments.length===1&&d==="title"&&h&&h.rendered===TRUE?c.data("oldtitle"):NULL},remove:b.ui?NULL:function(d,c){b(this).each(function(){if(!c)if(!d||b.filter(d,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})})}},function(d,c){if(!c)return TRUE;b.fn["Old"+d]=b.fn[d];b.fn[d]=function(){return c.apply(this,arguments)||b.fn["Old"+d].apply(this,
arguments)}});b(document.body).attr("role",function(d,c){return!c?"application":c});b(document).bind("mousemove.qtip",function(d){b.fn.qtip.mouse={pageX:d.pageX,pageY:d.pageY}});b.fn.qtip.nextid=0;b.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");b.fn.qtip.zindex=15E3;b.fn.qtip.plugins={Corner:function(d){this.x=(String(d).replace(/middle/i,"center").match(/left|right|center/i)||["false"])[0].toLowerCase();this.y=(String(d).replace(/middle/i,"center").match(/top|bottom|center/i)||
["false"])[0].toLowerCase();this.precedance=d.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var c=this.x.substr(0,1),h=this.y.substr(0,1);return c===h?c:c==="c"||c!=="c"&&h!=="c"?h+c:c+h}}};b.fn.qtip.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,
adjust:{x:0,y:0,mouse:TRUE,screen:FALSE,resize:TRUE,container:FALSE},effect:TRUE},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",widget:FALSE},events:{render:b.noop,move:b.noop,show:b.noop,hide:b.noop,focus:b.noop,blur:b.noop}};b.fn.qtip.plugins.ajax=function(d){var c=d.plugins.ajax,h=d.options.content.ajax;if(h&&h.url)if(c)return c;else{d.plugins.ajax=new S(d);
return d.plugins.ajax}};b.fn.qtip.plugins.ajax.initialize="render";b.fn.qtip.plugins.ajax.sanitize=function(d){try{var c=d.content.ajax;if(typeof c!=="object")c=d.content.ajax={url:c};if("boolean"!==typeof c.once&&c.once)c.once=!!c.once}catch(h){}};b.extend(TRUE,b.fn.qtip.defaults,{content:{ajax:{once:TRUE}}});b.fn.qtip.plugins.tip=function(d){var c=d.plugins.tip,h=d.options.style.tip;if(h&&h.corner)if(c)return c;else{d.plugins.tip=new T(d);d.plugins.tip.init();return d.plugins.tip}};b.fn.qtip.plugins.tip.initialize=
"render";b.fn.qtip.plugins.tip.sanitize=function(d){try{var c=d.style.tip;if(typeof c!=="object")d.style.tip={corner:c};if(!/string|boolean/i.test(typeof c.corner))c.corner=true;if(typeof c.method!=="string")c.method=TRUE;if(!/canvas|polygon/i.test(c.method))c.method=TRUE;typeof c.width!=="number"&&delete c.width;typeof c.height!=="number"&&delete c.height;typeof c.border!=="number"&&delete c.border;typeof c.offset!=="number"&&delete c.offset}catch(h){}};b.extend(TRUE,b.fn.qtip.defaults,{style:{tip:{corner:TRUE,
method:TRUE,width:9,height:9,border:0,offset:0}}});b.fn.qtip.plugins.imagemap=function(d,c){function h(y,C){for(var f=0,w=1,q=1,a=0,e=0,j=y.width,k=y.height;j>0&&k>0&&w>0&&q>0;){j=Math.floor(j/2);k=Math.floor(k/2);if(c.x==="left")w=j;else if(c.x==="right")w=y.width-j;else w+=Math.floor(j/2);if(c.y==="top")q=k;else if(c.y==="bottom")q=y.height-k;else q+=Math.floor(k/2);for(f=C.length;f--;){if(C.length<2)break;a=C[f][0]-y.offset.left;e=C[f][1]-y.offset.top;if(c.x==="left"&&a>=w||c.x==="right"&&a<=w||
c.x==="center"&&(a<w||a>y.width-w)||c.y==="top"&&e>=q||c.y==="bottom"&&e<=q||c.y==="center"&&(e<q||e>y.height-q))C.splice(f,1)}}return{left:C[0][0],top:C[0][1]}}var g=d.attr("shape").toLowerCase(),o=d.attr("coords").split(","),l=[],t=b('img[usemap="#'+d.parent("map").attr("name")+'"]').offset(),n={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},A=0,s=0;if(g==="poly")for(A=o.length;A--;){s=[parseInt(o[--A],10),parseInt(o[A+1],10)];if(s[0]>n.offset.right)n.offset.right=s[0];if(s[0]<n.offset.left)n.offset.left=
s[0];if(s[1]>n.offset.bottom)n.offset.bottom=s[1];if(s[1]<n.offset.top)n.offset.top=s[1];l.push(s)}else l=b.map(o,function(y){return parseInt(y,10)});switch(g){case "rect":n={width:Math.abs(l[2]-l[0]),height:Math.abs(l[3]-l[1]),offset:{left:l[0],top:l[1]}};break;case "circle":n={width:l[2]+2,height:l[2]+2,offset:{left:l[0],top:l[1]}};break;case "poly":b.extend(n,{width:Math.abs(n.offset.right-n.offset.left),height:Math.abs(n.offset.bottom-n.offset.top)});n.offset=c.string()==="centercenter"?{left:n.offset.left+
n.width/2,top:n.offset.top+n.height/2}:h(n,l.slice());n.width=n.height=0;break}n.offset.left+=t.left;n.offset.top+=t.top;return n};b.fn.qtip.plugins.modal=function(d){var c=d.plugins.modal,h=d.options.show.modal;if(c)return c;else if(h&&h.on===TRUE){d.plugins.modal=new U(d,h);return d.plugins.modal}};b.fn.qtip.plugins.modal.initialize="render";b.fn.qtip.plugins.modal.sanitize=function(d){if(d.show)if(typeof d.show.modal!=="object")d.show.modal={on:!!d.show.modal};else if(typeof d.show.modal.on===
"undefined")d.show.modal.on=TRUE};b.extend(TRUE,b.fn.qtip.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE}}});b.fn.qtip.plugins.bgiframe=function(d){if(!(b.browser.msie&&/^6\.[0-9]/.test(b.browser.version)&&b("select, object").length))return FALSE;var c=d.plugins.bgiframe;if(c)return c;else{d.plugins.bgiframe=new V(d);return d.plugins.bgiframe}};b.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
