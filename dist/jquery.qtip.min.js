/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Tue Jan 18 13:28:42 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(b,M,R){function W(e){var a;if(!e)return m;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};a=e.content.text||m;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))e.content.text=m;if("title"in e.content){if("object"!==typeof e.content.title)e.content.title={text:e.content.title};a=e.content.title.text||m;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===
typeof a&&!a.jquery))e.content.title.text=m}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,at:e.position};if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e)if("object"!==typeof e.style)e.style={classes:e.style};b.each(b.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function Y(e,a,o){function l(d){var f,
i=d.split("."),q=a[i[0]];for(d=1;d<i.length;d+=1){f=q[i[d]];if(typeof f==="object"&&!f.jquery&&!f.precedance)q=q[i[d]];else break}return i[d]!==R?[q,i[d]]:[a,i[0]]}function j(d,f){var i={left:0,top:0},q=!b.fn.qtip.plugins.iOS,n=b(f),v;if(f)if(n.css("position")!=="static"){i=j(f);i.left*=-1;i.top*=-1}else if(n.css("overflow")!=="visible"){i.left-=f.scrollLeft;i.top-=f.scrollTop}if(d.offsetParent){do{n=d.offsetParent;v=n===f;i.left+=d.offsetLeft-(q&&n&&!v?n.scrollLeft:0);i.top+=d.offsetTop-(q&&n&&!v?
n.scrollTop:0)}while(d=n)}return i}function k(){return g.css("left")!==Z}function s(){var d=c.elements,f=a.style.widget;g.toggleClass(X,f);d.content.toggleClass(X+"-content",f);d.titlebar&&d.titlebar.toggleClass(X+"-header",f);d.button&&d.button.toggleClass(J+"-icon",!f)}function t(){var d=c.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=G;c.reposition()}}function r(){var d=c.elements,f=a.content.title.button;d.button&&d.button.remove();d.button=f.jquery?f:b("<a />",{"class":"ui-state-default "+
(a.style.widget?"":J+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(b("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));d.button.appendTo(d.titlebar).attr("role","button").hover(function(i){b(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(i){g.hasClass(O)||c.hide(i);return m}).bind("mousedown keydown mouseup keyup mouseout",function(i){b(this).toggleClass("ui-state-active ui-state-focus",i.type.substr(-4)==="down")});c.redraw()}function F(){var d=
c.elements,f=A+"-title";d.titlebar&&t();d.titlebar=b("<div />",{"class":J+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(d.title=b("<div />",{id:f,"class":J+"-title","aria-atomic":w})).insertBefore(d.content);if(a.content.title.button)r();else c.rendered===w&&c.redraw()}function z(d){var f=c.elements.title;if(!c.rendered||!d)return m;if(b.isFunction(d))d=d.call(e,c)||"";d.jquery&&d.length>0?f.empty().append(d.css({display:"block"})):f.html(d);c.redraw();c.rendered===w&&c.reposition(c.cache.event)}
function B(d){var f=c.elements.content;if(!c.rendered||!d)return m;if(b.isFunction(d))d=d.call(e,c)||"";d.jquery&&d.length>0?f.empty().append(d.css({display:"block"})):f.html(d);g.queue("fx",function(i){function q(v){n=n.not(v);if(n.length===0){c.redraw();c.rendered===w&&c.reposition(c.cache.event);i()}}var n=b("img:not([height]):not([width])",f);n.each(function(v,D){var I=["abort","error","load","unload",""].join(".qtip-image ");b(this).bind(I,function(){clearTimeout(c.timers.img[v]);q(this)});(function C(){if(D.height)return q(D);
c.timers.img[v]=setTimeout(C,20)})();return w});n.length===0&&q(n)});return c}function h(d,f,i,q){function n(y){if(g.hasClass(O))return m;H.show.trigger("qtip-"+o+"-inactive");clearTimeout(c.timers.show);clearTimeout(c.timers.hide);var x=function(){c.show(y)};if(a.show.delay>0)c.timers.show=setTimeout(x,a.show.delay);else x()}function v(y){if(g.hasClass(O))return m;var x=b(y.relatedTarget||y.target).parents(T)[0]===g[0],S=b(y.relatedTarget||y.target)[0]===H.show[0];clearTimeout(c.timers.show);clearTimeout(c.timers.hide);
if(a.hide.fixed&&(E.target==="mouse"&&x||/mouse(out|leave|move)/.test(y.type)&&(x||S))){y.stopPropagation();y.preventDefault();return m}g.stop(1,1);if(a.hide.delay>0)c.timers.hide=setTimeout(function(){c.hide(y)},a.hide.delay);else c.hide(y)}function D(y){if(g.hasClass(O))return m;clearTimeout(c.timers.inactive);c.timers.inactive=setTimeout(function(){c.hide(y)},a.hide.inactive)}function I(y){if(!c.cache.processing){c.cache.processing=1;k()&&c.reposition(y);c.cache.processing=0}}var C=".qtip-"+o,
E=a.position,H={show:a.show.target,hide:a.hide.target,container:E.container[0]===u?document:E.container},N={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},P=b.browser.msie&&parseInt(b.browser.version,10)===6;if(i){if(a.hide.fixed){H.hide=H.hide.add(g);g.bind("mouseover"+C,function(){g.hasClass(O)||clearTimeout(c.timers.hide)})}g.bind("mouseenter"+C+" mouseleave"+C,function(y){c[y.type==="mouseenter"?"focus":"blur"](y)})}if(f){if("number"===typeof a.hide.inactive){H.show.bind("qtip-"+
o+"-inactive",D);b.each(b.fn.qtip.inactiveEvents,function(y,x){H.hide.add(c.elements.tooltip).bind(x+C+"-inactive",D)})}b.each(N.hide,function(y,x){var S=b.inArray(x,N.show);if(S>-1&&b(H.hide).add(H.show).length===b(H.hide).length||x==="unfocus"){H.show.bind(x+C,function(K){k()?v(K):n(K)});delete N.show[S]}else H.hide.bind(x+C,v)})}d&&b.each(N.show,function(y,x){H.show.bind(x+C,n)});if(q){if(E.adjust.resize||E.viewport)b(b.event.special.resize?E.viewport:M).bind("resize"+C,I);if(E.viewport||P&&g.css("position")===
"fixed")b(E.viewport).bind("scroll"+C,I);/unfocus/i.test(a.hide.event)&&b(document).bind("mousedown"+C,function(y){b(y.target).parents(T).length===0&&b(y.target).add(e).length>1&&k()&&!g.hasClass(O)&&c.hide(y)});E.target==="mouse"&&b(document).bind("mousemove"+C,function(y){if(E.adjust.mouse&&!g.hasClass(O)&&k())c.reposition(y||b.fn.qtip.mouse)})}}function p(d,f,i,q){q=parseInt(q,10)!==0;var n=".qtip-"+o;f={show:d?a.show.target:G,hide:f?a.hide.target:G,tooltip:i?c.elements.tooltip:G,content:i?c.elements.content:
G,container:q?a.position.container[0]===u?document:a.position.container:G,window:q?M:G};if(c.rendered)b([]).pushStack(b.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(n);else d&&f.show.unbind(n+"-create")}var c=this,u=document.body,A=J+"-"+o,g;c.id=o;c.rendered=m;c.elements={target:e};c.timers={img:[]};c.options=a;c.plugins={};c.cache={event:{},target:G,disabled:m,lastFocus:u};b.extend(c,{render:function(d){if(c.rendered)return m;var f=c.elements,
i=a.content.text,q=a.content.title.text,n=b.Event("tooltiprender");e.attr({"aria-owns":A,"aria-controls":A,"aria-haspopup":w,"aria-describedby":A});g=f.tooltip=b("<div/>").attr({id:A,"class":J+" qtip ui-helper-reset "+a.style.classes,role:"alert","aria-live":"polite","aria-atomic":m,"aria-describedby":A+"-content","aria-hidden":w}).toggleClass(O,c.cache.disabled).data("qtip",c).appendTo(a.position.container).append(f.content=b("<div />",{"class":J+"-content",id:A+"-content","aria-atomic":w}));c.rendered=
w;if(q){F();z(q)}B(i);b.each(b.fn.qtip.plugins,function(){this.initialize==="render"&&this(c)});h(1,1,1,1);b.each(a.events,function(v,D){if(D)g.bind(v==="toggle"?"tooltipshow tooltiphide":"tooltip"+v,D)});g.queue("fx",function(v){n.originalEvent=c.cache.event;g.trigger(n,[c]);if(a.show.ready||d){g.hide();c.show(c.cache.event)}v()});return c},get:function(d){switch(d.toLowerCase()){case "dimensions":d={height:g.outerHeight(),width:g.outerWidth()};break;case "offset":d=j(g[0],a.position.container[0]);
break;default:d=l(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,f){d=d.toLowerCase();var i=l(d),q=c.elements,n,v,D,I={builtin:{"^id$":function(){var C=f===w?b.fn.qtip.nextid:f,E=J+"-"+C;if(C!==m&&C.length>0&&!b("#"+E).length){g[0].id=E;q.content[0].id=E+"-content";q.title[0].id=E+"-title"}},"^content.text$":function(){B(f)},"^content.title.text$":function(){if(!f)return t();!c.elements.title&&f&&F();z(f)},"^content.title.button$":function(){var C=
c.elements.button,E=c.elements.title;if(c.rendered)if(f){E||F();r()}else C.remove()},"^position.(my|at)$":function(){var C=/my$/i.test(d)?"my":"at";if("string"===typeof f)a.position[C]=new b.fn.qtip.plugins.Corner(f)},"^position.container$":function(){c.rendered===w&&g.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(C,E,H,N){var P=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(P[0])C[E]=N;p.apply(c,P[1]);if(P[0])C[E]=H;h.apply(c,
P[1])},"^show.ready$":function(){c.rendered===m&&c.show()},"^style.classes$":function(){g.attr("class",J+" qtip ui-helper-reset "+f)},"^style.widget|content.title":s,"^events.(render|show|move|hide|focus|blur)$":function(C,E,H){q.tooltip[(b.isFunction(f)?"":"un")+"bind"]("tooltip"+E,H)},"^position.(my|at|adjust|target|container)|style|content":function(){c.reposition()}}};b.each(c.plugins,function(C){if("object"===typeof this.checks)I[C]=this.checks});n=i[0][i[1]];i[0][i[1]]=f.nodeType?b(f):f;W(a);
for(v in I)for(D in I[v])RegExp(D,"i").test(d)&&I[v][D].call(c,i[0],i[1],f,n);return c},toggle:function(d,f){function i(){if(d)b.browser.msie&&g[0].style.removeAttribute("filter");else g.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(c.rendered===m)return m;var q=d?"show":"hide",n=a[q],v=k();if((typeof d).search("boolean|number"))d=!v;if(!v&&!d||g.is(":animated"))return c;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(c.cache.event.type)&&f.target===a.show.target[0]&&
g.has(f.relatedTarget).length)return c;c.cache.event=b.extend({},f)}v=b.Event("tooltip"+q);v.originalEvent=f?c.cache.event:G;g.trigger(v,[c,90]);if(v.isDefaultPrevented())return c;g.attr("aria-hidden",!!!d);if(d){g.hide().css({visibility:""});c.focus(f);c.reposition(f,0);n.solo&&b(T).not(g).qtip("hide")}else{clearTimeout(c.timers.show);c.blur(f)}g.stop(1,1);if(b.isFunction(n.effect)){n.effect.call(g,c);g.queue("fx",function(D){i.call(this,D);D()})}else if(n.effect===m){g[q]();i.call(g)}else g.fadeTo(90,
d?1:0,i);d&&n.target.trigger("qtip-"+o+"-inactive");return b.fn.qtip.lastShown=c},show:function(d){c.toggle(w,d)},hide:function(d){c.toggle(m,d)},focus:function(d){if(c.rendered===m)return m;var f=b(T),i=parseInt(g[0].style.zIndex,10),q=b.fn.qtip.zindex+f.length;d=b.extend({},d);if(!g.hasClass(V)){if(i!==q){f.each(function(){if(this.style.zIndex>i)this.style.zIndex-=1});b(T+"."+V).qtip("blur",d)}c.cache.lastFocus=document.activeElement;f=b.Event("tooltipfocus");f.originalEvent=d;g.trigger(f,[c,q]);
if(!f.isDefaultPrevented())g.addClass(V)[0].style.zIndex=q}return c},blur:function(d){d=b.extend({},d);var f;g.removeClass(V);f=b.Event("tooltipblur");f.originalEvent=d;g.trigger(f,[c])},reposition:function(d,f){if(c.rendered===m)return m;var i=a.position.target,q=a.position,n=q.my,v=q.at,D=q.adjust,I=g.outerWidth(),C=g.outerHeight(),E=0,H=0,N=b.Event("tooltipmove"),P=g.css("position")==="fixed",y=q.viewport.jquery?q.viewport:b(M),x={left:0,top:0},S={left:function(K){var L=y.scrollLeft,Q=v.x==="left"?
E:v.x==="right"?-E:-E/2,U=L-K;L=K+I-y.width-L;Q=(n.x==="left"?I:n.x==="right"?-I:-I/2)-(n.precedance==="x"||n.x===n.y?Q:0);if(U>0&&(n.x!=="left"||L>0))x.left-=Q;else if(L>0&&(n.x!=="right"||U>0))x.left-=(n.x==="center"?-1:1)*Q+2*D.x;if(x.left<0&&-x.left>L)x.left=K;return x.left-K},top:function(K){var L=y.scrollTop,Q=v.y==="top"?H:v.y==="bottom"?-H:-H/2,U=L-K;L=K+C-y.height-L;Q=(n.y==="top"?C:n.y==="bottom"?-C:-C/2)-(n.precedance==="y"||n.x===n.y?Q:0);if(U>0&&(n.y!=="top"||L>0))x.top-=Q;else if(L>
0&&(n.y!=="bottom"||U>0))x.top-=(n.y==="center"?-1:1)*Q+2*D.y;if(x.top<0&&-x.top>L)x.top=K;return x.top-K}};f=f===R||!!f||m;y=!y?m:{elem:y,height:y[(y[0]===M?"h":"outerH")+"eight"](),width:y[(y[0]===M?"w":"outerW")+"idth"](),scrollLeft:y.scrollLeft(),scrollTop:y.scrollTop()};if(i==="mouse"){v={x:"left",y:"top"};d=d&&(d.type==="resize"||d.type==="scroll")?c.cache.event:D.mouse||!d||!d.pageX?b.extend({},b.fn.qtip.mouse):d;x={top:d.pageY,left:d.pageX}}else{if(i==="event")i=d&&d.target&&d.type!=="scroll"&&
d.type!=="resize"?c.cache.target=b(d.target):c.cache.target;i=b(i).eq(0);if(i.length===0)return c;else if(i[0]===document||i[0]===M){E=i.width();H=i.height();if(i[0]===M)x={top:P?0:y.scrollTop,left:P?0:y.scrollLeft}}else if(i.is("area")&&b.fn.qtip.plugins.imagemap){x=b.fn.qtip.plugins.imagemap(i,v);E=x.width;H=x.height;x=x.offset}else{E=i.outerWidth();H=i.outerHeight();x=j(i[0],q.container[0])}x.left+=v.x==="right"?E:v.x==="center"?E/2:0;x.top+=v.y==="bottom"?H:v.y==="center"?H/2:0}x.left+=D.x+(n.x===
"right"?-I:n.x==="center"?-I/2:0);x.top+=D.y+(n.y==="bottom"?-C:n.y==="center"?-C/2:0);x.adjusted=q.viewport.jquery&&i[0]!==M&&i[0]!==u?{left:S.left(x.left),top:S.top(x.top)}:{left:0,top:0};g.attr("class",function(){return b(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(J+"-pos-"+n.abbreviation());N.originalEvent=b.extend({},d);g.trigger(N,[c,x,y.elem]);if(N.isDefaultPrevented())return c;delete x.adjusted;if(!f||!isNaN(x.left,x.top))g.css(x);else if(k()&&b.isFunction(q.effect)){q.effect.call(g,
c,x);g.queue(function(K){b(this).css({opacity:"",height:""});b.browser.msie&&this.style&&this.style.removeAttribute("filter");K()})}return c},redraw:function(){if(!c.rendered||!(b.browser.msie&&b.browser.version<8))return m;var d=J+"-fluid",f;g.css({width:"auto",height:"auto"}).addClass(d);f={height:g.outerHeight(),width:g.outerWidth()};b.each(["width","height"],function(i,q){var n=parseInt(g.css("max-"+q),10)||0,v=parseInt(g.css("min-"+q),10)||0;f[q]=n+v?Math.min(Math.max(f[q],v),n):f[q]});g.css(f).removeClass(d)},
disable:function(d){var f=O;if("boolean"!==typeof d)d=!(g.hasClass(f)||c.cache.disabled);if(c.rendered){g.toggleClass(f,d);g.attr("aria-disabled",d)}else c.cache.disabled=!!d;return c},destroy:function(){var d=e.data("oldtitle");if(c.rendered){g.remove();b.each(c.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(c.timers.show);clearTimeout(c.timers.hide);p(1,1,1,1);e.removeData("qtip");d&&e.attr("title",d);e.removeAttr("aria-describedby");return e}})}function $(e,a){var o,
l,j=b(this),k=b(document.body),s=this===document?k:j;l=j.metadata?j.metadata(a.metadata):G;var t=b.extend(w,{},b.fn.qtip.defaults,a,W((l&&a.metadata.type==="html5"?l[a.metadata.name]:G)||l));j.removeData("metadata");l=t.position;if("boolean"===typeof t.content.text)if(t.content.attr!==m&&j.attr(t.content.attr))t.content.text=j.attr(t.content.attr);else return m;if(l.container===m)l.container=k;if(l.target===m)l.target=s;if(t.show.target===m)t.show.target=s;if(t.hide.target===m)t.hide.target=s;if(t.position.viewport===
w)t.position.viewport=l.container;l.at=new b.fn.qtip.plugins.Corner(l.at);l.my=new b.fn.qtip.plugins.Corner(l.my);if(j.data("qtip"))if(t.overwrite)j.qtip("destroy");else if(t.overwrite===m)return m;j.attr("title")&&j.data("oldtitle",j.attr("title")).removeAttr("title");o=new Y(j,t,e);j.data("qtip",o);j.bind("remove.qtip",function(){o.destroy()});return o}function aa(e){var a=this,o=e.elements.tooltip,l=e.options.content.ajax;a.checks={"^content.ajax":function(j,k){if(k==="once")a.once();else l&&l.url&&
a.load()}};b.extend(a,{init:function(){if(l&&l.url){a.load();o.one("tooltipshow",a.once)}},once:function(){l.once?a.destroy():o.bind("tooltipshow.qtip-ajax",a.load)},load:function(){b.ajax(b.extend({success:function(j){e.set("content.text",j)},error:function(j,k,s){e.set("content.text",k+": "+s)},context:e},l));return a},destroy:function(){o.unbind(".qtip-ajax")}});a.init()}function ba(e,a,o){var l=Math.ceil(a/2),j=Math.ceil(o/2);a={bottomright:[[0,0],[a,o],[a,0]],bottomleft:[[0,0],[a,0],[0,o]],topright:[[0,
o],[a,0],[a,o]],topleft:[[0,0],[0,o],[a,o]],topcenter:[[0,o],[l,0],[a,o]],bottomcenter:[[0,0],[a,0],[l,o]],rightcenter:[[0,0],[a,j],[0,o]],leftcenter:[[a,0],[a,o],[0,j]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=a.topleft;return a[e.string()]}function ca(e){function a(h,p,c){if(s.tip){h=b.extend({},j.corner);p=c.adjusted;var u;if(j.corner.fixed!==w){if(p.left)h.x=h.x==="center"?p.left>0?"left":"right":h.x==="left"?"right":"left";if(p.top)h.y=h.y==="center"?
p.top>0?"top":"bottom":h.y==="top"?"bottom":"top";if(h.string()!==r.corner&&(r.top!==p.top||r.left!==p.left))u=j.update(h)}u||(u=j.position(h,0));if(u.right!==R)u.left=u.right;if(u.bottom!==R)u.top=u.bottom;u.option=Math.max(0,k.offset);c.left-=u.left.charAt?u.option:(u.right?-1:1)*u.left;c.top-=u.top.charAt?u.option:(u.bottom?-1:1)*u.top;r.left=p.left;r.top=p.top;r.corner=h.string()}}function o(h,p,c){p=!p?h[h.precedance]:p;p="border-"+p+"-width";h=parseInt((s.titlebar&&h.y==="top"?s.titlebar:s.content).css(p),
10);return(c?h||parseInt(t.css(p),10):h)||0}function l(h){var p=h.precedance==="y",c=F[p?"width":"height"],u=F[p?"height":"width"],A=h.string().indexOf("center")>-1,g=c*(A?0.5:1),d=Math.pow;h=Math.round;var f=Math.sqrt(d(g,2)+d(u,2));g=[B/g*f,B/u*f];g[2]=Math.sqrt(d(g[0],2)-d(B,2));g[3]=Math.sqrt(d(g[1],2)-d(B,2));A=(f+g[2]+g[3]+(A?0:g[0]))/f;c=[h(A*u),h(A*c)];return{height:c[p?0:1],width:c[p?1:0]}}var j=this,k=e.options.style.tip,s=e.elements,t=s.tooltip,r={top:0,left:0,corner:""},F={width:k.width,
height:k.height},z={},B=k.border||0;j.corner=G;j.mimic=G;j.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){j.init()||j.destroy();e.reposition()},"^style.tip.(height|width)$":function(){F={width:k.width,height:k.height};j.create();j.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){s.tip&&j.update()}};b.extend(j,{init:function(){var h=j.detectCorner()&&(b("<canvas/>")[0].getContext||b.browser.msie);if(h){j.create();j.update();t.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",
a)}return h},detectCorner:function(){var h=k.corner,p=e.options.position,c=p.at;p=p.my.string?p.my.string():p.my;if(h===m||p===m&&c===m)return m;else if(h===w)j.corner=new b.fn.qtip.plugins.Corner(p);else if(!h.string){j.corner=new b.fn.qtip.plugins.Corner(h);j.corner.fixed=w}return j.corner.string()!=="centercenter"},detectColours:function(){var h=s.tip.css({backgroundColor:"",border:""}),p=j.corner,c=p[p.precedance],u="border-"+c+"-color";c="border"+c.charAt(0)+c.substr(1)+"Color";var A=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;
p=s.titlebar&&(p.y==="top"||p.y==="center"&&h.position().top+F.height/2+k.offset<s.titlebar.outerHeight(1))?s.titlebar:s.content;z.fill=h.css("background-color")||"transparent";z.border=h[0].style[c];if(!z.fill||A.test(z.fill)){z.fill=p.css("background-color");if(A.test(z.fill))z.fill=t.css("background-color")}if(!z.border||A.test(z.border)){z.border=t.css(u);if(A.test(z.border)||z.border===b(document.body).css("color"))z.border=p.css(u)!==b(e.elements.content).css("color")?p.css(u):"transparent"}b("*",
h).add(h).css("background-color","transparent").css("border","0px dashed transparent")},create:function(){var h=F.width,p=F.height;s.tip&&s.tip.remove();s.tip=b("<div />",{"class":"ui-tooltip-tip"}).css({width:h,height:p}).prependTo(t);if(b.browser.msie){h='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';s.tip.html(B?h+=h:h)}else b("<canvas />").appendTo(s.tip)[0].getContext("2d").save()},update:function(h){var p=s.tip,c=p.children(),
u=F.width,A=F.height,g=k.mimic,d=Math.round,f,i,q;if(!h)h=j.corner;if(g===m)g=h;else{g=new b.fn.qtip.plugins.Corner(g);g.precedance=h.precedance;if(g.x==="inherit")g.x=h.x;else if(g.y==="inherit")g.y=h.y;else if(g.x===g.y)g[h.precedance]=h[h.precedance]}f=g.precedance;j.detectColours();B=z.border==="transparent"||z.border==="#123456"?0:k.border===w?o(h,G,w):k.border;i=ba(g,u,A);q=l(h);p.css(q);p=h.precedance==="y"?[d(g.x==="left"?B:g.x==="right"?q.width-u-B:(q.width-u)/2),d(g.y==="top"?q.height-A:
0)]:[d(g.x==="left"?q.width-u:0),d(g.y==="top"?B:g.y==="bottom"?q.height-A-B:(q.height-A)/2)];if(b.browser.msie){i="m"+i[0][0]+","+i[0][1]+" l"+i[1][0]+","+i[1][1]+" "+i[2][0]+","+i[2][1]+" xe";p[2]=/^(r|b)/i.test(h.string())?1:0;c.css({antialias:""+(g.string().indexOf("center")>-1),left:p[0]-p[2]*Number(f==="x"),top:p[1]-p[2]*Number(f==="y"),width:u+B,height:A+B}).each(function(n){var v=b(this);v.attr({coordsize:u+B+" "+(A+B),path:i,fillcolor:z.fill,filled:!!n,stroked:!!!n}).css({display:B>0||n?
"block":"none"});!n&&B>0&&v.html()===""&&v.html('<vml:stroke weight="'+B*2+'px" color="'+z.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}else{c.attr(q);c=c[0].getContext("2d");c.restore();c.save();c.clearRect(0,0,3E3,3E3);c.translate(p[0],p[1]);c.beginPath();c.moveTo(i[0][0],i[0][1]);c.lineTo(i[1][0],i[1][1]);c.lineTo(i[2][0],i[2][1]);c.closePath();c.fillStyle=z.fill;c.strokeStyle=z.border;c.lineWidth=B*2;c.lineJoin="miter";c.miterLimit=100;
c.stroke();c.fill()}return j.position(h,1)},position:function(h,p){var c=s.tip,u={},A=Math.max(0,k.offset),g,d,f=h.string().charAt(0),i=Math.round;if(k.corner===m||!c)return m;h=h||j.corner;g=h.precedance;d=l(h)[g==="x"?"width":"height"];f=b.browser.msie&&B&&(f==="b"||f==="r")?1:0;b.each(g==="y"?[h.x,h.y]:[h.y,h.x],function(q,n){var v,D;if(n==="center"){v=g==="y"?"left":"top";u[v]="50%";u["margin-"+v]=-i(d/2)+A}else{v=o(h,n,w);D=b.browser.mozilla;var I=h.y+(D?"":"-")+h.x;D=(D?"-moz-":b.browser.webkit?
"-webkit-":"")+(D?"border-radius-"+I:"border-"+I+"-radius");D=parseInt((s.titlebar&&h.y==="top"?s.titlebar:s.content).css(D),10)||parseInt(t.css(D),10)||0;u[n]=q||!B?o(h,n):A+(D>v?D:0)}});u[h[g]]-=d+f;p&&c.css({top:"",bottom:"",left:"",right:"",margin:""}).css(u);return u},destroy:function(){s.tip&&s.tip.remove();t.unbind(".qtip-tip")}});j.init()}function da(e){var a=this,o=e.options.show.modal,l=e.elements,j=l.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();l.overlay.toggle(j.is(":visible"))}};
b.extend(a,{init:function(){if(o.on){j.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(k,s,t){k=k.type.replace("tooltip","");b.isFunction(o[k])?o[k].call(l.overlay,t,s):a[k](t)});a.create();o.blur===w&&l.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var k=b("#qtip-overlay");if(k.length)l.overlay=k;else{l.overlay=b("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",
zIndex:parseInt(j.css("z-index"),10)-1}}).appendTo(document.body);b(M).bind("resize.qtipmodal",function(){l.overlay.css({height:Math.max(b(M).height(),b(document).height()),width:Math.max(b(M).width(),b(document).width())})}).trigger("resize")}},toggle:function(k){var s=l.overlay,t=e.options.show.modal.effect,r=k?"show":"hide";s.stop(w,m);if(b.isFunction(t))t.call(s,k);else t===m?s[r]():s.fadeTo(90,k?0.7:0,function(){k||b(this).hide()})},show:function(){a.toggle(w)},hide:function(){a.toggle(m)},destroy:function(){var k=
w;b("*").each(function(){var s=b(this).data("qtip");if(s&&s.id!==e.id&&s.options.show.modal)return k=m});if(k){l.overlay.remove();b(M).unbind(".qtipmodal")}else l.overlay.unbind(".qtipmodal"+e.id);j.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function ea(e){var a=this,o=e.elements,l=o.tooltip,j=".bgiframe-"+e.id,k="tooltipmove"+j+" tooltipshow"+j;b.extend(a,{init:function(){o.bgiframe=b('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');
o.bgiframe.appendTo(l);l.bind(k,a.adjust)},adjust:function(){var s=e.get("dimensions"),t=e.plugins.tip,r=e.elements.tip,F;F=parseInt(l.css("border-left-width"),10)||0;F={left:-F,top:-F};if(t&&r){t=t.corner.precedance==="x"?["width","left"]:["height","top"];F[t[1]]-=r[t[0]]()}o.bgiframe.css(F).css(s)},destroy:function(){a.iframe.remove();l.unbind(k)}});a.init()}var w=true,m=false,G=null,J="ui-tooltip",X="ui-widget",O="ui-state-disabled",T=".qtip."+J,V=J+"-focus",Z="-31000px";b.fn.qtip=function(e,a,
o){var l=String(e).toLowerCase(),j=G,k=l==="disable"?[w]:b.makeArray(arguments).slice(1,10),s=k[k.length-1],t;if(!arguments.length&&this.data("qtip")||l==="api")return(t=this.data("qtip"))?t:R;else if("string"===typeof e){this.each(function(){var r=b(this).data("qtip");if(!r)return w;if(/option|set/.test(l)&&a)if(o!==R)r.set(a,o);else j=r.get(a);else{if(!r.rendered&&(l==="show"||l==="toggle")){if(s&&s.timeStamp)r.cache.event=s;r.render(1)}else if(l==="enable"){l="disable";k=[m]}r[l]&&r[l].apply(r[l],
k)}});return j!==G?j:this}else if("object"===typeof e||!arguments.length){t=W(b.extend(w,{},e));return b.fn.qtip.bind.call(this,t,s)}};b.fn.qtip.bind=function(e,a){return this.each(function(){function o(F){function z(){r.render(typeof F==="object"||l.show.ready);j.show.unbind(k.show);j.hide.unbind(k.hide)}if(r.cache.disabled)return m;r.cache.event=b.extend({},F);if(l.show.delay>0){clearTimeout(r.timers.show);r.timers.show=setTimeout(z,l.show.delay);k.show!==k.hide&&j.hide.bind(k.hide,function(){clearTimeout(r.timers.show)})}else z()}
var l,j,k,s=e.id=!e.id||e.id===m||e.id.length<1||b("#"+J+"-"+e.id).length?b.fn.qtip.nextid++:e.id,t=".qtip-"+s+"-create",r=$.call(this,s,e);if(r===m)return w;l=r.options;b.each(b.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(r)});j={show:l.show.target,hide:l.hide.target};k={show:String(l.show.event).replace(" ",t+" ")+t,hide:String(l.hide.event).replace(" ",t+" ")+t};j.show.bind(k.show,o);if(l.show.ready||l.prerender)o(a)})};b.each({attr:function(e){var a=b(this),o=a.data("qtip");
return arguments.length===1&&e==="title"&&o&&o.rendered===w?a.data("oldtitle"):G},remove:b.ui?G:function(e,a){b(this).each(function(){if(!a)if(!e||b.filter(e,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})})}},function(e,a){if(!a)return w;b.fn["Old"+e]=b.fn[e];b.fn[e]=function(){return a.apply(this,arguments)||b.fn["Old"+e].apply(this,arguments)}});b(document).ready(function(){var e=document,a=e.body;b(e).bind("mousemove.qtip",function(o){b.fn.qtip.mouse={pageX:o.pageX,
pageY:o.pageY}});e.activeElement===R&&e.addEventListener("focus",function(o){if(o&&o.target)e.activeElement=o.target===e?a:o.target},true)});b.fn.qtip.version="2.0.0pre";b.fn.qtip.nextid=0;b.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");b.fn.qtip.zindex=15E3;b.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();
this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),o=this.y.substr(0,1);return a===o?a:a==="c"||a!=="c"&&o!=="c"?o+a:a+o}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};b.fn.qtip.defaults={prerender:m,id:m,overwrite:w,
metadata:{type:"class"},content:{text:w,attr:"title",title:{text:m,button:m}},position:{my:"top left",at:"bottom right",target:m,container:m,viewport:m,adjust:{x:0,y:0,mouse:w,resize:w},effect:w},show:{target:m,event:"mouseenter",effect:w,delay:90,solo:m,ready:m},hide:{target:m,event:"mouseleave",effect:w,delay:0,fixed:m,inactive:m},style:{classes:"",widget:m},events:{render:G,move:G,show:G,hide:G,toggle:G,focus:G,blur:G}};b.fn.qtip.plugins.ajax=function(e){var a=e.plugins.ajax;return"object"===typeof a?
a:e.plugins.ajax=new aa(e)};b.fn.qtip.plugins.ajax.initialize="render";b.fn.qtip.plugins.ajax.sanitize=function(e){var a=e.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=e.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};b.extend(w,b.fn.qtip.defaults,{content:{ajax:{once:w}}});b.fn.qtip.plugins.tip=function(e){var a=e.plugins.tip;return"object"===typeof a?a:e.plugins.tip=new ca(e)};b.fn.qtip.plugins.tip.initialize="render";b.fn.qtip.plugins.tip.sanitize=function(e){var a=
e.style;if(a&&"tip"in a){a=e.style.tip;if(typeof a!=="object")e.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=w;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&delete a.height;typeof a.border!=="number"&&a.border!==w&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};b.extend(w,b.fn.qtip.defaults,{style:{tip:{corner:w,mimic:m,width:8,height:8,border:w,offset:0}}});b.fn.qtip.plugins.imagemap=function(e,a){function o(B,h){for(var p=0,c=1,
u=1,A=0,g=0,d=B.width,f=B.height;d>0&&f>0&&c>0&&u>0;){d=Math.floor(d/2);f=Math.floor(f/2);if(a.x==="left")c=d;else if(a.x==="right")c=B.width-d;else c+=Math.floor(d/2);if(a.y==="top")u=f;else if(a.y==="bottom")u=B.height-f;else u+=Math.floor(f/2);for(p=h.length;p--;){if(h.length<2)break;A=h[p][0]-B.offset.left;g=h[p][1]-B.offset.top;if(a.x==="left"&&A>=c||a.x==="right"&&A<=c||a.x==="center"&&(A<c||A>B.width-c)||a.y==="top"&&g>=u||a.y==="bottom"&&g<=u||a.y==="center"&&(g<u||g>B.height-u))h.splice(p,
1)}}return{left:h[0][0],top:h[0][1]}}var l=e.attr("shape").toLowerCase(),j=e.attr("coords").split(","),k=[],s=b('img[usemap="#'+e.parent("map").attr("name")+'"]'),t=s.offset(),r={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},F=0,z=0;t.left+=Math.ceil((s.outerWidth()-s.width())/2);t.top+=Math.ceil((s.outerHeight()-s.height())/2);if(l==="poly")for(F=j.length;F--;){z=[parseInt(j[--F],10),parseInt(j[F+1],10)];if(z[0]>r.offset.right)r.offset.right=z[0];if(z[0]<r.offset.left)r.offset.left=
z[0];if(z[1]>r.offset.bottom)r.offset.bottom=z[1];if(z[1]<r.offset.top)r.offset.top=z[1];k.push(z)}else k=b.map(j,function(B){return parseInt(B,10)});switch(l){case "rect":r={width:Math.abs(k[2]-k[0]),height:Math.abs(k[3]-k[1]),offset:{left:k[0],top:k[1]}};break;case "circle":r={width:k[2]+2,height:k[2]+2,offset:{left:k[0],top:k[1]}};break;case "poly":b.extend(r,{width:Math.abs(r.offset.right-r.offset.left),height:Math.abs(r.offset.bottom-r.offset.top)});r.offset=a.string()==="centercenter"?{left:r.offset.left+
r.width/2,top:r.offset.top+r.height/2}:o(r,k.slice());r.width=r.height=0;break}r.offset.left+=t.left;r.offset.top+=t.top;return r};b.fn.qtip.plugins.modal=function(e){var a=e.plugins.modal;return"object"===typeof a?a:e.plugins.modal=new da(e)};b.fn.qtip.plugins.modal.initialize="render";b.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=w};b.extend(w,b.fn.qtip.defaults,
{show:{modal:{on:m,effect:w,blur:w}}});b.fn.qtip.plugins.bgiframe=function(e){if(!(b.browser.msie&&/^6\.[0-9]/.test(b.browser.version)&&b("select, object").length))return m;var a=e.plugins.bgiframe;if(a)return a;else{e.plugins.bgiframe=new ea(e);return e.plugins.bgiframe}};b.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
