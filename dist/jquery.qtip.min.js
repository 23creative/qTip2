/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Tue Jan 18 13:03:31 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(b,M,R){function W(e){var c;if(!e)return m;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};c=e.content.text||m;if(!b.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery))e.content.text=m;if("title"in e.content){if("object"!==typeof e.content.title)e.content.title={text:e.content.title};c=e.content.title.text||m;if(!b.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===
typeof c&&!c.jquery))e.content.title.text=m}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,at:e.position};if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e)if("object"!==typeof e.style)e.style={classes:e.style};b.each(b.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function Y(e,c,t){function n(d){var f,
i=d.split("."),j=c[i[0]];for(d=1;d<i.length;d+=1){f=j[i[d]];if(typeof f==="object"&&!f.jquery&&!f.precedance)j=j[i[d]];else break}return i[d]!==R?[j,i[d]]:[c,i[0]]}function l(d,f){var i={left:0,top:0},j=!b.fn.qtip.plugins.iOS,o=b(f),y;if(f)if(o.css("position")!=="static"){i=l(f);i.left*=-1;i.top*=-1}else if(o.css("overflow")!=="visible"){i.left-=f.scrollLeft;i.top-=f.scrollTop}if(d.offsetParent){do{o=d.offsetParent;y=o===f;i.left+=d.offsetLeft-(j&&o&&!y?o.scrollLeft:0);i.top+=d.offsetTop-(j&&o&&!y?
o.scrollTop:0)}while(d=o)}return i}function k(){return g.css("left")!==Z}function s(){var d=a.elements,f=c.style.widget;g.toggleClass(X,f);d.content.toggleClass(X+"-content",f);d.titlebar&&d.titlebar.toggleClass(X+"-header",f);d.button&&d.button.toggleClass(J+"-icon",!f)}function u(){var d=a.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=G;a.reposition()}}function r(){var d=a.elements,f=c.content.title.button;d.button&&d.button.remove();d.button=f.jquery?f:b("<a />",{"class":"ui-state-default "+
(c.style.widget?"":J+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(b("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));d.button.appendTo(d.titlebar).attr("role","button").hover(function(i){b(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(i){g.hasClass(O)||a.hide(i);return m}).bind("mousedown keydown mouseup keyup mouseout",function(i){b(this).toggleClass("ui-state-active ui-state-focus",i.type.substr(-4)==="down")});a.redraw()}function F(){var d=
a.elements,f=v+"-title";d.titlebar&&u();d.titlebar=b("<div />",{"class":J+"-titlebar "+(c.style.widget?"ui-widget-header":"")}).append(d.title=b("<div />",{id:f,"class":J+"-title","aria-atomic":w})).insertBefore(d.content);if(c.content.title.button)r();else a.rendered===w&&a.redraw()}function A(d){var f=a.elements.title;if(!a.rendered||!d)return m;if(b.isFunction(d))d=d.call(e,a)||"";d.jquery&&d.length>0?f.empty().append(d.css({display:"block"})):f.html(d);a.redraw();a.rendered===w&&a.reposition(a.cache.event)}
function C(d){var f=a.elements.content;if(!a.rendered||!d)return m;if(b.isFunction(d))d=d.call(e,a)||"";d.jquery&&d.length>0?f.empty().append(d.css({display:"block"})):f.html(d);g.queue("fx",function(i){function j(y){o=o.not(y);if(o.length===0){a.redraw();a.rendered===w&&a.reposition(a.cache.event);i()}}var o=b("img:not([height]):not([width])",f);o.each(function(y,D){var I=["abort","error","load","unload",""].join(".qtip-image ");b(this).bind(I,function(){clearTimeout(a.timers.img[y]);j(this)});(function B(){if(D.height)return j(D);
a.timers.img[y]=setTimeout(B,20)})();return w});o.length===0&&j(o)});return a}function h(d,f,i,j){function o(z){if(g.hasClass(O))return m;H.show.trigger("qtip-"+t+"-inactive");clearTimeout(a.timers.show);clearTimeout(a.timers.hide);var x=function(){a.show(z)};if(c.show.delay>0)a.timers.show=setTimeout(x,c.show.delay);else x()}function y(z){if(g.hasClass(O))return m;var x=b(z.relatedTarget||z.target).parents(T)[0]===g[0],S=b(z.relatedTarget||z.target)[0]===H.show[0];clearTimeout(a.timers.show);clearTimeout(a.timers.hide);
if(c.hide.fixed&&(E.target==="mouse"&&x||/mouse(out|leave|move)/.test(z.type)&&(x||S))){z.stopPropagation();z.preventDefault();return m}g.stop(1,1);if(c.hide.delay>0)a.timers.hide=setTimeout(function(){a.hide(z)},c.hide.delay);else a.hide(z)}function D(z){if(g.hasClass(O))return m;clearTimeout(a.timers.inactive);a.timers.inactive=setTimeout(function(){a.hide(z)},c.hide.inactive)}function I(z){if(!a.cache.processing){a.cache.processing=1;k()&&a.reposition(z);a.cache.processing=0}}var B=".qtip-"+t,
E=c.position,H={show:c.show.target,hide:c.hide.target,container:E.container[0]===p?document:E.container},N={show:String(c.show.event).split(" "),hide:String(c.hide.event).split(" ")},P=b.browser.msie&&parseInt(b.browser.version,10)===6;if(i){if(c.hide.fixed){H.hide=H.hide.add(g);g.bind("mouseover"+B,function(){g.hasClass(O)||clearTimeout(a.timers.hide)})}g.bind("mouseenter"+B+" mouseleave"+B,function(z){a[z.type==="mouseenter"?"focus":"blur"](z)})}if(f){if("number"===typeof c.hide.inactive){H.show.bind("qtip-"+
t+"-inactive",D);b.each(b.fn.qtip.inactiveEvents,function(z,x){H.hide.add(a.elements.tooltip).bind(x+B+"-inactive",D)})}b.each(N.hide,function(z,x){var S=b.inArray(x,N.show);if(S>-1&&b(H.hide).add(H.show).length===b(H.hide).length||x==="unfocus"){H.show.bind(x+B,function(K){k()?y(K):o(K)});delete N.show[S]}else H.hide.bind(x+B,y)})}d&&b.each(N.show,function(z,x){H.show.bind(x+B,o)});if(j){if(E.adjust.resize||E.viewport)b(b.event.special.resize?E.viewport:M).bind("resize"+B,I);if(E.viewport||P&&g.css("position")===
"fixed")b(E.viewport).bind("scroll"+B,I);/unfocus/i.test(c.hide.event)&&b(document).bind("mousedown"+B,function(z){b(z.target).parents(T).length===0&&b(z.target).add(e).length>1&&k()&&!g.hasClass(O)&&a.hide(z)});E.target==="mouse"&&b(document).bind("mousemove"+B,function(z){if(E.adjust.mouse&&!g.hasClass(O)&&k())a.reposition(z||b.fn.qtip.mouse)})}}function q(d,f,i,j){j=parseInt(j,10)!==0;var o=".qtip-"+t;f={show:d?c.show.target:G,hide:f?c.hide.target:G,tooltip:i?a.elements.tooltip:G,content:i?a.elements.content:
G,container:j?c.position.container[0]===p?document:c.position.container:G,window:j?M:G};if(a.rendered)b([]).pushStack(b.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(o);else d&&f.show.unbind(o+"-create")}var a=this,p=document.body,v=J+"-"+t,g;a.id=t;a.rendered=m;a.elements={target:e};a.timers={img:[]};a.options=c;a.plugins={};a.cache={event:{},target:G,disabled:m,lastFocus:p};b.extend(a,{render:function(d){if(a.rendered)return m;var f=a.elements,
i=c.content.text,j=c.content.title.text,o=b.Event("tooltiprender");e.attr({"aria-owns":v,"aria-controls":v,"aria-haspopup":w,"aria-describedby":v});g=f.tooltip=b("<div/>").attr({id:v,"class":J+" qtip ui-helper-reset "+c.style.classes,role:"alert","aria-live":"polite","aria-atomic":m,"aria-describedby":v+"-content","aria-hidden":w}).toggleClass(O,a.cache.disabled).data("qtip",a).appendTo(c.position.container).append(f.content=b("<div />",{"class":J+"-content",id:v+"-content","aria-atomic":w}));a.rendered=
w;if(j){F();A(j)}C(i);b.each(b.fn.qtip.plugins,function(){this.initialize==="render"&&this(a)});h(1,1,1,1);b.each(c.events,function(y,D){if(D)g.bind(y==="toggle"?"tooltipshow tooltiphide":"tooltip"+y,D)});g.queue("fx",function(y){o.originalEvent=a.cache.event;g.trigger(o,[a]);if(c.show.ready||d){g.hide();a.show(a.cache.event)}y()});return a},get:function(d){switch(d.toLowerCase()){case "dimensions":d={height:g.outerHeight(),width:g.outerWidth()};break;case "offset":d=l(g[0],c.position.container[0]);
break;default:d=n(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,f){d=d.toLowerCase();var i=n(d),j=a.elements,o,y,D,I={builtin:{"^id$":function(){var B=f===w?b.fn.qtip.nextid:f,E=J+"-"+B;if(B!==m&&B.length>0&&!b("#"+E).length){g[0].id=E;j.content[0].id=E+"-content";j.title[0].id=E+"-title"}},"^content.text$":function(){C(f)},"^content.title.text$":function(){if(!f)return u();!a.elements.title&&f&&F();A(f)},"^content.title.button$":function(){var B=
a.elements.button,E=a.elements.title;if(a.rendered)if(f){E||F();r()}else B.remove()},"^position.(my|at)$":function(){var B=/my$/i.test(d)?"my":"at";if("string"===typeof f)c.position[B]=new b.fn.qtip.plugins.Corner(f)},"^position.container$":function(){a.rendered===w&&g.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(B,E,H,N){var P=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(P[0])B[E]=N;q.apply(a,P[1]);if(P[0])B[E]=H;h.apply(a,
P[1])},"^show.ready$":function(){a.rendered===m&&a.show()},"^style.classes$":function(){g.attr("class",J+" qtip ui-helper-reset "+f)},"^style.widget|content.title":s,"^events.(render|show|move|hide|focus|blur)$":function(B,E,H){j.tooltip[(b.isFunction(f)?"":"un")+"bind"]("tooltip"+E,H)},"^position.(my|at|adjust|target|container)|style|content":function(){a.reposition()}}};b.each(a.plugins,function(B){if("object"===typeof this.checks)I[B]=this.checks});o=i[0][i[1]];i[0][i[1]]=f.nodeType?b(f):f;W(c);
for(y in I)for(D in I[y])RegExp(D,"i").test(d)&&I[y][D].call(a,i[0],i[1],f,o);return a},toggle:function(d,f){function i(){if(d)b.browser.msie&&g[0].style.removeAttribute("filter");else g.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(a.rendered===m)return m;var j=d?"show":"hide",o=c[j],y=k();if((typeof d).search("boolean|number"))d=!y;if(!y&&!d||g.is(":animated"))return a;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(a.cache.event.type)&&f.target===c.show.target[0]&&
g.has(f.relatedTarget).length)return a;a.cache.event=b.extend({},f)}y=b.Event("tooltip"+j);y.originalEvent=f?a.cache.event:G;g.trigger(y,[a,90]);if(y.isDefaultPrevented())return a;g.attr("aria-hidden",!!!d);if(d){g.hide().css({visibility:""});a.focus(f);a.reposition(f,0);o.solo&&b(T).not(g).qtip("hide")}else{clearTimeout(a.timers.show);a.blur(f)}g.stop(1,1);if(b.isFunction(o.effect)){o.effect.call(g,a);g.queue("fx",function(D){i.call(this,D);D()})}else if(o.effect===m){g[j]();i.call(g)}else g.fadeTo(90,
d?1:0,i);d&&o.target.trigger("qtip-"+t+"-inactive");return b.fn.qtip.lastShown=a},show:function(d){a.toggle(w,d)},hide:function(d){a.toggle(m,d)},focus:function(d){if(a.rendered===m)return m;var f=b(T),i=parseInt(g[0].style.zIndex,10),j=b.fn.qtip.zindex+f.length;d=b.extend({},d);if(!g.hasClass(V)){if(i!==j){f.each(function(){if(this.style.zIndex>i)this.style.zIndex-=1});b(T+"."+V).qtip("blur",d)}a.cache.lastFocus=document.activeElement;f=b.Event("tooltipfocus");f.originalEvent=d;g.trigger(f,[a,j]);
if(!f.isDefaultPrevented())g.addClass(V)[0].style.zIndex=j}return a},blur:function(d){d=b.extend({},d);var f;g.removeClass(V);f=b.Event("tooltipblur");f.originalEvent=d;g.trigger(f,[a])},reposition:function(d,f){if(a.rendered===m)return m;var i=c.position.target,j=c.position,o=j.my,y=j.at,D=j.adjust,I=g.outerWidth(),B=g.outerHeight(),E=0,H=0,N=b.Event("tooltipmove"),P=g.css("position")==="fixed",z=j.viewport.jquery?j.viewport:b(M),x={left:0,top:0},S={left:function(K){var L=z.scrollLeft,Q=y.x==="left"?
E:y.x==="right"?-E:-E/2,U=L-K;L=K+I-z.width-L;Q=(o.x==="left"?I:o.x==="right"?-I:-I/2)-(o.precedance==="x"||o.x===o.y?Q:0);if(U>0&&(o.x!=="left"||L>0))x.left-=Q;else if(L>0&&(o.x!=="right"||U>0))x.left-=(o.x==="center"?-1:1)*Q+2*D.x;if(x.left<0&&-x.left>L)x.left=K;return x.left-K},top:function(K){var L=z.scrollTop,Q=y.y==="top"?H:y.y==="bottom"?-H:-H/2,U=L-K;L=K+B-z.height-L;Q=(o.y==="top"?B:o.y==="bottom"?-B:-B/2)-(o.precedance==="y"||o.x===o.y?Q:0);if(U>0&&(o.y!=="top"||L>0))x.top-=Q;else if(L>
0&&(o.y!=="bottom"||U>0))x.top-=(o.y==="center"?-1:1)*Q+2*D.y;if(x.top<0&&-x.top>L)x.top=K;return x.top-K}};f=f===R||!!f||m;z=!z?m:{elem:z,height:z[(z[0]===M?"h":"outerH")+"eight"](),width:z[(z[0]===M?"w":"outerW")+"idth"](),scrollLeft:z.scrollLeft(),scrollTop:z.scrollTop()};if(i==="mouse"){y={x:"left",y:"top"};d=d&&(d.type==="resize"||d.type==="scroll")?a.cache.event:D.mouse||!d||!d.pageX?b.extend({},b.fn.qtip.mouse):d;x={top:d.pageY,left:d.pageX}}else{if(i==="event")i=d&&d.target&&d.type!=="scroll"&&
d.type!=="resize"?a.cache.target=b(d.target):a.cache.target;i=b(i).eq(0);if(i.length===0)return a;else if(i[0]===document||i[0]===M){E=i.width();H=i.height();if(i[0]===M)x={top:P?0:z.scrollTop,left:P?0:z.scrollLeft}}else if(i.is("area")&&b.fn.qtip.plugins.imagemap){x=b.fn.qtip.plugins.imagemap(i,y);E=x.width;H=x.height;x=x.offset}else{E=i.outerWidth();H=i.outerHeight();x=l(i[0],j.container[0])}x.left+=y.x==="right"?E:y.x==="center"?E/2:0;x.top+=y.y==="bottom"?H:y.y==="center"?H/2:0}x.left+=D.x+(o.x===
"right"?-I:o.x==="center"?-I/2:0);x.top+=D.y+(o.y==="bottom"?-B:o.y==="center"?-B/2:0);x.adjusted=j.viewport.jquery&&i[0]!==M&&i[0]!==p?{left:S.left(x.left),top:S.top(x.top)}:{left:0,top:0};g.attr("class",function(){return b(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(J+"-pos-"+o.abbreviation());N.originalEvent=b.extend({},d);g.trigger(N,[a,x,z.elem]);if(N.isDefaultPrevented())return a;delete x.adjusted;if(!f||!isNaN(x.left,x.top))g.css(x);else if(k()&&b.isFunction(j.effect)){j.effect.call(g,
a,x);g.queue(function(K){b(this).css({opacity:"",height:""});b.browser.msie&&this.style&&this.style.removeAttribute("filter");K()})}return a},redraw:function(){if(!a.rendered||!(b.browser.msie&&b.browser.version<8))return m;var d=J+"-fluid",f;g.css({width:"auto",height:"auto"}).addClass(d);f={height:g.outerHeight(),width:g.outerWidth()};b.each(["width","height"],function(i,j){var o=parseInt(g.css("max-"+j),10)||0,y=parseInt(g.css("min-"+j),10)||0;f[j]=o+y?Math.min(Math.max(f[j],y),o):f[j]});g.css(f).removeClass(d)},
disable:function(d){var f=O;if("boolean"!==typeof d)d=!(g.hasClass(f)||a.cache.disabled);if(a.rendered){g.toggleClass(f,d);g.attr("aria-disabled",d)}else a.cache.disabled=!!d;return a},destroy:function(){var d=e.data("oldtitle");if(a.rendered){g.remove();b.each(a.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(a.timers.show);clearTimeout(a.timers.hide);q(1,1,1,1);e.removeData("qtip");d&&e.attr("title",d);e.removeAttr("aria-describedby");return e}})}function $(e,c){var t,
n,l=b(this),k=b(document.body),s=this===document?k:l;n=l.metadata?l.metadata(c.metadata):G;var u=b.extend(w,{},b.fn.qtip.defaults,c,W((n&&c.metadata.type==="html5"?n[c.metadata.name]:G)||n));l.removeData("metadata");n=u.position;if("boolean"===typeof u.content.text)if(u.content.attr!==m&&l.attr(u.content.attr))u.content.text=l.attr(u.content.attr);else return m;if(n.container===m)n.container=k;if(n.target===m)n.target=s;if(u.show.target===m)u.show.target=s;if(u.hide.target===m)u.hide.target=s;if(u.position.viewport===
w)u.position.viewport=n.container;n.at=new b.fn.qtip.plugins.Corner(n.at);n.my=new b.fn.qtip.plugins.Corner(n.my);if(l.data("qtip"))if(u.overwrite)l.qtip("destroy");else if(u.overwrite===m)return m;l.attr("title")&&l.data("oldtitle",l.attr("title")).removeAttr("title");t=new Y(l,u,e);l.data("qtip",t);l.bind("remove.qtip",function(){t.destroy()});return t}function aa(e){var c=this,t=e.elements.tooltip,n=e.options.content.ajax;c.checks={"^content.ajax":function(l,k){if(k==="once")c.once();else n&&n.url&&
c.load()}};b.extend(c,{init:function(){if(n&&n.url){c.load();t.one("tooltipshow",c.once)}},once:function(){n.once?c.destroy():t.bind("tooltipshow.qtip-ajax",c.load)},load:function(){b.ajax(b.extend({success:function(l){e.set("content.text",l)},error:function(l,k,s){e.set("content.text",k+": "+s)},context:e},n));return c},destroy:function(){t.unbind(".qtip-ajax")}});c.init()}function ba(e){function c(h,q,a){if(s.tip){h=b.extend({},l.corner);q=a.adjusted;var p;if(l.corner.fixed!==w){if(q.left)h.x=h.x===
"center"?q.left>0?"left":"right":h.x==="left"?"right":"left";if(q.top)h.y=h.y==="center"?q.top>0?"top":"bottom":h.y==="top"?"bottom":"top";if(h.string()!==r.corner&&(r.top!==q.top||r.left!==q.left))p=l.update(h)}p||(p=l.position(h,0));if(p.right!==R)p.left=p.right;if(p.bottom!==R)p.top=p.bottom;p.option=Math.max(0,k.offset);a.left-=p.left.charAt?p.option:(p.right?-1:1)*p.left;a.top-=p.top.charAt?p.option:(p.bottom?-1:1)*p.top;r.left=q.left;r.top=q.top;r.corner=h.string()}}function t(h,q,a){q=!q?h[h.precedance]:
q;q="border-"+q+"-width";h=parseInt((s.titlebar&&h.y==="top"?s.titlebar:s.content).css(q),10);return(a?h||parseInt(u.css(q),10):h)||0}function n(h){var q=h.precedance==="y",a=F[q?"width":"height"],p=F[q?"height":"width"];h=h.string().indexOf("center")>-1;var v=a*(h?0.5:1),g=Math.pow,d=Math.sqrt(g(v,2)+g(p,2));v=[C/v*d,C/p*d];v[2]=Math.sqrt(g(v[0],2)-g(C,2));v[3]=Math.sqrt(g(v[1],2)-g(C,2));h=(d+v[2]+v[3]+(h?0:v[0]))/d;a=[h*p,h*a];return{height:a[q?0:1],width:a[q?1:0]}}var l=this,k=e.options.style.tip,
s=e.elements,u=s.tooltip,r={top:0,left:0,corner:""},F={width:k.width,height:k.height},A={},C=k.border||0;l.corner=G;l.mimic=G;l.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){l.init()||l.destroy();e.reposition()},"^style.tip.(height|width)$":function(){F={width:k.width,height:k.height};l.create();l.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){s.tip&&l.update()}};b.extend(l,{init:function(){var h=l.detectCorner()&&(b("<canvas/>")[0].getContext||
b.browser.msie);if(h){l.create();l.update();u.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",c)}return h},detectCorner:function(){var h=k.corner,q=e.options.position,a=q.at;q=q.my.string?q.my.string():q.my;if(h===m||q===m&&a===m)return m;else if(h===w)l.corner=new b.fn.qtip.plugins.Corner(q);else if(!h.string){l.corner=new b.fn.qtip.plugins.Corner(h);l.corner.fixed=w}return l.corner.string()!=="centercenter"},detectColours:function(){var h=s.tip.css({backgroundColor:"",border:""}),q=l.corner,a=q[q.precedance],
p="border-"+a+"-color";a="border"+a.charAt(0)+a.substr(1)+"Color";var v=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;q=s.titlebar&&(q.y==="top"||q.y==="center"&&h.position().top+F.height/2+k.offset<s.titlebar.outerHeight(1))?s.titlebar:s.content;A.fill=h.css("background-color")||"transparent";A.border=h[0].style[a];if(!A.fill||v.test(A.fill)){A.fill=q.css("background-color");if(v.test(A.fill))A.fill=u.css("background-color")}if(!A.border||v.test(A.border)){A.border=u.css(p);if(v.test(A.border)||A.border===
b(document.body).css("color"))A.border=q.css(p)!==b(e.elements.content).css("color")?q.css(p):"transparent"}b("*",h).add(h).css("background-color","transparent").css("border","0px dashed transparent")},create:function(){var h=F.width,q=F.height;s.tip&&s.tip.remove();s.tip=b("<div />",{"class":"ui-tooltip-tip"}).css({width:h,height:q}).prependTo(u);if(b.browser.msie){h='<vml:shape coordorigin="0,0" stroked="false" style="behavior:url(#default#VML);  display:inline-block; position:absolute; antialias:true;"></vml:shape>';
s.tip.html(C?h+=h:h)}else b("<canvas />").appendTo(s.tip)[0].getContext("2d").save()},update:function(h){var q=s.tip,a=q.children(),p=F.width,v=F.height,g=k.mimic,d=Math.round,f,i,j;if(!h)h=l.corner;if(g===m)g=h;else{g=new b.fn.qtip.plugins.Corner(g);g.precedance=h.precedance;if(g.x==="inherit")g.x=h.x;else if(g.y==="inherit")g.y=h.y;else if(g.x===g.y)g[h.precedance]=h[h.precedance]}f=g.precedance;l.detectColours();C=A.border==="transparent"||A.border==="#123456"?0:k.border===w?t(h,G,w):k.border;
i=g;j=Math.ceil(p/2);var o=Math.ceil(v/2);j={bottomright:[[0,0],[p,v],[p,0]],bottomleft:[[0,0],[p,0],[0,v]],topright:[[0,v],[p,0],[p,v]],topleft:[[0,0],[0,v],[p,v]],topcenter:[[0,v],[j,0],[p,v]],bottomcenter:[[0,0],[p,0],[j,v]],rightcenter:[[0,0],[p,o],[0,v]],leftcenter:[[p,0],[p,v],[0,o]]};j.lefttop=j.bottomright;j.righttop=j.bottomleft;j.leftbottom=j.topright;j.rightbottom=j.topleft;i=j[i.string()];j=n(h);j={width:d(j.width),height:d(j.height)};q.css(j);q=h.precedance==="y"?[Math.round(g.x==="left"?
C:g.x==="right"?j.width-p-C:(j.width-p)/2),Math.ceil(g.y==="top"?j.height-v:0)]:[Math.ceil(g.x==="left"?j.width-p:0),Math.round(g.y==="top"?C:g.y==="bottom"?j.height-v-C:(j.height-v)/2)];if(b.browser.msie){i="m"+i[0][0]+","+i[0][1]+" l"+i[1][0]+","+i[1][1]+" "+i[2][0]+","+i[2][1]+" xe";a.attr({coordsize:p+C+" "+(v+C),fillcolor:A.fill,path:i}).css({antialias:""+(g.string().indexOf("center")>-1),left:q[0]-Number(f==="x"),top:q[1]-Number(f==="y"),width:d(p+C),height:d(v+C)});if(C>0){a=a.eq(0);a.css({left:d(q[0]),
top:d(q[1])}).attr({filled:m,stroked:w});a.html()===""&&a.html('<vml:stroke weight="'+C*2+'px" color="'+A.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:inline-block;" />')}}else{a.attr(j);a=a[0].getContext("2d");a.restore();a.save();a.clearRect(0,0,3E3,3E3);a.translate(q[0],q[1]);a.beginPath();a.moveTo(i[0][0],i[0][1]);a.lineTo(i[1][0],i[1][1]);a.lineTo(i[2][0],i[2][1]);a.closePath();a.fillStyle=A.fill;a.strokeStyle=A.border;a.lineWidth=C*2;a.lineJoin="miter";
a.miterLimit=100;a.stroke();a.fill()}return l.position(h,1)},position:function(h,q){var a=s.tip,p={},v=Math.max(0,k.offset),g,d,f=h.string().charAt(0),i=Math.round;if(k.corner===m||!a)return m;h=h||l.corner;g=h.precedance;d=n(h)[g==="x"?"width":"height"];f=b.browser.msie&&C&&(f==="b"||f==="r")?1:0;b.each(g==="y"?[h.x,h.y]:[h.y,h.x],function(j,o){var y,D;if(o==="center"){y=g==="y"?"left":"top";p[y]="50%";p["margin-"+y]=-i(d/2)+v}else{y=t(h,o,w);D=b.browser.mozilla;var I=h.y+(D?"":"-")+h.x;D=(D?"-moz-":
b.browser.webkit?"-webkit-":"")+(D?"border-radius-"+I:"border-"+I+"-radius");D=parseInt((s.titlebar&&h.y==="top"?s.titlebar:s.content).css(D),10)||parseInt(u.css(D),10)||0;p[o]=j||!C?t(h,o):v+(D>y?D:0)}});p[h[g]]-=i(d)+f;q&&a.css({top:"",bottom:"",left:"",right:"",margin:""}).css(p);return p},destroy:function(){s.tip&&s.tip.remove();u.unbind(".qtip-tip")}});l.init()}function ca(e){var c=this,t=e.options.show.modal,n=e.elements,l=n.tooltip;c.checks={"^show.modal.(on|blur)$":function(){c.init();n.overlay.toggle(l.is(":visible"))}};
b.extend(c,{init:function(){if(t.on){l.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(k,s,u){k=k.type.replace("tooltip","");b.isFunction(t[k])?t[k].call(n.overlay,u,s):c[k](u)});c.create();t.blur===w&&n.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var k=b("#qtip-overlay");if(k.length)n.overlay=k;else{n.overlay=b("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",
zIndex:parseInt(l.css("z-index"),10)-1}}).appendTo(document.body);b(M).bind("resize.qtipmodal",function(){n.overlay.css({height:Math.max(b(M).height(),b(document).height()),width:Math.max(b(M).width(),b(document).width())})}).trigger("resize")}},toggle:function(k){var s=n.overlay,u=e.options.show.modal.effect,r=k?"show":"hide";s.stop(w,m);if(b.isFunction(u))u.call(s,k);else u===m?s[r]():s.fadeTo(90,k?0.7:0,function(){k||b(this).hide()})},show:function(){c.toggle(w)},hide:function(){c.toggle(m)},destroy:function(){var k=
w;b("*").each(function(){var s=b(this).data("qtip");if(s&&s.id!==e.id&&s.options.show.modal)return k=m});if(k){n.overlay.remove();b(M).unbind(".qtipmodal")}else n.overlay.unbind(".qtipmodal"+e.id);l.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});c.init()}function da(e){var c=this,t=e.elements,n=t.tooltip,l=".bgiframe-"+e.id,k="tooltipmove"+l+" tooltipshow"+l;b.extend(c,{init:function(){t.bgiframe=b('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');
t.bgiframe.appendTo(n);n.bind(k,c.adjust)},adjust:function(){var s=e.get("dimensions"),u=e.plugins.tip,r=e.elements.tip,F;F=parseInt(n.css("border-left-width"),10)||0;F={left:-F,top:-F};if(u&&r){u=u.corner.precedance==="x"?["width","left"]:["height","top"];F[u[1]]-=r[u[0]]()}t.bgiframe.css(F).css(s)},destroy:function(){c.iframe.remove();n.unbind(k)}});c.init()}var w=true,m=false,G=null,J="ui-tooltip",X="ui-widget",O="ui-state-disabled",T=".qtip."+J,V=J+"-focus",Z="-31000px";b.fn.qtip=function(e,c,
t){var n=String(e).toLowerCase(),l=G,k=n==="disable"?[w]:b.makeArray(arguments).slice(1,10),s=k[k.length-1],u;if(!arguments.length&&this.data("qtip")||n==="api")return(u=this.data("qtip"))?u:R;else if("string"===typeof e){this.each(function(){var r=b(this).data("qtip");if(!r)return w;if(/option|set/.test(n)&&c)if(t!==R)r.set(c,t);else l=r.get(c);else{if(!r.rendered&&(n==="show"||n==="toggle")){if(s&&s.timeStamp)r.cache.event=s;r.render(1)}else if(n==="enable"){n="disable";k=[m]}r[n]&&r[n].apply(r[n],
k)}});return l!==G?l:this}else if("object"===typeof e||!arguments.length){u=W(b.extend(w,{},e));return b.fn.qtip.bind.call(this,u,s)}};b.fn.qtip.bind=function(e,c){return this.each(function(){function t(F){function A(){r.render(typeof F==="object"||n.show.ready);l.show.unbind(k.show);l.hide.unbind(k.hide)}if(r.cache.disabled)return m;r.cache.event=b.extend({},F);if(n.show.delay>0){clearTimeout(r.timers.show);r.timers.show=setTimeout(A,n.show.delay);k.show!==k.hide&&l.hide.bind(k.hide,function(){clearTimeout(r.timers.show)})}else A()}
var n,l,k,s=e.id=!e.id||e.id===m||e.id.length<1||b("#"+J+"-"+e.id).length?b.fn.qtip.nextid++:e.id,u=".qtip-"+s+"-create",r=$.call(this,s,e);if(r===m)return w;n=r.options;b.each(b.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(r)});l={show:n.show.target,hide:n.hide.target};k={show:String(n.show.event).replace(" ",u+" ")+u,hide:String(n.hide.event).replace(" ",u+" ")+u};l.show.bind(k.show,t);if(n.show.ready||n.prerender)t(c)})};b.each({attr:function(e){var c=b(this),t=c.data("qtip");
return arguments.length===1&&e==="title"&&t&&t.rendered===w?c.data("oldtitle"):G},remove:b.ui?G:function(e,c){b(this).each(function(){if(!c)if(!e||b.filter(e,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})})}},function(e,c){if(!c)return w;b.fn["Old"+e]=b.fn[e];b.fn[e]=function(){return c.apply(this,arguments)||b.fn["Old"+e].apply(this,arguments)}});b(document).ready(function(){var e=document,c=e.body;b(e).bind("mousemove.qtip",function(t){b.fn.qtip.mouse={pageX:t.pageX,
pageY:t.pageY}});e.activeElement===R&&e.addEventListener("focus",function(t){if(t&&t.target)e.activeElement=t.target===e?c:t.target},true)});b.fn.qtip.version="2.0.0pre";b.fn.qtip.nextid=0;b.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");b.fn.qtip.zindex=15E3;b.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();
this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var c=this.x.substr(0,1),t=this.y.substr(0,1);return c===t?c:c==="c"||c!=="c"&&t!=="c"?t+c:c+t}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};b.fn.qtip.defaults={prerender:m,id:m,overwrite:w,
metadata:{type:"class"},content:{text:w,attr:"title",title:{text:m,button:m}},position:{my:"top left",at:"bottom right",target:m,container:m,viewport:m,adjust:{x:0,y:0,mouse:w,resize:w},effect:w},show:{target:m,event:"mouseenter",effect:w,delay:90,solo:m,ready:m},hide:{target:m,event:"mouseleave",effect:w,delay:0,fixed:m,inactive:m},style:{classes:"",widget:m},events:{render:G,move:G,show:G,hide:G,toggle:G,focus:G,blur:G}};b.fn.qtip.plugins.ajax=function(e){var c=e.plugins.ajax;return"object"===typeof c?
c:e.plugins.ajax=new aa(e)};b.fn.qtip.plugins.ajax.initialize="render";b.fn.qtip.plugins.ajax.sanitize=function(e){var c=e.content;if(c&&"ajax"in c){c=c.ajax;if(typeof c!=="object")c=e.content.ajax={url:c};if("boolean"!==typeof c.once&&c.once)c.once=!!c.once}};b.extend(w,b.fn.qtip.defaults,{content:{ajax:{once:w}}});b.fn.qtip.plugins.tip=function(e){var c=e.plugins.tip;return"object"===typeof c?c:e.plugins.tip=new ba(e)};b.fn.qtip.plugins.tip.initialize="render";b.fn.qtip.plugins.tip.sanitize=function(e){var c=
e.style;if(c&&"tip"in c){c=e.style.tip;if(typeof c!=="object")e.style.tip={corner:c};if(!/string|boolean/i.test(typeof c.corner))c.corner=w;typeof c.width!=="number"&&delete c.width;typeof c.height!=="number"&&delete c.height;typeof c.border!=="number"&&c.border!==w&&delete c.border;typeof c.offset!=="number"&&delete c.offset}};b.extend(w,b.fn.qtip.defaults,{style:{tip:{corner:w,mimic:m,width:8,height:8,border:w,offset:0}}});b.fn.qtip.plugins.imagemap=function(e,c){function t(C,h){for(var q=0,a=1,
p=1,v=0,g=0,d=C.width,f=C.height;d>0&&f>0&&a>0&&p>0;){d=Math.floor(d/2);f=Math.floor(f/2);if(c.x==="left")a=d;else if(c.x==="right")a=C.width-d;else a+=Math.floor(d/2);if(c.y==="top")p=f;else if(c.y==="bottom")p=C.height-f;else p+=Math.floor(f/2);for(q=h.length;q--;){if(h.length<2)break;v=h[q][0]-C.offset.left;g=h[q][1]-C.offset.top;if(c.x==="left"&&v>=a||c.x==="right"&&v<=a||c.x==="center"&&(v<a||v>C.width-a)||c.y==="top"&&g>=p||c.y==="bottom"&&g<=p||c.y==="center"&&(g<p||g>C.height-p))h.splice(q,
1)}}return{left:h[0][0],top:h[0][1]}}var n=e.attr("shape").toLowerCase(),l=e.attr("coords").split(","),k=[],s=b('img[usemap="#'+e.parent("map").attr("name")+'"]'),u=s.offset(),r={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},F=0,A=0;u.left+=Math.ceil((s.outerWidth()-s.width())/2);u.top+=Math.ceil((s.outerHeight()-s.height())/2);if(n==="poly")for(F=l.length;F--;){A=[parseInt(l[--F],10),parseInt(l[F+1],10)];if(A[0]>r.offset.right)r.offset.right=A[0];if(A[0]<r.offset.left)r.offset.left=
A[0];if(A[1]>r.offset.bottom)r.offset.bottom=A[1];if(A[1]<r.offset.top)r.offset.top=A[1];k.push(A)}else k=b.map(l,function(C){return parseInt(C,10)});switch(n){case "rect":r={width:Math.abs(k[2]-k[0]),height:Math.abs(k[3]-k[1]),offset:{left:k[0],top:k[1]}};break;case "circle":r={width:k[2]+2,height:k[2]+2,offset:{left:k[0],top:k[1]}};break;case "poly":b.extend(r,{width:Math.abs(r.offset.right-r.offset.left),height:Math.abs(r.offset.bottom-r.offset.top)});r.offset=c.string()==="centercenter"?{left:r.offset.left+
r.width/2,top:r.offset.top+r.height/2}:t(r,k.slice());r.width=r.height=0;break}r.offset.left+=u.left;r.offset.top+=u.top;return r};b.fn.qtip.plugins.modal=function(e){var c=e.plugins.modal;return"object"===typeof c?c:e.plugins.modal=new ca(e)};b.fn.qtip.plugins.modal.initialize="render";b.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=w};b.extend(w,b.fn.qtip.defaults,
{show:{modal:{on:m,effect:w,blur:w}}});b.fn.qtip.plugins.bgiframe=function(e){if(!(b.browser.msie&&/^6\.[0-9]/.test(b.browser.version)&&b("select, object").length))return m;var c=e.plugins.bgiframe;if(c)return c;else{e.plugins.bgiframe=new da(e);return e.plugins.bgiframe}};b.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
