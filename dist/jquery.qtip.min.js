/*
* qTip2 - Pretty pwoerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Thu Dec 30 18:01:42 2010 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null;
(function(c,H,M){function N(f){var b;if(!f)return FALSE;if("object"!==typeof f.metadata)f.metadata={type:f.metadata};if("content"in f){if("object"!==typeof f.content||f.content.jquery)f.content={text:f.content};b=f.content.text||FALSE;if(!c.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))b=f.content.text=FALSE;if("title"in f.content&&"object"!==typeof f.content.title)f.content.title={text:f.content.title}}if("position"in f)if("object"!==typeof f.position)f.position={my:f.position,
at:f.position};if("show"in f)if("object"!==typeof f.show)f.show=f.show.jquery?{target:f.show}:{event:f.show};if("hide"in f)if("object"!==typeof f.hide)f.hide=f.hide.jquery?{target:f.hide}:{event:f.hide};if("style"in f&&"object"!==typeof f.style)f.style={classes:f.style};c.each(c.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(f)});return f}function P(f,b,p){function g(d){var e,h=d.split("."),k=b[h[0]];for(d=1;d<h.length;d+=1){e=k[h[d]];if(typeof e==="object"&&!e.jquery&&!e.precedance)k=k[h[d]];
else break}return h[d]!==M?[k,h[d]]:[b,h[0]]}function n(d,e){var h={left:0,top:0},k=!c.fn.qtip.plugins.iOS,j,q;if(e){h=n(e);h.left*=-1;h.top*=-1}if(d.offsetParent){do{j=d.offsetParent;q=j===e;h.left+=d.offsetLeft-(k&&j&&!q?j.scrollLeft:0);h.top+=d.offsetTop-(k&&j&&!q?j.scrollTop:0)}while(d=j)}return h}function l(d,e){var h=a.elements.tooltip,k=m+"-accessible "+(e?m+"-accessible-fluid":""),j=!h.is(":visible"),q=FALSE;if(!a.rendered)return FALSE;j&&h.addClass(k);switch(d){case "dimensions":q={height:h.outerHeight(),
width:h.outerWidth()};break;case "position":q=n(h[0],b.position.container);break}j&&h.removeClass(k);return q}function w(){var d=a.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=NULL;d.tooltip.removeAttr("aria-labelledby")}}function r(){var d=a.elements,e=b.content.title.button;d.button&&d.button.remove();d.button=e.jquery?e:"string"===typeof e?c("<a />",{html:e}):c("<a />",{"class":"ui-state-default",title:"Close tooltip"}).prepend(c("<span />",{"class":(b.style.widget?"ui":
m)+"-icon ui-icon-close"}));d.button.prependTo(d.titlebar).attr("role","button").addClass(m+"-close").hover(function(h){c(this).toggleClass("ui-state-hover",h.type==="mouseenter")}).click(function(){d.tooltip.hasClass("ui-state-disabled")||a.hide();return FALSE}).bind("mousedown keydown mouseup keyup mouseout",function(h){c(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(h.type))});a.redraw()}function o(){var d=a.elements;d.titlebar&&w();d.titlebar=c("<div />",{"class":m+"-titlebar "+
(b.style.widget?"ui-widget-header":"")}).append(d.title=c("<div />",{id:m+"-"+p+"-title","class":m+"-title",html:b.content.title.text})).prependTo(d.tooltip);if(b.content.title.button)r();else a.rendered===TRUE&&a.redraw()}function A(d){var e=a.elements;if(!a.rendered||!d)return FALSE;if(c.isFunction(d))d=d.call(f);d.jquery&&d.length>0?e.content.empty().append(d.css({display:"block"})):e.content.html(d);e.tooltip.queue("fx",function(h){function k(q){j=j.not(q);if(j.length===0){a.redraw();a.rendered===
TRUE&&a.reposition(a.cache.event);h()}}var j=c("img:not([height]):not([width])",a.elements.content);j.each(function(q,z){var C=["abort","error","load","unload",""].join(".qtip-image ");c(this).bind(C,function(){clearTimeout(a.timers.img[q]);k(this)});(function y(){if(z.height)return k(z);a.timers.img[q]=setTimeout(y,20)})();return TRUE});j.length===0&&k(j)});return a}function B(d,e,h,k){function j(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;t.show.trigger("qtip-"+p+"-inactive");clearTimeout(a.timers.show);
clearTimeout(a.timers.hide);var s=function(){a.show(u)};if(b.show.delay>0)a.timers.show=setTimeout(s,b.show.delay);else s()}function q(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;var s=c(u.relatedTarget||u.target).parents(x)[0]===t.tooltip[0],J=c(u.relatedTarget||u.target)[0]===t.show[0];clearTimeout(a.timers.show);clearTimeout(a.timers.hide);if(b.hide.fixed&&(v.target==="mouse"&&s||/mouse(out|leave|move)/.test(u.type)&&(s||J))){u.stopPropagation();u.preventDefault();return FALSE}t.tooltip.stop(1,
1);if(b.hide.delay>0)a.timers.hide=setTimeout(function(){a.hide(u)},b.hide.delay);else a.hide(u)}function z(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;clearTimeout(a.timers.inactive);a.timers.inactive=setTimeout(function(){a.hide(u)},b.hide.inactive)}function C(u){if(!a.cache.processing){a.cache.processing=1;a.elements.tooltip.is(":visible")&&a.reposition(u);a.cache.processing=0}}var y=".qtip-"+p,v=b.position,t={show:b.show.target,hide:b.hide.target,tooltip:a.elements.tooltip,container:v.container[0]===
document.body?document:v.container},G={show:String(b.show.event).split(" "),hide:String(b.hide.event).split(" ")},K=c.browser.msie&&parseInt(c.browser.version,10)===6;if(h&&b.hide.fixed){t.hide=t.hide.add(t.tooltip);t.tooltip.bind("mouseover"+y,function(){t.tooltip.hasClass("ui-state-disabled")||clearTimeout(a.timers.hide)})}if(e){if("number"===typeof b.hide.inactive){t.show.bind("qtip-"+p+"-inactive",z);c.each(c.fn.qtip.inactiveEvents,function(u,s){t.hide.add(a.elements.tooltip).bind(s+y+"-inactive",
z)})}c.each(G.hide,function(u,s){var J=c.inArray(s,G.show);if(J>-1&&c(t.hide).add(t.show).length===c(t.hide).length||s==="unfocus"){t.show.bind(s+y,function(E){t.tooltip.is(":visible")?q(E):j(E)});delete G.show[J]}else t.hide.bind(s+y,q)})}if(d){c.each(G.show,function(u,s){t.show.bind(s+y,j)});t.tooltip.bind("mouseover"+y,function(){a.focus()})}if(k){if(v.adjust.resize||v.viewport)c(c.event.special.resize?v.viewport:H).bind("resize"+y,C);if(v.viewport||K&&t.tooltip.css("position")==="fixed")c(v.viewport).bind("scroll"+
y,C);/unfocus/i.test(b.hide.event)&&c(document).bind("mousedown"+y,function(u){var s=a.elements.tooltip;c(u.target).parents(x).length===0&&c(u.target).add(f).length>1&&s.is(":visible")&&!s.hasClass("ui-state-disabled")&&a.hide(u)});v.target==="mouse"&&c(document).bind("mousemove"+y,function(u){if(v.adjust.mouse&&!t.tooltip.hasClass("ui-state-disabled")&&t.tooltip.is(":visible"))a.reposition(u||c.fn.qtip.mouse)})}}function D(d,e,h,k){k=parseInt(k,10)!==0;var j=".qtip-"+p;e={show:d?b.show.target:NULL,
hide:e?b.hide.target:NULL,tooltip:h?a.elements.tooltip:NULL,content:h?a.elements.content:NULL,container:k?b.position.container[0]===document.body?document:b.position.container:NULL,window:k?H:NULL};if(a.rendered)c([]).pushStack(c.grep([e.show,e.hide,e.tooltip,e.container,e.content,e.window],function(){return this!==null})).unbind(j);else d&&e.show.unbind(j+"-create")}var a=this,m="ui-tooltip",x=".qtip."+m;a.id=p;a.rendered=FALSE;a.elements={target:f};a.cache={event:{},target:NULL,disabled:FALSE,position:NULL};
a.timers={img:[]};a.options=b;a.plugins={};c.extend(a,{render:function(d){var e=a.elements,h=c.Event("tooltiprender");if(a.rendered)return FALSE;a.rendered=d?-2:-1;e.tooltip=c("<div/>").attr({id:m+"-"+p,role:"tooltip","class":m+" qtip ui-tooltip-accessible ui-helper-reset "+b.style.classes}).css("z-index",c.fn.qtip.zindex+c(x).length).toggleClass("ui-widget",b.style.widget).toggleClass("ui-state-disabled",a.cache.disabled).data("qtip",a).appendTo(b.position.container);e.content=c("<div />",{"class":m+
"-content "+(b.style.widget?"ui-widget-content":""),id:m+"-"+p+"-content"}).appendTo(e.tooltip);b.content.title.text&&o();A(b.content.text);c.each(c.fn.qtip.plugins,function(){this.initialize==="render"&&this(a)});a.rendered=TRUE;B(1,1,1,1);c.each(b.events,function(k,j){if(j)e.tooltip.bind(k==="toggle"?"tooltipshow tooltiphide":"tooltip"+k,j)});e.tooltip.queue("fx",function(k){e.tooltip.removeClass("ui-tooltip-accessible");h.originalEvent=a.cache.event;e.tooltip.trigger(h,[a]);if(b.show.ready||d){e.tooltip.hide();
a.show(a.cache.event)}k()});return a},get:function(d){switch(d.toLowerCase()){case "offset":d=l("position");break;case "dimensions":d=l("dimensions");break;default:d=g(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,e){d=d.toLowerCase();var h=g(d),k=a.elements,j=k.tooltip,q,z,C,y={builtin:{id:function(){var v=e===TRUE?c.fn.qtip.nextid:e,t=m+"-"+v;if(v!==FALSE&&v.length>0&&!c("#ui-tooltip-"+v).length){j[0].id=t;k.content[0].id=t+"-content";
k.title[0].id=t+"-title"}},"^content.text":function(){A(e)},"^content.title.text":function(){if(a.rendered)if(!a.elements.title&&e){o();a.reposition()}else e?a.elements.title.html(e):w()},"^content.title.button":function(){var v=a.elements.button,t=a.elements.title;if(a.rendered)if(e){t||o();r()}else v.remove()},"^position.(my|at)$":function(){var v=/my$/i.test(d)?"my":"at";if("string"===typeof e)b.position[v]=new c.fn.qtip.plugins.Corner(e)},"^position.(my|at|adjust|target)":function(){a.rendered&&
a.reposition()},"^position.container$":function(){if(a.rendered===TRUE){j.appendTo(e);a.reposition()}},"^(show|hide).(event|target|fixed|delay|inactive)":function(v,t,G,K){var u=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(u[0])v[t]=K;D.apply(a,u[1]);if(u[0])v[t]=G;B.apply(a,u[1])},"^show.ready$":function(){a.rendered===FALSE&&a.show()},"^style.classes$":function(){a.elements.tooltip.attr("class",m+" qtip ui-helper-reset "+e)},"^style.widget$":function(){var v=
!!e;j.toggleClass("ui-widget",v);k.titlebar.toggleClass("ui-widget-header",v);k.content.toggleClass("ui-widget-content",v);k.button.children("span").toggleClass(m+"-icon",!v).toggleClass("ui-icon",v)},"^events.(render|show|move|hide|focus|blur)":function(v,t,G){k.tooltip[(c.isFunction(e)?"":"un")+"bind"]("tooltip"+t,G)}}};c.each(a.plugins,function(v){if("object"===typeof this.checks)y[v]=this.checks});q=h[0][h[1]];h[0][h[1]]=e.nodeType?c(e):e;N(b);for(z in y)for(C in y[z])RegExp(C,"i").test(d)&&y[z][C].call(a,
h[0],h[1],e,q);return a},toggle:function(d,e){function h(){var C=c(this),y=d?"attr":"removeAttr",v=/^1|0$/.test(C.css("opacity")),t=this.style;a.elements.title&&f[y]("aria-labelledby",m+"-"+p+"-title");f[y]("aria-describedby",m+"-"+p+"-content");if(d){if(c.browser.msie&&t&&v){t.removeAttribute("filter");t.removeAttribute("opacity")}}else v&&C.hide()}if(a.rendered===FALSE)return FALSE;var k=d?"show":"hide",j=a.elements.tooltip,q=b[k],z=j.is(":visible");if((typeof d).search("boolean|number"))d=!j.is(":visible");
if(!z&&!d||j.is(":animated"))return a;if(e){if(/over|enter/.test(e.type)&&/out|leave/.test(a.cache.event.type)&&e.target===b.show.target[0]&&j.has(e.relatedTarget).length)return a;a.cache.event=c.extend({},e)}z=c.Event("tooltip"+k);z.originalEvent=e?a.cache.event:NULL;j.trigger(z,[a,90]);if(z.isDefaultPrevented())return a;if(d){a.focus();a.reposition(e);q.solo&&c(x).qtip("hide")}else clearTimeout(a.timers.show);j.attr("aria-hidden",Boolean(!d));j.stop(1,1);if(c.isFunction(q.effect)){q.effect.call(j,
a);j.queue(function(){h.call(this);c(this).dequeue()})}else if(q.effect===FALSE){j[k]();h.call(j)}else j.fadeTo(90,d?1:0,h);d&&q.target.trigger("qtip-"+p+"-inactive");return a},show:function(d){a.toggle(TRUE,d)},hide:function(d){a.toggle(FALSE,d)},focus:function(d){if(a.rendered===FALSE)return FALSE;var e=a.elements.tooltip,h=c(x),k=parseInt(e[0].style.zIndex,10),j=c.fn.qtip.zindex+h.length,q=m+"-focus",z=c.extend({},d);if(!e.hasClass(q)&&k!==j){h.each(function(){this.style.zIndex-=1});c(x+"."+q).each(function(){var C=
c(this),y=C.qtip(),v;if(!y||y.rendered===FALSE)return TRUE;C.removeClass(q);v=c.Event("tooltipblur");v.originalEvent=z;C.trigger(v,[y,j])});d=c.Event("tooltipfocus");d.originalEvent=z;e.trigger(d,[a,j]);if(!d.isDefaultPrevented())e.addClass(q)[0].style.zIndex=j}return a},reposition:function(d){if(a.rendered===FALSE)return FALSE;var e=b.position.target,h=a.elements.tooltip,k=b.position,j=k.my,q=k.at,z=k.adjust,C=a.elements.tooltip.outerWidth(),y=a.elements.tooltip.outerHeight(),v=0,t=0,G=c.Event("tooltipmove"),
K=h.css("position")==="fixed",u=k.viewport.jquery?k.viewport:FALSE,s={left:0,top:0},J={left:function(E){var F=u.scrollLeft,I=q.x==="left"?v:q.x==="right"?-v:-v/2,L=F-E;F=E+C-u.width-F;I=(j.x==="left"?C:j.x==="right"?-C:-C/2)-(j.precedance==="x"||j.x===j.y?I:0);if(L>0&&(j.x!=="left"||F>0))s.left-=I;else if(F>0&&(j.x!=="right"||L>0))s.left-=(j.x==="center"?-1:1)*I+2*z.x;if(s.left<0&&-s.left>F)s.left=E;return s.left-E},top:function(E){var F=u.scrollTop,I=q.y==="top"?t:q.y==="bottom"?-t:-t/2,L=F-E;F=
E+y-u.height-F;I=(j.y==="top"?y:j.y==="bottom"?-y:-y/2)-(j.precedance==="y"||j.x===j.y?I:0);if(L>0&&(j.y!=="top"||F>0))s.top-=I;else if(F>0&&(j.y!=="bottom"||L>0))s.top-=(j.y==="center"?-1:1)*I+2*z.y;if(s.top<0&&-s.top>F)s.top=E;return s.top-E}};u=!u?FALSE:{elem:u,height:u[(u[0]===H?"h":"outerH")+"eight"](),width:u[(u[0]===H?"w":"outerW")+"idth"](),scrollLeft:u.scrollLeft(),scrollTop:u.scrollTop()};if(e==="mouse"){q={x:"left",y:"top"};d=d&&(d.type==="resize"||d.type==="scroll")?a.cache.event:z.mouse||
!d||!d.pageX?c.extend({},c.fn.qtip.mouse):d;s={top:d.pageY,left:d.pageX}}else{if(e==="event")e=d&&d.target&&d.type!=="scroll"&&d.type!=="resize"?a.cache.target=c(d.target):a.cache.target;e=c(e).eq(0);if(e.length===0)return a;else if(e[0]===document||e[0]===H){v=e.width();t=e.height();if(e[0]===H)s={top:K?0:u.scrollTop,left:K?0:u.scrollLeft}}else if(e.is("area")&&c.fn.qtip.plugins.imagemap){s=c.fn.qtip.plugins.imagemap(e,q);v=s.width;t=s.height;s=s.offset}else{v=e.outerWidth();t=e.outerHeight();s=
n(e[0],k.container[0])}s.left+=q.x==="right"?v:q.x==="center"?v/2:0;s.top+=q.y==="bottom"?t:q.y==="center"?t/2:0}s.left+=z.x+(j.x==="right"?-C:j.x==="center"?-C/2:0);s.top+=z.y+(j.y==="bottom"?-y:j.y==="center"?-y/2:0);s.adjusted=u&&e[0]!==H&&e[0]!==document.body?{left:J.left(s.left),top:J.top(s.top)}:{left:0,top:0};h.attr("class",function(){return c(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(m+"-pos-"+j.abbreviation());G.originalEvent=c.extend({},d);h.trigger(G,[a,s,u.elem]);
if(G.isDefaultPrevented())return a;delete s.adjusted;if(h.is(":visible")&&c.isFunction(k.effect)){k.effect.call(h,a,s);h.queue(function(){var E=c(this);E.css({opacity:"",height:""});c.browser.msie&&this.style&&this.style.removeAttribute("filter");E.dequeue()})}else isNaN(s.left,s.top)||h.css(s);return a},redraw:function(){if(!a.rendered||!(c.browser.msie&&parseInt(c.browser.version.charAt(0),10)<9))return FALSE;var d=a.elements.tooltip;d.attr("style");var e;d.css({width:"auto",height:"auto"});e=l("dimensions",
1);c.each(["width","height"],function(h,k){var j=parseInt(d.css("max-"+k),10)||0,q=parseInt(d.css("min-"+k),10)||0;e[k]=j+q?Math.min(Math.max(e[k],q),j):e[k]});d.css(e)},disable:function(d){var e=a.elements.tooltip;if("boolean"!==typeof d)d=!(e.hasClass("ui-state-disabled")||a.cache.disabled);if(a.rendered)e.toggleClass("ui-state-disabled",d);else a.cache.disabled=!!d;return a},destroy:function(){var d=a.elements,e=d.target.data("oldtitle");if(a.rendered){d.tooltip.remove();c.each(a.plugins,function(){this.initialize===
"render"&&this.destroy()})}clearTimeout(a.timers.show);clearTimeout(a.timers.hide);D(1,1,1,1);f.removeData("qtip");e&&f.attr("title",e);f.removeAttr("aria-describedby");return f}})}function Q(f,b){var p,g,n=c(this),l=c(document.body),w=this===document?l:n;g=n.metadata?n.metadata(b.metadata):NULL;var r=c.extend(TRUE,{},c.fn.qtip.defaults,b,N((g&&b.metadata.type==="html5"?g[b.metadata.name]:NULL)||g));n.removeData("metadata");g=r.position;if("boolean"===typeof r.content.text)if(r.content.attr!==FALSE&&
n.attr(r.content.attr))r.content.text=n.attr(r.content.attr);else return FALSE;if(g.container===FALSE)g.container=l;if(g.target===FALSE)g.target=w;if(r.show.target===FALSE)r.show.target=w;if(r.hide.target===FALSE)r.hide.target=w;g.at=new c.fn.qtip.plugins.Corner(g.at);g.my=new c.fn.qtip.plugins.Corner(g.my);if(n.data("qtip"))if(r.overwrite)n.qtip("destroy");else if(r.overwrite===FALSE)return FALSE;n.attr("title")&&n.data("oldtitle",n.attr("title")).removeAttr("title");p=new P(n,r,f);n.data("qtip",
p);n.bind("remove.qtip",function(){p.destroy()});return p}function R(f){var b=this,p=f.elements.tooltip,g=f.options.content.ajax;b.checks={"^content.ajax":function(n,l){if(l==="once")b.once();else g&&g.url&&b.load()}};c.extend(b,{init:function(){if(g&&g.url){b.load();b.once()}},once:function(){g.once?b.destroy():p.bind("tooltipshow.ajax",function(){b.load()})},load:function(){c.ajax(c.extend({success:function(n){f.set("content.text",n)},error:function(n,l,w){f.set("content.text",l+": "+w)},context:f},
g));return b},destroy:function(){p.unbind(".ajax")}});b.init()}function O(f,b,p){var g=Math.ceil(b/2),n=Math.ceil(p/2);b={bottomright:[[0,0],[b,p],[b,0]],bottomleft:[[0,0],[b,0],[0,p]],topright:[[0,p],[b,0],[b,p]],topleft:[[0,0],[0,p],[b,p]],topcenter:[[0,p],[g,0],[b,p]],bottomcenter:[[0,0],[b,0],[g,p]],rightcenter:[[0,0],[b,n],[0,p]],leftcenter:[[b,0],[b,p],[0,n]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[f.string()]}function S(f){function b(a,
m,x){if(l.tip){a=c.extend({},g.corner);m=x.adjusted;var d;if(g.corner.fixed!==TRUE){if(m.left)a.x=a.x==="center"?m.left>0?"left":"right":a.x==="left"?"right":"left";if(m.top)a.y=a.y==="center"?m.top>0?"top":"bottom":a.y==="top"?"bottom":"top";if(a.string()!==r.corner&&(r.top!==m.top||r.left!==m.left))d=g.update(a)}d||(d=g.position(a,0));if(d.right)d.left=d.right;if(d.bottom)d.top=d.bottom;d.option=Math.max(0,n.offset);x.left-=d.left.charAt?d.option:(d.right?-1:1)*d.left;x.top-=d.top.charAt?d.option:
(d.bottom?-1:1)*d.top;r.left=m.left;r.top=m.top;r.corner=a.string()}}function p(a,m){var x=l.titlebar&&a.y==="top"?l.titlebar:l.content;m=!m?a[a.precedance]:m;return parseInt(x.css("border-"+m+"-width"),10)||0}var g=this,n=f.options.style.tip,l=f.elements,w=l.tooltip,r={top:0,left:0,corner:""},o={width:n.width,height:n.height},A={},B=n.border||0,D=n.method||FALSE;g.corner=NULL;g.mimic=NULL;g.checks={"^position.my|style.tip.(corner|mimic|method|border)":function(){if(g.init())f.get("position.target")!==
"mouse"&&f.reposition();else g.destroy()},"^style.tip.(height|width)":function(){o={width:n.width,height:n.height};g.create();g.update();f.reposition()},"^style.(classes|widget)$":function(){g.detectColours();g.update()}};c.extend(g,{init:function(){var a=g.detectCorner();if(a){if(D!=="polygon")D=c("<canvas />")[0].getContext?"canvas":c.browser.msie?"vml":"polygon";g.create();g.detectColours();B=n.border===TRUE?p(g.corner):n.border;g.update();w.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",b)}return a},
detectCorner:function(){var a=n.corner,m=f.options.position,x=m.at;m=m.my.string?m.my.string():m.my;if(a===FALSE||m===FALSE&&x===FALSE)return FALSE;else if(a===TRUE)g.corner=new c.fn.qtip.plugins.Corner(m);else if(!a.string){g.corner=new c.fn.qtip.plugins.Corner(a);g.corner.fixed=TRUE}return g.corner.string()!=="centercenter"},detectColours:function(){var a=l.tip.css({backgroundColor:"",border:""}),m=g.corner,x=m[m.precedance],d="border-"+x+"-color";x="border"+x.charAt(0)+x.substr(1)+"Color";var e=
/rgba?\(0, 0, 0(, 0)?\)|transparent/i;m=l.titlebar&&m.y==="top"?l.titlebar:l.content;A.fill=a.css("background-color")||"transparent";A.border=a[0].style[x];if(!A.fill||e.test(A.fill)){A.fill=m.css("background-color");if(e.test(A.fill))A.fill=w.css("background-color")}if(!A.border||e.test(A.border)){A.border=m.css(d);if(e.test(A.border))A.border=w.css(d)||A.fill}c("*",a).add(a).css("background-color","transparent").css("border",0)},create:function(){var a=o.width,m=o.height;l.tip&&l.tip.remove();l.tip=
c("<div />",{"class":"ui-tooltip-tip"}).css(o).toggleClass("ui-widget-content",f.options.style.widget).prependTo(w);switch(D){case "canvas":c('<canvas height="'+m+'" width="'+a+'" />').appendTo(l.tip)[0].getContext("2d").save();break;case "vml":a='<vml:shape coordorigin="0,0" coordsize="'+a+" "+m+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+a+"px; height:"+m+'px;"></vml:shape>';l.tip.html(B?a+=a:a);break;
case "polygon":l.tip.append('<div class="ui-tooltip-tip-inner" />').append(B?'<div class="ui-tooltip-tip-border" />':"");break}},update:function(a){var m=l.tip.children(),x=o.width,d=o.height,e=n.mimic,h,k,j,q;if(!a)a=g.corner;if(e===FALSE)e=a;else{e=new c.fn.qtip.plugins.Corner(e);e.precedance=a.precedance;if(e.x==="inherit")e.x=a.x;else if(e.y==="inherit")e.y=a.y;else if(e.x===e.y)e[a.precedance]=a[a.precedance]}B=n.border===TRUE?p(a):n.border;i=B>0?0:1;j=e.string().indexOf("center")>-1;q=Math[/b|r/.test(e[e.precedance===
"y"?"x":"y"])?"ceil":"floor"];switch(D){case "canvas":h=m.get(0).getContext("2d");h.restore&&h.restore();h.clearRect(0,0,3E3,3E3);for(k=O(e,x,d);i<2;i++){if(i){h.save();h.translate(q((e.x==="left"?1:e.x==="right"?-1:0)*(B+1)*(e.precedance==="y"?0.5:1)),q((e.y==="top"?1:e.y==="bottom"?-1:0)*(B+1)*(e.precedance==="x"?0.5:1)))}h.beginPath();h.moveTo(k[0][0],k[0][1]);h.lineTo(k[1][0],k[1][1]);h.lineTo(k[2][0],k[2][1]);h.closePath();h.fillStyle=A[i?"fill":"border"];h.fill()}break;case "vml":k=O(e,x,d);
k="m"+k[0][0]+","+k[0][1]+" l"+k[1][0]+","+k[1][1]+" "+k[2][0]+","+k[2][1]+" xe";m.each(function(z){c(this).attr({path:k,fillcolor:A[z||!B?"fill":"border"]}).css("antialias",""+j)});break;case "polygon":m.removeAttr("style").css({position:"absolute",left:0,top:0}).each(function(z){var C={x:e.precedance==="x"?e.x==="left"?"right":"left":e.x,y:e.precedance==="y"?e.y==="top"?"bottom":"top":e.y},y=e.x==="center"?["left","right",C.y,d,x]:["top","bottom",C.x,x,d];z=A[!z&&B?"border":"fill"];e.x==="center"||
e.y==="center"?c(this).css("border-"+y[2],y[3]+"px solid "+z).css("border-"+y[0],q(y[4]/2)+"px dashed transparent").css("border-"+y[1],q(y[4]/2)+"px dashed transparent"):c(this).css("border-width",q(d/2)+"px "+q(x/2)+"px").css("border-"+C.x,q(x/2)+"px solid "+z).css("border-"+C.y,q(d/2)+"px solid "+z)});break}if(D!=="canvas"&&B){h=[B*2.75,B];h=e.precedance==="y"?[e.x==="left"?h[1]:e.x==="right"?-h[1]:0,e.y==="bottom"?-h[0]:h[0]]:[e.x==="left"?h[0]:-h[0],e.y==="bottom"?-h[1]:e.y==="top"?h[1]:0];m.eq(1).css({left:h[0],
top:h[1]})}return g.position(a,1)},position:function(a,m){var x=l.tip,d={},e=Math.max(0,n.offset),h,k;if(n.corner===FALSE||!x)return FALSE;a=a||g.corner;h=a.precedance;k=o[h==="x"?"width":"height"];c.each(h==="y"?[a.x,a.y]:[a.y,a.x],function(j,q){if(q==="center"){var z=h==="y"?"left":"top";d[z]="50%";d["margin-"+z]=-Math.floor(k/2)+e}else d[q]=j||!B?p(a,q):e});d[a[h]]-=k;m&&x.css({top:"",bottom:"",left:"",right:"",margin:""}).css(d);return d},destroy:function(){l.tip&&l.tip.remove();w.unbind(".qtip-tip")}});
g.init()}function T(f){var b=this,p=f.options.show.modal,g=f.elements,n=g.tooltip;b.checks={"^show.modal.(on|blur)$":function(){b.init();g.overlay.toggle(n.is(":visible"))}};c.extend(b,{init:function(){if(p.on){n.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(l,w,r){l=l.type.replace("tooltip","");c.isFunction(p[l])?p[l].call(g.overlay,r,w):b[l](r)});b.create();p.blur===TRUE&&g.overlay.unbind(".qtipmodal"+f.id).bind("click.qtipmodal"+f.id,function(){f.hide.call(f)})}},
create:function(){var l=c("#qtip-overlay");if(l.length)g.overlay=l;else{g.overlay=c("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(n.css("z-index"),10)-1}}).appendTo(document.body);c(H).bind("resize.qtipmodal",function(){g.overlay.css({height:Math.max(c(H).height(),c(document).height()),width:Math.max(c(H).width(),c(document).width())})}).trigger("resize")}},toggle:function(l){var w=g.overlay,r=f.options.show.modal.effect,o=l?"show":"hide";
w.stop(TRUE,FALSE);if(c.isFunction(r))r.call(w,l);else r===FALSE?w[o]():w.fadeTo(90,l?0.7:0,function(){l||c(this).hide()})},show:function(){b.toggle(TRUE)},hide:function(){b.toggle(FALSE)},destroy:function(){var l=TRUE;c("*").each(function(){var w=c(this).data("qtip");if(w&&w.id!==f.id&&w.options.show.modal)return l=FALSE});if(l){g.overlay.remove();c(H).unbind(".qtipmodal")}else g.overlay.unbind(".qtipmodal"+f.id);n.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});b.init()}function U(f){var b=
this,p=f.elements,g=p.tooltip,n=".bgiframe-"+f.id,l="tooltipmove"+n+" tooltipshow"+n;c.extend(b,{init:function(){p.bgiframe=c('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');p.bgiframe.appendTo(g);g.bind(l,b.adjust)},adjust:function(){var w=f.get("dimensions"),r=f.plugins.tip,o=f.elements.tip,A;A=parseInt(g.css("border-left-width"),10)||0;A={left:-A,top:-A};if(r&&o){r=
r.corner.precedance==="x"?["width","left"]:["height","top"];A[r[1]]-=o[r[0]]()}p.bgiframe.css(A).css(w)},destroy:function(){b.iframe.remove();g.unbind(l)}});b.init()}c.fn.qtip=function(f,b,p){var g=String(f).toLowerCase(),n=NULL,l=g==="disable"?[TRUE]:c.makeArray(arguments).slice(1,10),w=l[l.length-1],r;if(!arguments.length&&this.data("qtip")||g==="api")return(r=this.data("qtip"))?r:M;else if("string"===typeof f){this.each(function(){var o=c(this).data("qtip");if(!o)return TRUE;if(/option|set/.test(g)&&
b)if(p!==M)o.set(b,p);else n=o.get(b);else{if(!o.rendered&&(g==="show"||g==="toggle")){if(w&&w.timeStamp)o.cache.event=w;o.render(1)}else if(g==="enable"){g="disable";l=[FALSE]}o[g]&&o[g].apply(o[g],l)}});return n!==NULL?n:this}else if("object"===typeof f||!arguments.length){r=N(c.extend(TRUE,{},f));return c.fn.qtip.bind.call(this,r,w)}};c.fn.qtip.bind=function(f,b){return this.each(function(){function p(A){function B(){o.render(typeof A==="object"||g.show.ready);n.show.unbind(l.show);n.hide.unbind(l.hide)}
if(o.cache.disabled)return FALSE;o.cache.event=c.extend({},A);if(g.show.delay>0){clearTimeout(o.timers.show);o.timers.show=setTimeout(B,g.show.delay);l.show!==l.hide&&n.hide.bind(l.hide,function(){clearTimeout(o.timers.show)})}else B()}var g,n,l,w=f.id=!f.id||f.id===FALSE||f.id.length<1||c("#ui-tooltip-"+f.id).length?c.fn.qtip.nextid++:f.id,r=".qtip-"+w+"-create",o=Q.call(this,w,f);if(o===FALSE)return TRUE;g=o.options;c.each(c.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(o)});n=
{show:g.show.target,hide:g.hide.target};l={show:String(g.show.event).replace(" ",r+" ")+r,hide:String(g.hide.event).replace(" ",r+" ")+r};n.show.bind(l.show,p);if(g.show.ready||g.prerender)p(b)})};c.each({attr:function(f){var b=c(this),p=b.data("qtip");return arguments.length===1&&f==="title"&&p&&p.rendered===TRUE?b.data("oldtitle"):NULL},remove:c.ui?NULL:function(f,b){c(this).each(function(){if(!b)if(!f||c.filter(f,[this]).length)c("*",this).add(this).each(function(){c(this).triggerHandler("remove")})})}},
function(f,b){if(!b)return TRUE;c.fn["Old"+f]=c.fn[f];c.fn[f]=function(){return b.apply(this,arguments)||c.fn["Old"+f].apply(this,arguments)}});c(document.body).attr("role",function(f,b){return!b?"application":b});c(document).bind("mousemove.qtip",function(f){c.fn.qtip.mouse={pageX:f.pageX,pageY:f.pageY}});c.fn.qtip.version="2.0.0pre";c.fn.qtip.nextid=0;c.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");c.fn.qtip.zindex=15E3;c.fn.qtip.plugins={Corner:function(f){f=
String(f).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(f.match(/left|right/i)||f.match(/center/)||["inherit"])[0].toLowerCase();this.y=(f.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=f.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var b=this.x.substr(0,1),p=this.y.substr(0,1);return b===p?b:b==="c"||b!=="c"&&p!=="c"?p+b:b+p}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||
[0,"4_2"])[1].replace("_","."))<4.1};c.fn.qtip.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,resize:TRUE},effect:TRUE},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",
widget:FALSE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,focus:NULL,blur:NULL}};c.fn.qtip.plugins.ajax=function(f){var b=f.plugins.ajax;return"object"===typeof b?b:f.plugins.ajax=new R(f)};c.fn.qtip.plugins.ajax.initialize="render";c.fn.qtip.plugins.ajax.sanitize=function(f){var b=f.content;if(b&&"ajax"in b){b=b.ajax;if(typeof b!=="object")b=f.content.ajax={url:b};if("boolean"!==typeof b.once&&b.once)b.once=!!b.once}};c.extend(TRUE,c.fn.qtip.defaults,{content:{ajax:{once:TRUE}}});
c.fn.qtip.plugins.tip=function(f){var b=f.plugins.tip;return"object"===typeof b?b:f.plugins.tip=new S(f)};c.fn.qtip.plugins.tip.initialize="render";c.fn.qtip.plugins.tip.sanitize=function(f){var b=f.style;if(b&&"tip"in b){b=f.style.tip;if(typeof b!=="object")f.style.tip={corner:b};if(!/string|boolean/i.test(typeof b.corner))b.corner=true;if(typeof b.method!=="string")b.method=TRUE;if(!/canvas|polygon/i.test(b.method))b.method=TRUE;typeof b.width!=="number"&&delete b.width;typeof b.height!=="number"&&
delete b.height;typeof b.border!=="number"&&b.border!==TRUE&&delete b.border;typeof b.offset!=="number"&&delete b.offset}};c.extend(TRUE,c.fn.qtip.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,method:TRUE,width:8,height:8,border:0,offset:0}}});c.fn.qtip.plugins.imagemap=function(f,b){function p(D,a){for(var m=0,x=1,d=1,e=0,h=0,k=D.width,j=D.height;k>0&&j>0&&x>0&&d>0;){k=Math.floor(k/2);j=Math.floor(j/2);if(b.x==="left")x=k;else if(b.x==="right")x=D.width-k;else x+=Math.floor(k/2);if(b.y==="top")d=
j;else if(b.y==="bottom")d=D.height-j;else d+=Math.floor(j/2);for(m=a.length;m--;){if(a.length<2)break;e=a[m][0]-D.offset.left;h=a[m][1]-D.offset.top;if(b.x==="left"&&e>=x||b.x==="right"&&e<=x||b.x==="center"&&(e<x||e>D.width-x)||b.y==="top"&&h>=d||b.y==="bottom"&&h<=d||b.y==="center"&&(h<d||h>D.height-d))a.splice(m,1)}}return{left:a[0][0],top:a[0][1]}}var g=f.attr("shape").toLowerCase(),n=f.attr("coords").split(","),l=[],w=c('img[usemap="#'+f.parent("map").attr("name")+'"]'),r=w.offset(),o={width:0,
height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},A=0,B=0;r.left+=Math.ceil((w.outerWidth()-w.width())/2);r.top+=Math.ceil((w.outerHeight()-w.height())/2);if(g==="poly")for(A=n.length;A--;){B=[parseInt(n[--A],10),parseInt(n[A+1],10)];if(B[0]>o.offset.right)o.offset.right=B[0];if(B[0]<o.offset.left)o.offset.left=B[0];if(B[1]>o.offset.bottom)o.offset.bottom=B[1];if(B[1]<o.offset.top)o.offset.top=B[1];l.push(B)}else l=c.map(n,function(D){return parseInt(D,10)});switch(g){case "rect":o={width:Math.abs(l[2]-
l[0]),height:Math.abs(l[3]-l[1]),offset:{left:l[0],top:l[1]}};break;case "circle":o={width:l[2]+2,height:l[2]+2,offset:{left:l[0],top:l[1]}};break;case "poly":c.extend(o,{width:Math.abs(o.offset.right-o.offset.left),height:Math.abs(o.offset.bottom-o.offset.top)});o.offset=b.string()==="centercenter"?{left:o.offset.left+o.width/2,top:o.offset.top+o.height/2}:p(o,l.slice());o.width=o.height=0;break}o.offset.left+=r.left;o.offset.top+=r.top;return o};c.fn.qtip.plugins.modal=function(f){var b=f.plugins.modal;
return"object"===typeof b?b:f.plugins.modal=new T(f)};c.fn.qtip.plugins.modal.initialize="render";c.fn.qtip.plugins.modal.sanitize=function(f){if(f.show)if(typeof f.show.modal!=="object")f.show.modal={on:!!f.show.modal};else if(typeof f.show.modal.on==="undefined")f.show.modal.on=TRUE};c.extend(TRUE,c.fn.qtip.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE}}});c.fn.qtip.plugins.bgiframe=function(f){if(!(c.browser.msie&&/^6\.[0-9]/.test(c.browser.version)&&c("select, object").length))return FALSE;
var b=f.plugins.bgiframe;if(b)return b;else{f.plugins.bgiframe=new U(f);return f.plugins.bgiframe}};c.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
