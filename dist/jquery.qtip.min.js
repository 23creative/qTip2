/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Thu Jan 6 01:36:06 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(d,K,O){function U(f){var a;if(!f)return m;if("object"!==typeof f.metadata)f.metadata={type:f.metadata};if("content"in f){if("object"!==typeof f.content||f.content.jquery)f.content={text:f.content};a=f.content.text||m;if(!d.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))a=f.content.text=m;if("title"in f.content&&"object"!==typeof f.content.title)f.content.title={text:f.content.title}}if("position"in f)if("object"!==typeof f.position)f.position={my:f.position,at:f.position};
if("show"in f)if("object"!==typeof f.show)f.show=f.show.jquery?{target:f.show}:{event:f.show};if("hide"in f)if("object"!==typeof f.hide)f.hide=f.hide.jquery?{target:f.hide}:{event:f.hide};if("style"in f)if("object"!==typeof f.style)f.style={classes:f.style};d.each(d.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(f)});return f}function Y(f,a,p){function h(c){var e,g=c.split("."),l=a[g[0]];for(c=1;c<g.length;c+=1){e=l[g[c]];if(typeof e==="object"&&!e.jquery&&!e.precedance)l=l[g[c]];else break}return g[c]!==
O?[l,g[c]]:[a,g[0]]}function n(c,e){var g={left:0,top:0},l=!d.fn.qtip.plugins.iOS,i,r;if(e){g=n(e);g.left*=-1;g.top*=-1}if(c.offsetParent){do{i=c.offsetParent;r=i===e;g.left+=c.offsetLeft-(l&&i&&!r?i.scrollLeft:0);g.top+=c.offsetTop-(l&&i&&!r?i.scrollTop:0)}while(c=i)}return g}function j(){return b.elements.tooltip.css("left")!==V}function v(){var c=b.elements,e=a.style.widget;c.tooltip.toggleClass(W,e);c.content.toggleClass(W+"-content",e);c.titlebar&&c.titlebar.toggleClass(W+"-header",e);c.button&&
c.button.toggleClass(H+"-icon",!e)}function s(){var c=b.elements;if(c.title){c.titlebar.remove();c.titlebar=c.title=c.button=F;c.tooltip.removeAttr("aria-labelledby");b.reposition()}}function o(){var c=b.elements,e=a.content.title.button;c.button&&c.button.remove();c.button=e.jquery?e:d("<a />",{"class":"ui-state-default "+(a.style.widget?"":H+"-icon"),title:"Close"}).prepend(d("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));c.button.prependTo(c.titlebar).attr("role","button").hover(function(g){d(this).toggleClass("ui-state-hover",
g.type==="mouseenter")}).click(function(g){c.tooltip.hasClass(M)||b.hide(g);return m}).bind("mousedown keydown mouseup keyup mouseout",function(g){d(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(g.type))});b.redraw()}function z(){var c=b.elements,e=H+"-"+b.id+"-title";c.titlebar&&s();c.titlebar=d("<div />",{"class":H+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(c.title=d("<div />",{id:e,"class":H+"-title",html:a.content.title.text})).insertBefore(c.content);c.tooltip.attr("aria-labelledby",
e);if(a.content.title.button)o();else b.rendered===t&&b.redraw()}function D(c){var e=b.elements;if(!b.rendered||!c)return m;if(d.isFunction(c))c=c.call(f);c.jquery&&c.length>0?e.content.empty().append(c.css({display:"block"})):e.content.html(c);e.tooltip.queue("fx",function(g){function l(r){i=i.not(r);if(i.length===0){b.redraw();b.rendered===t&&b.reposition(b.cache.event);g()}}var i=d("img:not([height]):not([width])",b.elements.content);i.each(function(r,q){var E=["abort","error","load","unload",
""].join(".qtip-image ");d(this).bind(E,function(){clearTimeout(b.timers.img[r]);l(this)});(function C(){if(q.height)return l(q);b.timers.img[r]=setTimeout(C,20)})();return t});i.length===0&&l(i)});return b}function G(c,e,g,l){function i(A){if(u.tooltip.hasClass(M))return m;u.show.trigger("qtip-"+p+"-inactive");clearTimeout(b.timers.show);clearTimeout(b.timers.hide);var B=function(){b.show(A)};if(a.show.delay>0)b.timers.show=setTimeout(B,a.show.delay);else B()}function r(A){if(u.tooltip.hasClass(M))return m;
var B=d(A.relatedTarget||A.target).parents(Q)[0]===u.tooltip[0],w=d(A.relatedTarget||A.target)[0]===u.show[0];clearTimeout(b.timers.show);clearTimeout(b.timers.hide);if(a.hide.fixed&&(x.target==="mouse"&&B||/mouse(out|leave|move)/.test(A.type)&&(B||w))){A.stopPropagation();A.preventDefault();return m}u.tooltip.stop(1,1);if(a.hide.delay>0)b.timers.hide=setTimeout(function(){b.hide(A)},a.hide.delay);else b.hide(A)}function q(A){if(u.tooltip.hasClass(M))return m;clearTimeout(b.timers.inactive);b.timers.inactive=
setTimeout(function(){b.hide(A)},a.hide.inactive)}function E(A){if(!b.cache.processing){b.cache.processing=1;j()&&b.reposition(A);b.cache.processing=0}}var C=".qtip-"+p,x=a.position,u={show:a.show.target,hide:a.hide.target,tooltip:b.elements.tooltip,container:x.container[0]===y?document:x.container},I={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},P=d.browser.msie&&parseInt(d.browser.version,10)===6;if(g){if(a.hide.fixed){u.hide=u.hide.add(u.tooltip);u.tooltip.bind("mouseover"+
C,function(){u.tooltip.hasClass(M)||clearTimeout(b.timers.hide)})}u.tooltip.bind("mouseenter"+C+" mouseleave"+C,function(A){b[A.type==="mouseenter"?"focus":"blur"](A)})}if(e){if("number"===typeof a.hide.inactive){u.show.bind("qtip-"+p+"-inactive",q);d.each(d.fn.qtip.inactiveEvents,function(A,B){u.hide.add(b.elements.tooltip).bind(B+C+"-inactive",q)})}d.each(I.hide,function(A,B){var w=d.inArray(B,I.show);if(w>-1&&d(u.hide).add(u.show).length===d(u.hide).length||B==="unfocus"){u.show.bind(B+C,function(R){j()?
r(R):i(R)});delete I.show[w]}else u.hide.bind(B+C,r)})}c&&d.each(I.show,function(A,B){u.show.bind(B+C,i)});if(l){if(x.adjust.resize||x.viewport)d(d.event.special.resize?x.viewport:K).bind("resize"+C,E);if(x.viewport||P&&u.tooltip.css("position")==="fixed")d(x.viewport).bind("scroll"+C,E);/unfocus/i.test(a.hide.event)&&d(document).bind("mousedown"+C,function(A){var B=b.elements.tooltip;d(A.target).parents(Q).length===0&&d(A.target).add(f).length>1&&j()&&!B.hasClass(M)&&b.hide(A)});x.target==="mouse"&&
d(document).bind("mousemove"+C,function(A){if(x.adjust.mouse&&!u.tooltip.hasClass(M)&&j())b.reposition(A||d.fn.qtip.mouse)})}}function k(c,e,g,l){l=parseInt(l,10)!==0;var i=".qtip-"+p;e={show:c?a.show.target:F,hide:e?a.hide.target:F,tooltip:g?b.elements.tooltip:F,content:g?b.elements.content:F,container:l?a.position.container[0]===y?document:a.position.container:F,window:l?K:F};if(b.rendered)d([]).pushStack(d.grep([e.show,e.hide,e.tooltip,e.container,e.content,e.window],function(){return this!==null})).unbind(i);
else c&&e.show.unbind(i+"-create")}var b=this,y=document.body;b.id=p;b.rendered=m;b.elements={target:f};b.timers={img:[]};b.options=a;b.plugins={};b.cache={event:{},target:F,disabled:m,lastFocus:y};d.extend(b,{render:function(c){if(b.rendered)return m;var e=b.elements,g=d.Event("tooltiprender");e.tooltip=d("<div/>").attr({id:H+"-"+p,role:"alert","class":H+" qtip ui-helper-reset "+a.style.classes,"aria-describedby":H+"-"+b.id+"-content",tabindex:-1}).toggleClass(M,b.cache.disabled).data("qtip",b).appendTo(a.position.container).append(e.content=
d("<div />",{"class":H+"-content",id:H+"-"+p+"-content"}));b.rendered=t;a.content.title.text&&z();D(a.content.text);d.each(d.fn.qtip.plugins,function(){this.initialize==="render"&&this(b)});G(1,1,1,1);d.each(a.events,function(l,i){if(i)e.tooltip.bind(l==="toggle"?"tooltipshow tooltiphide":"tooltip"+l,i)});e.tooltip.queue("fx",function(l){g.originalEvent=b.cache.event;e.tooltip.trigger(g,[b]);if(a.show.ready||c){e.tooltip.hide();b.show(b.cache.event)}l()});return b},get:function(c){var e=b.elements.tooltip;
switch(c.toLowerCase()){case "dimensions":c={height:e.outerHeight(),width:e.outerWidth()};break;case "offset":c=n(e[0],a.position.container);break;default:c=h(c.toLowerCase());c=c[0].precedance?c[0].string():c[0].jquery?c[0]:c[0][c[1]];break}return c},set:function(c,e){c=c.toLowerCase();var g=h(c),l=b.elements,i=l.tooltip,r,q,E,C={builtin:{"^id$":function(){var x=e===t?d.fn.qtip.nextid:e,u=H+"-"+x;if(x!==m&&x.length>0&&!d("#"+u).length){i[0].id=u;l.content[0].id=u+"-content";l.title[0].id=u+"-title"}},
"^content.text$":function(){D(e)},"^content.title.text$":function(){if(b.rendered)if(!b.elements.title&&e){z();b.reposition()}else e?b.elements.title.html(e):s()},"^content.title.button$":function(){var x=b.elements.button,u=b.elements.title;if(b.rendered)if(e){u||z();o()}else x.remove()},"^position.(my|at)$":function(){var x=/my$/i.test(c)?"my":"at";if("string"===typeof e)a.position[x]=new d.fn.qtip.plugins.Corner(e)},"^position.container$":function(){b.rendered===t&&i.appendTo(e)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(x,
u,I,P){var A=c.search(/fixed/i)>-1?[0,[0,1,1,1]]:[c.substr(0,3),c.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(A[0])x[u]=P;k.apply(b,A[1]);if(A[0])x[u]=I;G.apply(b,A[1])},"^show.ready$":function(){b.rendered===m&&b.show()},"^style.classes$":function(){b.elements.tooltip.attr("class",H+" qtip ui-helper-reset "+e)},"^style.widget|content.title":v,"^events.(render|show|move|hide|focus|blur)$":function(x,u,I){l.tooltip[(d.isFunction(e)?"":"un")+"bind"]("tooltip"+u,I)},"^position.(my|at|adjust|target|container)|style|content":function(){b.reposition()}}};
d.each(b.plugins,function(x){if("object"===typeof this.checks)C[x]=this.checks});r=g[0][g[1]];g[0][g[1]]=e.nodeType?d(e):e;U(a);for(q in C)for(E in C[q])RegExp(E,"i").test(c)&&C[q][E].call(b,g[0],g[1],e,r);return b},toggle:function(c,e){function g(){if(c)d.browser.msie&&i[0].style.removeAttribute("filter");else i.css({display:"block",visibility:"hidden",width:"",opacity:"",left:V,top:V})}if(b.rendered===m)return m;var l=c?"show":"hide",i=b.elements.tooltip,r=a[l],q=j();if((typeof c).search("boolean|number"))c=
!q;if(!q&&!c||i.is(":animated"))return b;if(e){if(/over|enter/.test(e.type)&&/out|leave/.test(b.cache.event.type)&&e.target===a.show.target[0]&&i.has(e.relatedTarget).length)return b;b.cache.event=d.extend({},e)}q=d.Event("tooltip"+l);q.originalEvent=e?b.cache.event:F;i.trigger(q,[b,90]);if(q.isDefaultPrevented())return b;if(c){i.hide().css({visibility:""});b.focus(e);i[0].focus();b.cache.lastFocus.focus();b.reposition(e,0);r.solo&&d(Q).not(i).qtip("hide")}else{clearTimeout(b.timers.show);b.blur(e)}i.attr("aria-hidden",
Boolean(!c));i.stop(1,1);if(d.isFunction(r.effect)){r.effect.call(i,b);i.queue("fx",function(E){g.call(this,E);E()})}else if(r.effect===m){i[l]();g.call(i)}else i.fadeTo(90,c?1:0,g);c&&r.target.trigger("qtip-"+p+"-inactive");return b},show:function(c){b.toggle(t,c)},hide:function(c){b.toggle(m,c)},focus:function(c){if(b.rendered===m)return m;var e=b.elements.tooltip,g=d(Q),l=parseInt(e[0].style.zIndex,10),i=d.fn.qtip.zindex+g.length;c=d.extend({},c);if(!e.hasClass(T)){if(l!==i){g.each(function(){if(this.style.zIndex>
l)this.style.zIndex-=1});d(Q+"."+T).qtip("blur",c)}b.cache.lastFocus=document.activeElement;g=d.Event("tooltipfocus");g.originalEvent=c;e.trigger(g,[b,i]);if(!g.isDefaultPrevented())e.addClass(T)[0].style.zIndex=i}return b},blur:function(c){var e=b.elements.tooltip;c=d.extend({},c);var g;e.removeClass(T);g=d.Event("tooltipblur");g.originalEvent=c;e.trigger(g,[b]);b.cache.lastFocus.focus()},reposition:function(c,e){if(b.rendered===m)return m;var g=a.position.target,l=b.elements.tooltip,i=a.position,
r=i.my,q=i.at,E=i.adjust,C=b.elements.tooltip.outerWidth(),x=b.elements.tooltip.outerHeight(),u=0,I=0,P=d.Event("tooltipmove"),A=l.css("position")==="fixed",B=i.viewport.jquery?i.viewport:d(K),w={left:0,top:0},R={left:function(L){var J=B.scrollLeft,N=q.x==="left"?u:q.x==="right"?-u:-u/2,S=J-L;J=L+C-B.width-J;N=(r.x==="left"?C:r.x==="right"?-C:-C/2)-(r.precedance==="x"||r.x===r.y?N:0);if(S>0&&(r.x!=="left"||J>0))w.left-=N;else if(J>0&&(r.x!=="right"||S>0))w.left-=(r.x==="center"?-1:1)*N+2*E.x;if(w.left<
0&&-w.left>J)w.left=L;return w.left-L},top:function(L){var J=B.scrollTop,N=q.y==="top"?I:q.y==="bottom"?-I:-I/2,S=J-L;J=L+x-B.height-J;N=(r.y==="top"?x:r.y==="bottom"?-x:-x/2)-(r.precedance==="y"||r.x===r.y?N:0);if(S>0&&(r.y!=="top"||J>0))w.top-=N;else if(J>0&&(r.y!=="bottom"||S>0))w.top-=(r.y==="center"?-1:1)*N+2*E.y;if(w.top<0&&-w.top>J)w.top=L;return w.top-L}};e=e===O||!!e||m;B=!B?m:{elem:B,height:B[(B[0]===K?"h":"outerH")+"eight"](),width:B[(B[0]===K?"w":"outerW")+"idth"](),scrollLeft:B.scrollLeft(),
scrollTop:B.scrollTop()};if(g==="mouse"){q={x:"left",y:"top"};c=c&&(c.type==="resize"||c.type==="scroll")?b.cache.event:E.mouse||!c||!c.pageX?d.extend({},d.fn.qtip.mouse):c;w={top:c.pageY,left:c.pageX}}else{if(g==="event")g=c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?b.cache.target=d(c.target):b.cache.target;g=d(g).eq(0);if(g.length===0)return b;else if(g[0]===document||g[0]===K){u=g.width();I=g.height();if(g[0]===K)w={top:A?0:B.scrollTop,left:A?0:B.scrollLeft}}else if(g.is("area")&&d.fn.qtip.plugins.imagemap){w=
d.fn.qtip.plugins.imagemap(g,q);u=w.width;I=w.height;w=w.offset}else{u=g.outerWidth();I=g.outerHeight();w=n(g[0],i.container[0])}w.left+=q.x==="right"?u:q.x==="center"?u/2:0;w.top+=q.y==="bottom"?I:q.y==="center"?I/2:0}w.left+=E.x+(r.x==="right"?-C:r.x==="center"?-C/2:0);w.top+=E.y+(r.y==="bottom"?-x:r.y==="center"?-x/2:0);w.adjusted=i.viewport.jquery&&g[0]!==K&&g[0]!==y?{left:R.left(w.left),top:R.top(w.top)}:{left:0,top:0};l.attr("class",function(){return d(this).attr("class").replace(/ui-tooltip-pos-\w+/i,
"")}).addClass(H+"-pos-"+r.abbreviation());P.originalEvent=d.extend({},c);l.trigger(P,[b,w,B.elem]);if(P.isDefaultPrevented())return b;delete w.adjusted;if(!e||!isNaN(w.left,w.top))l.css(w);else if(j()&&d.isFunction(i.effect)){i.effect.call(l,b,w);l.queue(function(L){d(this).css({opacity:"",height:""});d.browser.msie&&this.style&&this.style.removeAttribute("filter");L()})}return b},redraw:function(){if(!b.rendered||!(d.browser.msie&&parseInt(d.browser.version.charAt(0),10)<9))return m;var c=b.elements.tooltip,
e=H+"-fluid",g;c.css({width:"auto",height:"auto"}).addClass(e);g={height:c.outerHeight(),width:c.outerWidth()};d.each(["width","height"],function(l,i){var r=parseInt(c.css("max-"+i),10)||0,q=parseInt(c.css("min-"+i),10)||0;g[i]=r+q?Math.min(Math.max(g[i],q),r):g[i]});c.css(g).removeClass(e)},disable:function(c){var e=b.elements.tooltip,g=M;if("boolean"!==typeof c)c=!(e.hasClass(g)||b.cache.disabled);if(b.rendered)e.toggleClass(g,c);else b.cache.disabled=!!c;return b},destroy:function(){var c=b.elements,
e=c.target.data("oldtitle");if(b.rendered){c.tooltip.remove();d.each(b.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(b.timers.show);clearTimeout(b.timers.hide);k(1,1,1,1);f.removeData("qtip");e&&f.attr("title",e);f.removeAttr("aria-describedby");return f}})}function Z(f,a){var p,h,n=d(this),j=d(document.body),v=this===document?j:n;h=n.metadata?n.metadata(a.metadata):F;var s=d.extend(t,{},d.fn.qtip.defaults,a,U((h&&a.metadata.type==="html5"?h[a.metadata.name]:F)||h));
n.removeData("metadata");h=s.position;if("boolean"===typeof s.content.text)if(s.content.attr!==m&&n.attr(s.content.attr))s.content.text=n.attr(s.content.attr);else return m;if(h.container===m)h.container=j;if(h.target===m)h.target=v;if(s.show.target===m)s.show.target=v;if(s.hide.target===m)s.hide.target=v;if(s.position.viewport===t)s.position.viewport=h.container;h.at=new d.fn.qtip.plugins.Corner(h.at);h.my=new d.fn.qtip.plugins.Corner(h.my);if(n.data("qtip"))if(s.overwrite)n.qtip("destroy");else if(s.overwrite===
m)return m;n.attr("title")&&n.data("oldtitle",n.attr("title")).removeAttr("title");p=new Y(n,s,f);n.data("qtip",p);n.bind("remove.qtip",function(){p.destroy()});return p}function $(f){var a=this,p=f.elements.tooltip,h=f.options.content.ajax;a.checks={"^content.ajax":function(n,j){if(j==="once")a.once();else h&&h.url&&a.load()}};d.extend(a,{init:function(){if(h&&h.url){a.load();a.once()}},once:function(){h.once?a.destroy():p.bind("tooltipshow.ajax",function(){a.load()})},load:function(){d.ajax(d.extend({success:function(n){f.set("content.text",
n)},error:function(n,j,v){f.set("content.text",j+": "+v)},context:f},h));return a},destroy:function(){p.unbind(".ajax")}});a.init()}function X(f,a,p){var h=Math.ceil(a/2),n=Math.ceil(p/2);a={bottomright:[[0,0],[a,p],[a,0]],bottomleft:[[0,0],[a,0],[0,p]],topright:[[0,p],[a,0],[a,p]],topleft:[[0,0],[0,p],[a,p]],topcenter:[[0,p],[h,0],[a,p]],bottomcenter:[[0,0],[a,0],[h,p]],rightcenter:[[0,0],[a,n],[0,p]],leftcenter:[[a,0],[a,p],[0,n]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;
a.rightbottom=a.topleft;return a[f.string()]}function aa(f){function a(k,b,y){if(j.tip){k=d.extend({},h.corner);b=y.adjusted;var c;if(h.corner.fixed!==t){if(b.left)k.x=k.x==="center"?b.left>0?"left":"right":k.x==="left"?"right":"left";if(b.top)k.y=k.y==="center"?b.top>0?"top":"bottom":k.y==="top"?"bottom":"top";if(k.string()!==s.corner&&(s.top!==b.top||s.left!==b.left))c=h.update(k)}c||(c=h.position(k,0));if(c.right!==O)c.left=c.right;if(c.bottom!==O)c.top=c.bottom;c.option=Math.max(0,n.offset);y.left-=
c.left.charAt?c.option:(c.right?-1:1)*c.left;y.top-=c.top.charAt?c.option:(c.bottom?-1:1)*c.top;s.left=b.left;s.top=b.top;s.corner=k.string()}}function p(k,b,y){b=!b?k[k.precedance]:b;b="border-"+b+"-width";k=parseInt((j.titlebar&&k.y==="top"?j.titlebar:j.content).css(b),10);return(y?k||parseInt(v.css(b),10):k)||0}var h=this,n=f.options.style.tip,j=f.elements,v=j.tooltip,s={top:0,left:0,corner:""},o={width:n.width,height:n.height},z={},D=n.border||0,G=n.method||m;h.corner=F;h.mimic=F;h.checks={"^position.my|style.tip.(corner|mimic|method|border)$":function(){h.init()||
h.destroy();f.reposition()},"^style.tip.(height|width)$":function(){o={width:n.width,height:n.height};h.create();h.update();f.reposition()},"^content.title.text|style.(classes|widget)$":function(){j.tip&&h.update()}};d.extend(h,{init:function(){var k=h.detectCorner();if(k){if(G!=="polygon")G=d("<canvas />")[0].getContext?"canvas":d.browser.msie?"vml":"polygon";h.create();h.update();v.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",a)}return k},detectCorner:function(){var k=n.corner,b=f.options.position,
y=b.at;b=b.my.string?b.my.string():b.my;if(k===m||b===m&&y===m)return m;else if(k===t)h.corner=new d.fn.qtip.plugins.Corner(b);else if(!k.string){h.corner=new d.fn.qtip.plugins.Corner(k);h.corner.fixed=t}return h.corner.string()!=="centercenter"},detectColours:function(){var k=j.tip.css({backgroundColor:"",border:""}),b=h.corner,y=b[b.precedance],c="border-"+y+"-color";y="border"+y.charAt(0)+y.substr(1)+"Color";var e=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;b=j.titlebar&&(b.y==="top"||b.y==="center"&&
k.position().top+o.height/2+n.offset<j.titlebar.outerHeight(1))?j.titlebar:j.content;z.fill=k.css("background-color")||"transparent";z.border=k[0].style[y];if(!z.fill||e.test(z.fill)){z.fill=b.css("background-color");if(e.test(z.fill))z.fill=v.css("background-color")}if(!z.border||e.test(z.border)){z.border=v.css(c);if(e.test(z.border)||z.border===d(document.body).css("color"))z.border=b.css(c)||z.fill}d("*",k).add(k).css("background-color","transparent").css("border",0)},create:function(){var k=
o.width,b=o.height;j.tip&&j.tip.remove();j.tip=d("<div />",{"class":"ui-tooltip-tip"}).css(o).prependTo(v);switch(G){case "canvas":d('<canvas height="'+b+'" width="'+k+'" />').appendTo(j.tip)[0].getContext("2d").save();break;case "vml":k='<vml:shape coordorigin="0,0" coordsize="'+k+" "+b+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+k+"px; height:"+b+'px;"></vml:shape>';j.tip.html(D?k+=k:k);break;case "polygon":j.tip.append('<div class="ui-tooltip-tip-inner" />').append(D?
'<div class="ui-tooltip-tip-border" />':"");break}},update:function(k){var b=j.tip.children(),y=o.width,c=o.height,e=n.mimic,g,l,i,r,q;if(!k)k=h.corner;if(e===m)e=k;else{e=new d.fn.qtip.plugins.Corner(e);e.precedance=k.precedance;if(e.x==="inherit")e.x=k.x;else if(e.y==="inherit")e.y=k.y;else if(e.x===e.y)e[k.precedance]=k[k.precedance]}D=n.border===t?p(k,F,t):n.border;g=D>0?0:1;r=e.string().indexOf("center")>-1;q=Math[/b|r/.test(e[e.precedance==="y"?"x":"y"])?"ceil":"floor"];k=h.position(k,1);h.detectColours();
switch(G){case "canvas":l=b[0].getContext("2d");l.restore&&l.restore();l.clearRect(0,0,3E3,3E3);for(i=X(e,y,c);g<2;g++){if(g){l.save();l.translate(q((e.x==="left"?1:e.x==="right"?-1:0)*(D+1)*(e.precedance==="y"?0.5:1)),q((e.y==="top"?1:e.y==="bottom"?-1:0)*(D+1)*(e.precedance==="x"?0.5:1)))}l.beginPath();l.moveTo(i[0][0],i[0][1]);l.lineTo(i[1][0],i[1][1]);l.lineTo(i[2][0],i[2][1]);l.closePath();l.fillStyle=z[g?"fill":"border"];l.fill()}break;case "vml":i=X(e,y,c);i="m"+i[0][0]+","+i[0][1]+" l"+i[1][0]+
","+i[1][1]+" "+i[2][0]+","+i[2][1]+" xe";b.each(function(E){d(this).attr({path:i,fillcolor:z[E||!D?"fill":"border"]}).css("antialias",""+r)});break;case "polygon":b.removeAttr("style").css({position:"absolute",left:0,top:0}).each(function(E){var C={x:e.precedance==="x"?e.x==="left"?"right":"left":e.x,y:e.precedance==="y"?e.y==="top"?"bottom":"top":e.y},x=e.x==="center"?["left","right",C.y,c,y]:["top","bottom",C.x,y,c];E=z[!E&&D?"border":"fill"];e.x==="center"||e.y==="center"?d(this).css("border-"+
x[2],x[3]+"px solid "+E).css("border-"+x[0],q(x[4]/2)+"px dashed transparent").css("border-"+x[1],q(x[4]/2)+"px dashed transparent"):d(this).css("border-width",q(c/2)+"px "+q(y/2)+"px").css("border-"+C.x,q(y/2)+"px solid "+E).css("border-"+C.y,q(c/2)+"px solid "+E)});break}if(G!=="canvas"&&D){g=[D*2.75,D];g=e.precedance==="y"?[e.x==="left"?g[1]:e.x==="right"?-g[1]:0,e.y==="bottom"?-g[0]:g[0]]:[e.x==="left"?g[0]:-g[0],e.y==="bottom"?-g[1]:e.y==="top"?g[1]:0];b.eq(1).css({left:g[0],top:g[1]})}return k},
position:function(k,b){var y=j.tip,c={},e=Math.max(0,n.offset),g,l;if(n.corner===m||!y)return m;k=k||h.corner;g=k.precedance;l=o[g==="x"?"width":"height"];d.each(g==="y"?[k.x,k.y]:[k.y,k.x],function(i,r){var q;if(r==="center"){q=g==="y"?"left":"top";c[q]="50%";c["margin-"+q]=-Math.floor(l/2)+e}else{q=p(k,r,t);if(i||D===O)q=p(k,r);else{if(q)q=0;else{q=d.browser.mozilla;var E=k.y+(q?"":"-")+k.x;q=(q?"-moz-":d.browser.webkit?"-webkit-":"")+(q?"border-radius-"+E:"border-"+E+"-radius");q=parseInt((j.titlebar&&
k.y==="top"?j.titlebar:j.content).css(q),10)||parseInt(v.css(q),10)||0}q=e+q}c[r]=q}});c[k[g]]-=l;b&&y.css({top:"",bottom:"",left:"",right:"",margin:""}).css(c);return c},destroy:function(){j.tip&&j.tip.remove();v.unbind(".qtip-tip")}});h.init()}function ba(f){var a=this,p=f.options.show.modal,h=f.elements,n=h.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();h.overlay.toggle(n.is(":visible"))}};d.extend(a,{init:function(){if(p.on){n.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(j,v,s){j=j.type.replace("tooltip","");d.isFunction(p[j])?p[j].call(h.overlay,s,v):a[j](s)});a.create();p.blur===t&&h.overlay.unbind(".qtipmodal"+f.id).bind("click.qtipmodal"+f.id,function(){f.hide.call(f)})}},create:function(){var j=d("#qtip-overlay");if(j.length)h.overlay=j;else{h.overlay=d("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(n.css("z-index"),10)-1}}).appendTo(document.body);d(K).bind("resize.qtipmodal",function(){h.overlay.css({height:Math.max(d(K).height(),
d(document).height()),width:Math.max(d(K).width(),d(document).width())})}).trigger("resize")}},toggle:function(j){var v=h.overlay,s=f.options.show.modal.effect,o=j?"show":"hide";v.stop(t,m);if(d.isFunction(s))s.call(v,j);else s===m?v[o]():v.fadeTo(90,j?0.7:0,function(){j||d(this).hide()})},show:function(){a.toggle(t)},hide:function(){a.toggle(m)},destroy:function(){var j=t;d("*").each(function(){var v=d(this).data("qtip");if(v&&v.id!==f.id&&v.options.show.modal)return j=m});if(j){h.overlay.remove();
d(K).unbind(".qtipmodal")}else h.overlay.unbind(".qtipmodal"+f.id);n.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function ca(f){var a=this,p=f.elements,h=p.tooltip,n=".bgiframe-"+f.id,j="tooltipmove"+n+" tooltipshow"+n;d.extend(a,{init:function(){p.bgiframe=d('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');p.bgiframe.appendTo(h);h.bind(j,a.adjust)},
adjust:function(){var v=f.get("dimensions"),s=f.plugins.tip,o=f.elements.tip,z;z=parseInt(h.css("border-left-width"),10)||0;z={left:-z,top:-z};if(s&&o){s=s.corner.precedance==="x"?["width","left"]:["height","top"];z[s[1]]-=o[s[0]]()}p.bgiframe.css(z).css(v)},destroy:function(){a.iframe.remove();h.unbind(j)}});a.init()}var t=true,m=false,F=null,H="ui-tooltip",W="ui-widget",M="ui-state-disabled",Q=".qtip."+H,T=H+"-focus",V="-31000px";d.fn.qtip=function(f,a,p){var h=String(f).toLowerCase(),n=F,j=h===
"disable"?[t]:d.makeArray(arguments).slice(1,10),v=j[j.length-1],s;if(!arguments.length&&this.data("qtip")||h==="api")return(s=this.data("qtip"))?s:O;else if("string"===typeof f){this.each(function(){var o=d(this).data("qtip");if(!o)return t;if(/option|set/.test(h)&&a)if(p!==O)o.set(a,p);else n=o.get(a);else{if(!o.rendered&&(h==="show"||h==="toggle")){if(v&&v.timeStamp)o.cache.event=v;o.render(1)}else if(h==="enable"){h="disable";j=[m]}o[h]&&o[h].apply(o[h],j)}});return n!==F?n:this}else if("object"===
typeof f||!arguments.length){s=U(d.extend(t,{},f));return d.fn.qtip.bind.call(this,s,v)}};d.fn.qtip.bind=function(f,a){return this.each(function(){function p(z){function D(){o.render(typeof z==="object"||h.show.ready);n.show.unbind(j.show);n.hide.unbind(j.hide)}if(o.cache.disabled)return m;o.cache.event=d.extend({},z);if(h.show.delay>0){clearTimeout(o.timers.show);o.timers.show=setTimeout(D,h.show.delay);j.show!==j.hide&&n.hide.bind(j.hide,function(){clearTimeout(o.timers.show)})}else D()}var h,n,
j,v=f.id=!f.id||f.id===m||f.id.length<1||d("#"+H+"-"+f.id).length?d.fn.qtip.nextid++:f.id,s=".qtip-"+v+"-create",o=Z.call(this,v,f);if(o===m)return t;h=o.options;d.each(d.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(o)});n={show:h.show.target,hide:h.hide.target};j={show:String(h.show.event).replace(" ",s+" ")+s,hide:String(h.hide.event).replace(" ",s+" ")+s};n.show.bind(j.show,p);if(h.show.ready||h.prerender)p(a)})};d.each({attr:function(f){var a=d(this),p=a.data("qtip");return arguments.length===
1&&f==="title"&&p&&p.rendered===t?a.data("oldtitle"):F},remove:d.ui?F:function(f,a){d(this).each(function(){if(!a)if(!f||d.filter(f,[this]).length)d("*",this).add(this).each(function(){d(this).triggerHandler("remove")})})}},function(f,a){if(!a)return t;d.fn["Old"+f]=d.fn[f];d.fn[f]=function(){return a.apply(this,arguments)||d.fn["Old"+f].apply(this,arguments)}});d(document).ready(function(){var f=document.body;d(f).attr("role",function(a,p){return!p?"application":p});d(document).bind("mousemove.qtip",
function(a){d.fn.qtip.mouse={pageX:a.pageX,pageY:a.pageY}});document.activeElement===O&&document.addEventListener("focus",function(a){if(a&&a.target)document.activeElement=a.target===document?f:a.target},true)});d.fn.qtip.version="2.0.0pre";d.fn.qtip.nextid=0;d.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");d.fn.qtip.zindex=15E3;d.fn.qtip.plugins={Corner:function(f){f=String(f).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();
this.x=(f.match(/left|right/i)||f.match(/center/)||["inherit"])[0].toLowerCase();this.y=(f.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=f.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),p=this.y.substr(0,1);return a===p?a:a==="c"||a!=="c"&&p!=="c"?p+a:a+p}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,
"4_2"])[1].replace("_","."))<4.1};d.fn.qtip.defaults={prerender:m,id:m,overwrite:t,metadata:{type:"class"},content:{text:t,attr:"title",title:{text:m,button:m}},position:{my:"top left",at:"bottom right",target:m,container:m,viewport:m,adjust:{x:0,y:0,mouse:t,resize:t},effect:t},show:{target:m,event:"mouseenter",effect:t,delay:90,solo:m,ready:m},hide:{target:m,event:"mouseleave",effect:t,delay:0,fixed:m,inactive:m},style:{classes:"",widget:m},events:{render:F,move:F,show:F,hide:F,toggle:F,focus:F,
blur:F}};d.fn.qtip.plugins.ajax=function(f){var a=f.plugins.ajax;return"object"===typeof a?a:f.plugins.ajax=new $(f)};d.fn.qtip.plugins.ajax.initialize="render";d.fn.qtip.plugins.ajax.sanitize=function(f){var a=f.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=f.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};d.extend(t,d.fn.qtip.defaults,{content:{ajax:{once:t}}});d.fn.qtip.plugins.tip=function(f){var a=f.plugins.tip;return"object"===typeof a?a:f.plugins.tip=
new aa(f)};d.fn.qtip.plugins.tip.initialize="render";d.fn.qtip.plugins.tip.sanitize=function(f){var a=f.style;if(a&&"tip"in a){a=f.style.tip;if(typeof a!=="object")f.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=t;if(typeof a.method!=="string")a.method=t;if(!/canvas|polygon/i.test(a.method))a.method=t;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&delete a.height;typeof a.border!=="number"&&a.border!==t&&delete a.border;typeof a.offset!=="number"&&
delete a.offset}};d.extend(t,d.fn.qtip.defaults,{style:{tip:{corner:t,mimic:m,method:t,width:8,height:8,border:t,offset:0}}});d.fn.qtip.plugins.imagemap=function(f,a){function p(G,k){for(var b=0,y=1,c=1,e=0,g=0,l=G.width,i=G.height;l>0&&i>0&&y>0&&c>0;){l=Math.floor(l/2);i=Math.floor(i/2);if(a.x==="left")y=l;else if(a.x==="right")y=G.width-l;else y+=Math.floor(l/2);if(a.y==="top")c=i;else if(a.y==="bottom")c=G.height-i;else c+=Math.floor(i/2);for(b=k.length;b--;){if(k.length<2)break;e=k[b][0]-G.offset.left;
g=k[b][1]-G.offset.top;if(a.x==="left"&&e>=y||a.x==="right"&&e<=y||a.x==="center"&&(e<y||e>G.width-y)||a.y==="top"&&g>=c||a.y==="bottom"&&g<=c||a.y==="center"&&(g<c||g>G.height-c))k.splice(b,1)}}return{left:k[0][0],top:k[0][1]}}var h=f.attr("shape").toLowerCase(),n=f.attr("coords").split(","),j=[],v=d('img[usemap="#'+f.parent("map").attr("name")+'"]'),s=v.offset(),o={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},z=0,D=0;s.left+=Math.ceil((v.outerWidth()-v.width())/2);s.top+=Math.ceil((v.outerHeight()-
v.height())/2);if(h==="poly")for(z=n.length;z--;){D=[parseInt(n[--z],10),parseInt(n[z+1],10)];if(D[0]>o.offset.right)o.offset.right=D[0];if(D[0]<o.offset.left)o.offset.left=D[0];if(D[1]>o.offset.bottom)o.offset.bottom=D[1];if(D[1]<o.offset.top)o.offset.top=D[1];j.push(D)}else j=d.map(n,function(G){return parseInt(G,10)});switch(h){case "rect":o={width:Math.abs(j[2]-j[0]),height:Math.abs(j[3]-j[1]),offset:{left:j[0],top:j[1]}};break;case "circle":o={width:j[2]+2,height:j[2]+2,offset:{left:j[0],top:j[1]}};
break;case "poly":d.extend(o,{width:Math.abs(o.offset.right-o.offset.left),height:Math.abs(o.offset.bottom-o.offset.top)});o.offset=a.string()==="centercenter"?{left:o.offset.left+o.width/2,top:o.offset.top+o.height/2}:p(o,j.slice());o.width=o.height=0;break}o.offset.left+=s.left;o.offset.top+=s.top;return o};d.fn.qtip.plugins.modal=function(f){var a=f.plugins.modal;return"object"===typeof a?a:f.plugins.modal=new ba(f)};d.fn.qtip.plugins.modal.initialize="render";d.fn.qtip.plugins.modal.sanitize=
function(f){if(f.show)if(typeof f.show.modal!=="object")f.show.modal={on:!!f.show.modal};else if(typeof f.show.modal.on==="undefined")f.show.modal.on=t};d.extend(t,d.fn.qtip.defaults,{show:{modal:{on:m,effect:t,blur:t}}});d.fn.qtip.plugins.bgiframe=function(f){if(!(d.browser.msie&&/^6\.[0-9]/.test(d.browser.version)&&d("select, object").length))return m;var a=f.plugins.bgiframe;if(a)return a;else{f.plugins.bgiframe=new ca(f);return f.plugins.bgiframe}};d.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,
window);
