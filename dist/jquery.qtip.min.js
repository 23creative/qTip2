/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Tue Jan 18 16:29:50 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(d,M,R){function W(e){var b;if(!e)return n;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};b=e.content.text||n;if(!d.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))e.content.text=n;if("title"in e.content){if("object"!==typeof e.content.title)e.content.title={text:e.content.title};b=e.content.title.text||n;if(!d.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===
typeof b&&!b.jquery))e.content.title.text=n}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,at:e.position};if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e)if("object"!==typeof e.style)e.style={classes:e.style};d.each(d.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function Y(e,b,o){function m(c){var f,
i=c.split("."),p=b[i[0]];for(c=1;c<i.length;c+=1){f=p[i[c]];if(typeof f==="object"&&!f.jquery&&!f.precedance)p=p[i[c]];else break}return i[c]!==R?[p,i[c]]:[b,i[0]]}function j(c,f){var i={left:0,top:0},p=!d.fn.qtip.plugins.iOS,k=d(f),u;if(f)if(k.css("position")!=="static"){i=j(f);i.left*=-1;i.top*=-1}else if(k.css("overflow")!=="visible"){i.left-=f.scrollLeft;i.top-=f.scrollTop}if(c.offsetParent){do{k=c.offsetParent;u=k===f;i.left+=c.offsetLeft-(p&&k&&!u?k.scrollLeft:0);i.top+=c.offsetTop-(p&&k&&!u?
k.scrollTop:0)}while(c=k)}return i}function l(){return g.css("left")!==Z}function r(){var c=a.elements,f=b.style.widget;g.toggleClass(X,f);c.content.toggleClass(X+"-content",f);c.titlebar&&c.titlebar.toggleClass(X+"-header",f);c.button&&c.button.toggleClass(I+"-icon",!f)}function t(){var c=a.elements;if(c.title){c.titlebar.remove();c.titlebar=c.title=c.button=F;a.reposition()}}function q(){var c=a.elements,f=b.content.title.button;c.button&&c.button.remove();c.button=f.jquery?f:d("<a />",{"class":"ui-state-default "+
(b.style.widget?"":I+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(d("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));c.button.appendTo(c.titlebar).attr("role","button").hover(function(i){d(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(i){g.hasClass(O)||a.hide(i);return n}).bind("mousedown keydown mouseup keyup mouseout",function(i){d(this).toggleClass("ui-state-active ui-state-focus",i.type.substr(-4)==="down")});a.redraw()}function E(){var c=
a.elements,f=v+"-title";c.titlebar&&t();c.titlebar=d("<div />",{"class":I+"-titlebar "+(b.style.widget?"ui-widget-header":"")}).append(c.title=d("<div />",{id:f,"class":I+"-title","aria-atomic":x})).insertBefore(c.content);if(b.content.title.button)q();else a.rendered===x&&a.redraw()}function z(c){var f=a.elements.title;if(!a.rendered||!c)return n;if(d.isFunction(c))c=c.call(e,a)||"";c.jquery&&c.length>0?f.empty().append(c.css({display:"block"})):f.html(c);a.redraw();a.rendered===x&&a.reposition(a.cache.event)}
function B(c){var f=a.elements.content;if(!a.rendered||!c)return n;if(d.isFunction(c))c=c.call(e,a)||"";c.jquery&&c.length>0?f.empty().append(c.css({display:"block"})):f.html(c);g.queue("fx",function(i){function p(u){k=k.not(u);if(k.length===0){a.redraw();a.rendered===x&&a.reposition(a.cache.event);i()}}var k=d("img:not([height]):not([width])",f);k.each(function(u,A){var H=["abort","error","load","unload",""].join(".qtip-image ");d(this).bind(H,function(){clearTimeout(a.timers.img[u]);p(this)});(function C(){if(A.height)return p(A);
a.timers.img[u]=setTimeout(C,20)})();return x});k.length===0&&p(k)});return a}function J(c,f,i,p){function k(y){if(g.hasClass(O))return n;G.show.trigger("qtip-"+o+"-inactive");clearTimeout(a.timers.show);clearTimeout(a.timers.hide);var w=function(){a.show(y)};if(b.show.delay>0)a.timers.show=setTimeout(w,b.show.delay);else w()}function u(y){if(g.hasClass(O))return n;var w=d(y.relatedTarget||y.target).parents(T)[0]===g[0],S=d(y.relatedTarget||y.target)[0]===G.show[0];clearTimeout(a.timers.show);clearTimeout(a.timers.hide);
if(b.hide.fixed&&(D.target==="mouse"&&w||/mouse(out|leave|move)/.test(y.type)&&(w||S))){y.stopPropagation();y.preventDefault();return n}g.stop(1,1);if(b.hide.delay>0)a.timers.hide=setTimeout(function(){a.hide(y)},b.hide.delay);else a.hide(y)}function A(y){if(g.hasClass(O))return n;clearTimeout(a.timers.inactive);a.timers.inactive=setTimeout(function(){a.hide(y)},b.hide.inactive)}function H(y){if(!a.cache.processing){a.cache.processing=1;l()&&a.reposition(y);a.cache.processing=0}}var C=".qtip-"+o,
D=b.position,G={show:b.show.target,hide:b.hide.target,container:D.container[0]===s?document:D.container},N={show:String(b.show.event).split(" "),hide:String(b.hide.event).split(" ")},P=d.browser.msie&&parseInt(d.browser.version,10)===6;if(i){if(b.hide.fixed){G.hide=G.hide.add(g);g.bind("mouseover"+C,function(){g.hasClass(O)||clearTimeout(a.timers.hide)})}g.bind("mouseenter"+C+" mouseleave"+C,function(y){a[y.type==="mouseenter"?"focus":"blur"](y)})}if(f){if("number"===typeof b.hide.inactive){G.show.bind("qtip-"+
o+"-inactive",A);d.each(d.fn.qtip.inactiveEvents,function(y,w){G.hide.add(a.elements.tooltip).bind(w+C+"-inactive",A)})}d.each(N.hide,function(y,w){var S=d.inArray(w,N.show);if(S>-1&&d(G.hide).add(G.show).length===d(G.hide).length||w==="unfocus"){G.show.bind(w+C,function(K){l()?u(K):k(K)});delete N.show[S]}else G.hide.bind(w+C,u)})}c&&d.each(N.show,function(y,w){G.show.bind(w+C,k)});if(p){if(D.adjust.resize||D.viewport)d(d.event.special.resize?D.viewport:M).bind("resize"+C,H);if(D.viewport||P&&g.css("position")===
"fixed")d(D.viewport).bind("scroll"+C,H);/unfocus/i.test(b.hide.event)&&d(document).bind("mousedown"+C,function(y){d(y.target).parents(T).length===0&&d(y.target).add(e).length>1&&l()&&!g.hasClass(O)&&a.hide(y)});D.target==="mouse"&&d(document).bind("mousemove"+C,function(y){if(D.adjust.mouse&&!g.hasClass(O)&&l())a.reposition(y||d.fn.qtip.mouse)})}}function h(c,f,i,p){p=parseInt(p,10)!==0;var k=".qtip-"+o;f={show:c?b.show.target:F,hide:f?b.hide.target:F,tooltip:i?a.elements.tooltip:F,content:i?a.elements.content:
F,container:p?b.position.container[0]===s?document:b.position.container:F,window:p?M:F};if(a.rendered)d([]).pushStack(d.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(k);else c&&f.show.unbind(k+"-create")}var a=this,s=document.body,v=I+"-"+o,g;a.id=o;a.rendered=n;a.elements={target:e};a.timers={img:[]};a.options=b;a.plugins={};a.cache={event:{},target:F,disabled:n,lastFocus:s};d.extend(a,{render:function(c){if(a.rendered)return n;var f=a.elements,
i=b.content.text,p=b.content.title.text,k=d.Event("tooltiprender");e.attr({"aria-describedby":v});g=f.tooltip=d("<div/>").attr({id:v,"class":I+" qtip ui-helper-reset "+b.style.classes,role:"alert","aria-live":"polite","aria-atomic":n,"aria-describedby":v+"-content","aria-hidden":x}).toggleClass(O,a.cache.disabled).data("qtip",a).appendTo(b.position.container).append(f.content=d("<div />",{"class":I+"-content",id:v+"-content","aria-atomic":x}));a.rendered=x;if(p){E();z(p)}B(i);d.each(d.fn.qtip.plugins,
function(){this.initialize==="render"&&this(a)});J(1,1,1,1);d.each(b.events,function(u,A){if(A)g.bind(u==="toggle"?"tooltipshow tooltiphide":"tooltip"+u,A)});g.queue("fx",function(u){k.originalEvent=a.cache.event;g.trigger(k,[a]);if(b.show.ready||c){g.hide();a.show(a.cache.event)}u()});return a},get:function(c){switch(c.toLowerCase()){case "dimensions":c={height:g.outerHeight(),width:g.outerWidth()};break;case "offset":c=j(g[0],b.position.container[0]);break;default:c=m(c.toLowerCase());c=c[0].precedance?
c[0].string():c[0].jquery?c[0]:c[0][c[1]];break}return c},set:function(c,f){c=c.toLowerCase();var i=m(c),p=a.elements,k,u,A,H={builtin:{"^id$":function(){var C=f===x?d.fn.qtip.nextid:f,D=I+"-"+C;if(C!==n&&C.length>0&&!d("#"+D).length){g[0].id=D;p.content[0].id=D+"-content";p.title[0].id=D+"-title"}},"^content.text$":function(){B(f)},"^content.title.text$":function(){if(!f)return t();!a.elements.title&&f&&E();z(f)},"^content.title.button$":function(){var C=a.elements.button,D=a.elements.title;if(a.rendered)if(f){D||
E();q()}else C.remove()},"^position.(my|at)$":function(){var C=/my$/i.test(c)?"my":"at";if("string"===typeof f)b.position[C]=new d.fn.qtip.plugins.Corner(f)},"^position.container$":function(){a.rendered===x&&g.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(C,D,G,N){var P=c.search(/fixed/i)>-1?[0,[0,1,1,1]]:[c.substr(0,3),c.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(P[0])C[D]=N;h.apply(a,P[1]);if(P[0])C[D]=G;J.apply(a,P[1])},"^show.ready$":function(){a.rendered===n&&a.show()},
"^style.classes$":function(){g.attr("class",I+" qtip ui-helper-reset "+f)},"^style.widget|content.title":r,"^events.(render|show|move|hide|focus|blur)$":function(C,D,G){p.tooltip[(d.isFunction(f)?"":"un")+"bind"]("tooltip"+D,G)},"^position.(my|at|adjust|target|container)|style|content":function(){a.reposition()}}};d.each(a.plugins,function(C){if("object"===typeof this.checks)H[C]=this.checks});k=i[0][i[1]];i[0][i[1]]=f.nodeType?d(f):f;W(b);for(u in H)for(A in H[u])RegExp(A,"i").test(c)&&H[u][A].call(a,
i[0],i[1],f,k);return a},toggle:function(c,f){function i(){if(c)d.browser.msie&&g[0].style.removeAttribute("filter");else g.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(a.rendered===n)return n;var p=c?"show":"hide",k=b[p],u=l();if((typeof c).search("boolean|number"))c=!u;if(!u&&!c||g.is(":animated"))return a;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(a.cache.event.type)&&f.target===b.show.target[0]&&g.has(f.relatedTarget).length)return a;a.cache.event=d.extend({},
f)}u=d.Event("tooltip"+p);u.originalEvent=f?a.cache.event:F;g.trigger(u,[a,90]);if(u.isDefaultPrevented())return a;g.attr("aria-hidden",!!!c);if(c){g.hide().css({visibility:""});a.focus(f);a.reposition(f,0);k.solo&&d(T).not(g).qtip("hide")}else{clearTimeout(a.timers.show);a.blur(f)}g.stop(1,1);if(d.isFunction(k.effect)){k.effect.call(g,a);g.queue("fx",function(A){i.call(this,A);A()})}else if(k.effect===n){g[p]();i.call(g)}else g.fadeTo(90,c?1:0,i);c&&k.target.trigger("qtip-"+o+"-inactive");return d.fn.qtip.lastShown=
a},show:function(c){a.toggle(x,c)},hide:function(c){a.toggle(n,c)},focus:function(c){if(a.rendered===n)return n;var f=d(T),i=parseInt(g[0].style.zIndex,10),p=d.fn.qtip.zindex+f.length;c=d.extend({},c);if(!g.hasClass(V)){if(i!==p){f.each(function(){if(this.style.zIndex>i)this.style.zIndex-=1});d(T+"."+V).qtip("blur",c)}a.cache.lastFocus=document.activeElement;f=d.Event("tooltipfocus");f.originalEvent=c;g.trigger(f,[a,p]);if(!f.isDefaultPrevented())g.addClass(V)[0].style.zIndex=p}return a},blur:function(c){c=
d.extend({},c);var f;g.removeClass(V);f=d.Event("tooltipblur");f.originalEvent=c;g.trigger(f,[a])},reposition:function(c,f){if(a.rendered===n)return n;var i=b.position.target,p=b.position,k=p.my,u=p.at,A=p.adjust,H=g.outerWidth(),C=g.outerHeight(),D=0,G=0,N=d.Event("tooltipmove"),P=g.css("position")==="fixed",y=p.viewport.jquery?p.viewport:d(M),w={left:0,top:0},S={left:function(K){var L=y.scrollLeft,Q=u.x==="left"?D:u.x==="right"?-D:-D/2,U=L-K;L=K+H-y.width-L;Q=(k.x==="left"?H:k.x==="right"?-H:-H/
2)-(k.precedance==="x"||k.x===k.y?Q:0);if(U>0&&(k.x!=="left"||L>0))w.left-=Q;else if(L>0&&(k.x!=="right"||U>0))w.left-=(k.x==="center"?-1:1)*Q+2*A.x;if(w.left<0&&-w.left>L)w.left=K;return w.left-K},top:function(K){var L=y.scrollTop,Q=u.y==="top"?G:u.y==="bottom"?-G:-G/2,U=L-K;L=K+C-y.height-L;Q=(k.y==="top"?C:k.y==="bottom"?-C:-C/2)-(k.precedance==="y"||k.x===k.y?Q:0);if(U>0&&(k.y!=="top"||L>0))w.top-=Q;else if(L>0&&(k.y!=="bottom"||U>0))w.top-=(k.y==="center"?-1:1)*Q+2*A.y;if(w.top<0&&-w.top>L)w.top=
K;return w.top-K}};f=f===R||!!f||n;y=!y?n:{elem:y,height:y[(y[0]===M?"h":"outerH")+"eight"](),width:y[(y[0]===M?"w":"outerW")+"idth"](),scrollLeft:y.scrollLeft(),scrollTop:y.scrollTop()};if(i==="mouse"){u={x:"left",y:"top"};c=c&&(c.type==="resize"||c.type==="scroll")?a.cache.event:A.mouse||!c||!c.pageX?d.extend({},d.fn.qtip.mouse):c;w={top:c.pageY,left:c.pageX}}else{if(i==="event")i=c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?a.cache.target=d(c.target):a.cache.target;i=d(i).eq(0);if(i.length===
0)return a;else if(i[0]===document||i[0]===M){D=i.width();G=i.height();if(i[0]===M)w={top:P?0:y.scrollTop,left:P?0:y.scrollLeft}}else if(i.is("area")&&d.fn.qtip.plugins.imagemap){w=d.fn.qtip.plugins.imagemap(i,u);D=w.width;G=w.height;w=w.offset}else{D=i.outerWidth();G=i.outerHeight();w=j(i[0],p.container[0])}w.left+=u.x==="right"?D:u.x==="center"?D/2:0;w.top+=u.y==="bottom"?G:u.y==="center"?G/2:0}w.left+=A.x+(k.x==="right"?-H:k.x==="center"?-H/2:0);w.top+=A.y+(k.y==="bottom"?-C:k.y==="center"?-C/
2:0);w.adjusted=p.viewport.jquery&&i[0]!==M&&i[0]!==s?{left:S.left(w.left),top:S.top(w.top)}:{left:0,top:0};g.attr("class",function(){return d(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(I+"-pos-"+k.abbreviation());N.originalEvent=d.extend({},c);g.trigger(N,[a,w,y.elem]);if(N.isDefaultPrevented())return a;delete w.adjusted;if(!f||!isNaN(w.left,w.top))g.css(w);else if(l()&&d.isFunction(p.effect)){p.effect.call(g,a,w);g.queue(function(K){d(this).css({opacity:"",height:""});d.browser.msie&&
this.style&&this.style.removeAttribute("filter");K()})}return a},redraw:function(){if(!a.rendered||!(d.browser.msie&&d.browser.version<8))return n;var c=I+"-fluid",f;g.css({width:"auto",height:"auto"}).addClass(c);f={height:g.outerHeight(),width:g.outerWidth()};d.each(["width","height"],function(i,p){var k=parseInt(g.css("max-"+p),10)||0,u=parseInt(g.css("min-"+p),10)||0;f[p]=k+u?Math.min(Math.max(f[p],u),k):f[p]});g.css(f).removeClass(c)},disable:function(c){var f=O;if("boolean"!==typeof c)c=!(g.hasClass(f)||
a.cache.disabled);if(a.rendered){g.toggleClass(f,c);g.attr("aria-disabled",c)}else a.cache.disabled=!!c;return a},destroy:function(){var c=e.data("oldtitle");if(a.rendered){g.remove();d.each(a.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(a.timers.show);clearTimeout(a.timers.hide);h(1,1,1,1);e.removeData("qtip");c&&e.attr("title",c);e.removeAttr("aria-describedby");return e}})}function $(e,b){var o,m,j=d(this),l=d(document.body),r=this===document?l:j;m=j.metadata?j.metadata(b.metadata):
F;var t=d.extend(x,{},d.fn.qtip.defaults,b,W((m&&b.metadata.type==="html5"?m[b.metadata.name]:F)||m));j.removeData("metadata");m=t.position;if("boolean"===typeof t.content.text)if(t.content.attr!==n&&j.attr(t.content.attr))t.content.text=j.attr(t.content.attr);else return n;if(m.container===n)m.container=l;if(m.target===n)m.target=r;if(t.show.target===n)t.show.target=r;if(t.hide.target===n)t.hide.target=r;if(t.position.viewport===x)t.position.viewport=m.container;m.at=new d.fn.qtip.plugins.Corner(m.at);
m.my=new d.fn.qtip.plugins.Corner(m.my);if(j.data("qtip"))if(t.overwrite)j.qtip("destroy");else if(t.overwrite===n)return n;j.attr("title")&&j.data("oldtitle",j.attr("title")).removeAttr("title");o=new Y(j,t,e);j.data("qtip",o);j.bind("remove.qtip",function(){o.destroy()});return o}function aa(e){var b=this,o=e.elements.tooltip,m=e.options.content.ajax;b.checks={"^content.ajax":function(j,l){if(l==="once")b.once();else m&&m.url&&b.load()}};d.extend(b,{init:function(){if(m&&m.url){b.load();o.one("tooltipshow",
b.once)}},once:function(){m.once?b.destroy():o.bind("tooltipshow.qtip-ajax",b.load)},load:function(){d.ajax(d.extend({success:function(j){e.set("content.text",j)},error:function(j,l,r){e.set("content.text",l+": "+r)},context:e},m));return b},destroy:function(){o.unbind(".qtip-ajax")}});b.init()}function ba(e,b,o){var m=Math.ceil(b/2),j=Math.ceil(o/2);b={bottomright:[[0,0],[b,o],[b,0]],bottomleft:[[0,0],[b,0],[0,o]],topright:[[0,o],[b,0],[b,o]],topleft:[[0,0],[0,o],[b,o]],topcenter:[[0,o],[m,0],[b,
o]],bottomcenter:[[0,0],[b,0],[m,o]],rightcenter:[[0,0],[b,j],[0,o]],leftcenter:[[b,0],[b,o],[0,j]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[e.string()]}function ca(e){function b(h,a,s){if(r.tip){h=d.extend({},j.corner);a=s.adjusted;var v;if(j.corner.fixed!==x){if(a.left)h.x=h.x==="center"?a.left>0?"left":"right":h.x==="left"?"right":"left";if(a.top)h.y=h.y==="center"?a.top>0?"top":"bottom":h.y==="top"?"bottom":"top";if(h.string()!==
q.corner&&(q.top!==a.top||q.left!==a.left))v=j.update(h)}v||(v=j.position(h,0));if(v.right!==R)v.left=v.right;if(v.bottom!==R)v.top=v.bottom;v.option=Math.max(0,l.offset);s.left-=v.left.charAt?v.option:(v.right?-1:1)*v.left;s.top-=v.top.charAt?v.option:(v.bottom?-1:1)*v.top;q.left=a.left;q.top=a.top;q.corner=h.string()}}function o(h,a,s){a=!a?h[h.precedance]:a;a="border-"+a+"-width";h=parseInt((r.titlebar&&h.y==="top"?r.titlebar:r.content).css(a),10);return(s?h||parseInt(t.css(a),10):h)||0}function m(h){var a=
h.precedance==="y",s=E[a?"width":"height"],v=E[a?"height":"width"],g=h.string().indexOf("center")>-1,c=s*(g?0.5:1),f=Math.pow;h=Math.round;var i=Math.sqrt(f(c,2)+f(v,2));c=[B/c*i,B/v*i];c[2]=Math.sqrt(f(c[0],2)-f(B,2));c[3]=Math.sqrt(f(c[1],2)-f(B,2));g=(i+c[2]+c[3]+(g?0:c[0]))/i;s=[h(g*v),h(g*s)];return{height:s[a?0:1],width:s[a?1:0]}}var j=this,l=e.options.style.tip,r=e.elements,t=r.tooltip,q={top:0,left:0,corner:""},E={width:l.width,height:l.height},z={},B=l.border||0,J=d("<canvas />")[0].getContext;
j.corner=F;j.mimic=F;j.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){j.init()||j.destroy();e.reposition()},"^style.tip.(height|width)$":function(){E={width:l.width,height:l.height};j.create();j.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){r.tip&&j.update()}};d.extend(j,{init:function(){var h=j.detectCorner()&&(J||d.browser.msie);if(h){j.create();j.update();t.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",b)}return h},detectCorner:function(){var h=
l.corner,a=e.options.position,s=a.at;a=a.my.string?a.my.string():a.my;if(h===n||a===n&&s===n)return n;else if(h===x)j.corner=new d.fn.qtip.plugins.Corner(a);else if(!h.string){j.corner=new d.fn.qtip.plugins.Corner(h);j.corner.fixed=x}return j.corner.string()!=="centercenter"},detectColours:function(){var h=r.tip.css({backgroundColor:"",border:""}),a=j.corner,s=a[a.precedance],v="border-"+s+"-color";s="border"+s.charAt(0)+s.substr(1)+"Color";var g=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;a=r.titlebar&&
(a.y==="top"||a.y==="center"&&h.position().top+E.height/2+l.offset<r.titlebar.outerHeight(1))?r.titlebar:r.content;z.fill=h.css("background-color")||"transparent";z.border=h[0].style[s];if(!z.fill||g.test(z.fill)){z.fill=a.css("background-color");if(g.test(z.fill))z.fill=t.css("background-color")}if(!z.border||g.test(z.border)){z.border=t.css(v);if(g.test(z.border)||z.border===d(document.body).css("color"))z.border=a.css(v)!==d(e.elements.content).css("color")?a.css(v):"transparent"}d("*",h).add(h).css("background-color",
"transparent").css("border","0px dashed transparent")},create:function(){var h=E.width,a=E.height;r.tip&&r.tip.remove();r.tip=d("<div />",{"class":"ui-tooltip-tip"}).css({width:h,height:a}).prependTo(t);if(J)d("<canvas />").appendTo(r.tip)[0].getContext("2d").save();else{h='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';r.tip.html(B?h+=h:h)}},update:function(h){var a=r.tip,s=a.children(),v=E.width,g=E.height,c=l.mimic,f=Math.round,
i,p,k;if(!h)h=j.corner;if(c===n)c=h;else{c=new d.fn.qtip.plugins.Corner(c);c.precedance=h.precedance;if(c.x==="inherit")c.x=h.x;else if(c.y==="inherit")c.y=h.y;else if(c.x===c.y)c[h.precedance]=h[h.precedance]}i=c.precedance;j.detectColours();B=z.border==="transparent"||z.border==="#123456"?0:l.border===x?o(h,F,x):l.border;p=ba(c,v,g);k=m(h);a.css(k);a=h.precedance==="y"?[f(c.x==="left"?B:c.x==="right"?k.width-v-B:(k.width-v)/2),f(c.y==="top"?k.height-g:0)]:[f(c.x==="left"?k.width-v:0),f(c.y==="top"?
B:c.y==="bottom"?k.height-g-B:(k.height-g)/2)];if(J){s.attr(k);s=s[0].getContext("2d");s.restore();s.save();s.clearRect(0,0,3E3,3E3);s.translate(a[0],a[1]);s.beginPath();s.moveTo(p[0][0],p[0][1]);s.lineTo(p[1][0],p[1][1]);s.lineTo(p[2][0],p[2][1]);s.closePath();s.fillStyle=z.fill;s.strokeStyle=z.border;s.lineWidth=B*2;s.lineJoin="miter";s.miterLimit=100;s.stroke();s.fill()}else{p="m"+p[0][0]+","+p[0][1]+" l"+p[1][0]+","+p[1][1]+" "+p[2][0]+","+p[2][1]+" xe";a[2]=B&&/^(r|b)/i.test(h.string())?1:0;
s.css({antialias:""+(c.string().indexOf("center")>-1),left:a[0]-a[2]*Number(i==="x"),top:a[1]-a[2]*Number(i==="y"),width:v+B,height:g+B}).each(function(u){var A=d(this);A.attr({coordsize:v+B+" "+(g+B),path:p,fillcolor:z.fill,filled:!!u,stroked:!!!u}).css({display:B||u?"block":"none"});!u&&B>0&&A.html()===""&&A.html('<vml:stroke weight="'+B*2+'px" color="'+z.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}return j.position(h,1)},position:function(h,
a){var s=r.tip,v={},g=Math.max(0,l.offset),c,f,i;if(l.corner===n||!s)return n;h=h||j.corner;c=h.precedance;f=m(h)[c==="x"?"width":"height"];i=d.browser.msie&&B&&/^(b|r)/i.test(h.string())?1:0;d.each(c==="y"?[h.x,h.y]:[h.y,h.x],function(p,k){var u,A;if(k==="center"){u=c==="y"?"left":"top";v[u]="50%";v["margin-"+u]=-Math.round(f/2)+g}else{u=o(h,k,x);A=d.browser.mozilla;var H=h.y+(A?"":"-")+h.x;A=(A?"-moz-":d.browser.webkit?"-webkit-":"")+(A?"border-radius-"+H:"border-"+H+"-radius");A=parseInt((r.titlebar&&
h.y==="top"?r.titlebar:r.content).css(A),10)||parseInt(t.css(A),10)||0;v[k]=p||!B?o(h,k):g+(A>u?A:0)}});v[h[c]]-=f+i;a&&s.css({top:"",bottom:"",left:"",right:"",margin:""}).css(v);return v},destroy:function(){r.tip&&r.tip.remove();t.unbind(".qtip-tip")}});j.init()}function da(e){var b=this,o=e.options.show.modal,m=e.elements,j=m.tooltip;b.checks={"^show.modal.(on|blur)$":function(){b.init();m.overlay.toggle(j.is(":visible"))}};d.extend(b,{init:function(){if(o.on){j.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(l,r,t){l=l.type.replace("tooltip","");d.isFunction(o[l])?o[l].call(m.overlay,t,r):b[l](t)});b.create();o.blur===x&&m.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var l=d("#qtip-overlay");if(l.length)m.overlay=l;else{m.overlay=d("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(j.css("z-index"),10)-1}}).appendTo(document.body);d(M).bind("resize.qtipmodal",function(){m.overlay.css({height:Math.max(d(M).height(),
d(document).height()),width:Math.max(d(M).width(),d(document).width())})}).trigger("resize")}},toggle:function(l){var r=m.overlay,t=e.options.show.modal.effect,q=l?"show":"hide";r.stop(x,n);if(d.isFunction(t))t.call(r,l);else t===n?r[q]():r.fadeTo(90,l?0.7:0,function(){l||d(this).hide()})},show:function(){b.toggle(x)},hide:function(){b.toggle(n)},destroy:function(){var l=x;d("*").each(function(){var r=d(this).data("qtip");if(r&&r.id!==e.id&&r.options.show.modal)return l=n});if(l){m.overlay.remove();
d(M).unbind(".qtipmodal")}else m.overlay.unbind(".qtipmodal"+e.id);j.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});b.init()}function ea(e){var b=this,o=e.elements,m=o.tooltip,j=".bgiframe-"+e.id,l="tooltipmove"+j+" tooltipshow"+j;d.extend(b,{init:function(){o.bgiframe=d('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');o.bgiframe.appendTo(m);m.bind(l,b.adjust)},
adjust:function(){var r=e.get("dimensions"),t=e.plugins.tip,q=e.elements.tip,E;E=parseInt(m.css("border-left-width"),10)||0;E={left:-E,top:-E};if(t&&q){t=t.corner.precedance==="x"?["width","left"]:["height","top"];E[t[1]]-=q[t[0]]()}o.bgiframe.css(E).css(r)},destroy:function(){b.iframe.remove();m.unbind(l)}});b.init()}var x=true,n=false,F=null,I="ui-tooltip",X="ui-widget",O="ui-state-disabled",T=".qtip."+I,V=I+"-focus",Z="-31000px";d.fn.qtip=function(e,b,o){var m=String(e).toLowerCase(),j=F,l=m===
"disable"?[x]:d.makeArray(arguments).slice(1,10),r=l[l.length-1],t;if(!arguments.length&&this.data("qtip")||m==="api")return(t=this.data("qtip"))?t:R;else if("string"===typeof e){this.each(function(){var q=d(this).data("qtip");if(!q)return x;if(/option|set/.test(m)&&b)if(o!==R)q.set(b,o);else j=q.get(b);else{if(!q.rendered&&(m==="show"||m==="toggle")){if(r&&r.timeStamp)q.cache.event=r;q.render(1)}else if(m==="enable"){m="disable";l=[n]}q[m]&&q[m].apply(q[m],l)}});return j!==F?j:this}else if("object"===
typeof e||!arguments.length){t=W(d.extend(x,{},e));return d.fn.qtip.bind.call(this,t,r)}};d.fn.qtip.bind=function(e,b){return this.each(function(){function o(E){function z(){q.render(typeof E==="object"||m.show.ready);j.show.unbind(l.show);j.hide.unbind(l.hide)}if(q.cache.disabled)return n;q.cache.event=d.extend({},E);if(m.show.delay>0){clearTimeout(q.timers.show);q.timers.show=setTimeout(z,m.show.delay);l.show!==l.hide&&j.hide.bind(l.hide,function(){clearTimeout(q.timers.show)})}else z()}var m,j,
l,r=e.id=!e.id||e.id===n||e.id.length<1||d("#"+I+"-"+e.id).length?d.fn.qtip.nextid++:e.id,t=".qtip-"+r+"-create",q=$.call(this,r,e);if(q===n)return x;m=q.options;d.each(d.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(q)});j={show:m.show.target,hide:m.hide.target};l={show:String(m.show.event).replace(" ",t+" ")+t,hide:String(m.hide.event).replace(" ",t+" ")+t};j.show.bind(l.show,o);if(m.show.ready||m.prerender)o(b)})};d.each({attr:function(e){var b=d(this),o=b.data("qtip");return arguments.length===
1&&e==="title"&&o&&o.rendered===x?b.data("oldtitle"):F},remove:d.ui?F:function(e,b){d(this).each(function(){if(!b)if(!e||d.filter(e,[this]).length)d("*",this).add(this).each(function(){d(this).triggerHandler("remove")})})}},function(e,b){if(!b)return x;d.fn["Old"+e]=d.fn[e];d.fn[e]=function(){return b.apply(this,arguments)||d.fn["Old"+e].apply(this,arguments)}});d(document).ready(function(){var e=document,b=e.body;d(e).bind("mousemove.qtip",function(o){d.fn.qtip.mouse={pageX:o.pageX,pageY:o.pageY}});
e.activeElement===R&&e.addEventListener("focus",function(o){if(o&&o.target)e.activeElement=o.target===e?b:o.target},true)});d.fn.qtip.version="2.0.0pre";d.fn.qtip.nextid=0;d.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");d.fn.qtip.zindex=15E3;d.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=
(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var b=this.x.substr(0,1),o=this.y.substr(0,1);return b===o?b:b==="c"||b!=="c"&&o!=="c"?o+b:b+o}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};d.fn.qtip.defaults={prerender:n,id:n,overwrite:x,metadata:{type:"class"},
content:{text:x,attr:"title",title:{text:n,button:n}},position:{my:"top left",at:"bottom right",target:n,container:n,viewport:n,adjust:{x:0,y:0,mouse:x,resize:x},effect:x},show:{target:n,event:"mouseenter",effect:x,delay:90,solo:n,ready:n},hide:{target:n,event:"mouseleave",effect:x,delay:0,fixed:n,inactive:n},style:{classes:"",widget:n},events:{render:F,move:F,show:F,hide:F,toggle:F,focus:F,blur:F}};d.fn.qtip.plugins.ajax=function(e){var b=e.plugins.ajax;return"object"===typeof b?b:e.plugins.ajax=
new aa(e)};d.fn.qtip.plugins.ajax.initialize="render";d.fn.qtip.plugins.ajax.sanitize=function(e){var b=e.content;if(b&&"ajax"in b){b=b.ajax;if(typeof b!=="object")b=e.content.ajax={url:b};if("boolean"!==typeof b.once&&b.once)b.once=!!b.once}};d.extend(x,d.fn.qtip.defaults,{content:{ajax:{once:x}}});d.fn.qtip.plugins.tip=function(e){var b=e.plugins.tip;return"object"===typeof b?b:e.plugins.tip=new ca(e)};d.fn.qtip.plugins.tip.initialize="render";d.fn.qtip.plugins.tip.sanitize=function(e){var b=e.style;
if(b&&"tip"in b){b=e.style.tip;if(typeof b!=="object")e.style.tip={corner:b};if(!/string|boolean/i.test(typeof b.corner))b.corner=x;typeof b.width!=="number"&&delete b.width;typeof b.height!=="number"&&delete b.height;typeof b.border!=="number"&&b.border!==x&&delete b.border;typeof b.offset!=="number"&&delete b.offset}};d.extend(x,d.fn.qtip.defaults,{style:{tip:{corner:x,mimic:n,width:8,height:8,border:x,offset:0}}});d.fn.qtip.plugins.imagemap=function(e,b){function o(B,J){for(var h=0,a=1,s=1,v=0,
g=0,c=B.width,f=B.height;c>0&&f>0&&a>0&&s>0;){c=Math.floor(c/2);f=Math.floor(f/2);if(b.x==="left")a=c;else if(b.x==="right")a=B.width-c;else a+=Math.floor(c/2);if(b.y==="top")s=f;else if(b.y==="bottom")s=B.height-f;else s+=Math.floor(f/2);for(h=J.length;h--;){if(J.length<2)break;v=J[h][0]-B.offset.left;g=J[h][1]-B.offset.top;if(b.x==="left"&&v>=a||b.x==="right"&&v<=a||b.x==="center"&&(v<a||v>B.width-a)||b.y==="top"&&g>=s||b.y==="bottom"&&g<=s||b.y==="center"&&(g<s||g>B.height-s))J.splice(h,1)}}return{left:J[0][0],
top:J[0][1]}}var m=e.attr("shape").toLowerCase(),j=e.attr("coords").split(","),l=[],r=d('img[usemap="#'+e.parent("map").attr("name")+'"]'),t=r.offset(),q={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},E=0,z=0;t.left+=Math.ceil((r.outerWidth()-r.width())/2);t.top+=Math.ceil((r.outerHeight()-r.height())/2);if(m==="poly")for(E=j.length;E--;){z=[parseInt(j[--E],10),parseInt(j[E+1],10)];if(z[0]>q.offset.right)q.offset.right=z[0];if(z[0]<q.offset.left)q.offset.left=z[0];if(z[1]>q.offset.bottom)q.offset.bottom=
z[1];if(z[1]<q.offset.top)q.offset.top=z[1];l.push(z)}else l=d.map(j,function(B){return parseInt(B,10)});switch(m){case "rect":q={width:Math.abs(l[2]-l[0]),height:Math.abs(l[3]-l[1]),offset:{left:l[0],top:l[1]}};break;case "circle":q={width:l[2]+2,height:l[2]+2,offset:{left:l[0],top:l[1]}};break;case "poly":d.extend(q,{width:Math.abs(q.offset.right-q.offset.left),height:Math.abs(q.offset.bottom-q.offset.top)});q.offset=b.string()==="centercenter"?{left:q.offset.left+q.width/2,top:q.offset.top+q.height/
2}:o(q,l.slice());q.width=q.height=0;break}q.offset.left+=t.left;q.offset.top+=t.top;return q};d.fn.qtip.plugins.modal=function(e){var b=e.plugins.modal;return"object"===typeof b?b:e.plugins.modal=new da(e)};d.fn.qtip.plugins.modal.initialize="render";d.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=x};d.extend(x,d.fn.qtip.defaults,{show:{modal:{on:n,effect:x,blur:x}}});
d.fn.qtip.plugins.bgiframe=function(e){if(!(d.browser.msie&&/^6\.[0-9]/.test(d.browser.version)&&d("select, object").length))return n;var b=e.plugins.bgiframe;if(b)return b;else{e.plugins.bgiframe=new ea(e);return e.plugins.bgiframe}};d.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
