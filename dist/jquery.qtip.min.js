/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Mon Jan 17 19:16:58 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(b,M,R){function W(e){var c;if(!e)return l;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};c=e.content.text||l;if(!b.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery))e.content.text=l;if("title"in e.content){if("object"!==typeof e.content.title)e.content.title={text:e.content.title};c=e.content.title.text||l;if(!b.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===
typeof c&&!c.jquery))e.content.title.text=l}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,at:e.position};if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e)if("object"!==typeof e.style)e.style={classes:e.style};b.each(b.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function Y(e,c,t){function m(d){var f,
h=d.split("."),s=c[h[0]];for(d=1;d<h.length;d+=1){f=s[h[d]];if(typeof f==="object"&&!f.jquery&&!f.precedance)s=s[h[d]];else break}return h[d]!==R?[s,h[d]]:[c,h[0]]}function k(d,f){var h={left:0,top:0},s=!b.fn.qtip.plugins.iOS,n=b(f),v;if(f)if(n.css("position")!=="static"){h=k(f);h.left*=-1;h.top*=-1}else if(n.css("overflow")!=="visible"){h.left-=f.scrollLeft;h.top-=f.scrollTop}if(d.offsetParent){do{n=d.offsetParent;v=n===f;h.left+=d.offsetLeft-(s&&n&&!v?n.scrollLeft:0);h.top+=d.offsetTop-(s&&n&&!v?
n.scrollTop:0)}while(d=n)}return h}function j(){return g.css("left")!==Z}function r(){var d=a.elements,f=c.style.widget;g.toggleClass(X,f);d.content.toggleClass(X+"-content",f);d.titlebar&&d.titlebar.toggleClass(X+"-header",f);d.button&&d.button.toggleClass(J+"-icon",!f)}function u(){var d=a.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=F;a.reposition()}}function q(){var d=a.elements,f=c.content.title.button;d.button&&d.button.remove();d.button=f.jquery?f:b("<a />",{"class":"ui-state-default "+
(c.style.widget?"":J+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(b("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));d.button.appendTo(d.titlebar).attr("role","button").hover(function(h){b(this).toggleClass("ui-state-hover",h.type==="mouseenter")}).click(function(h){g.hasClass(O)||a.hide(h);return l}).bind("mousedown keydown mouseup keyup mouseout",function(h){b(this).toggleClass("ui-state-active ui-state-focus",h.type.substr(-4)==="down")});a.redraw()}function E(){var d=
a.elements,f=w+"-title";d.titlebar&&u();d.titlebar=b("<div />",{"class":J+"-titlebar "+(c.style.widget?"ui-widget-header":"")}).append(d.title=b("<div />",{id:f,"class":J+"-title","aria-atomic":x})).insertBefore(d.content);if(c.content.title.button)q();else a.rendered===x&&a.redraw()}function A(d){var f=a.elements.title;if(!a.rendered||!d)return l;if(b.isFunction(d))d=d.call(e,a)||"";d.jquery&&d.length>0?f.empty().append(d.css({display:"block"})):f.html(d);a.redraw();a.rendered===x&&a.reposition(a.cache.event)}
function C(d){var f=a.elements.content;if(!a.rendered||!d)return l;if(b.isFunction(d))d=d.call(e,a)||"";d.jquery&&d.length>0?f.empty().append(d.css({display:"block"})):f.html(d);g.queue("fx",function(h){function s(v){n=n.not(v);if(n.length===0){a.redraw();a.rendered===x&&a.reposition(a.cache.event);h()}}var n=b("img:not([height]):not([width])",f);n.each(function(v,H){var I=["abort","error","load","unload",""].join(".qtip-image ");b(this).bind(I,function(){clearTimeout(a.timers.img[v]);s(this)});(function B(){if(H.height)return s(H);
a.timers.img[v]=setTimeout(B,20)})();return x});n.length===0&&s(n)});return a}function i(d,f,h,s){function n(z){if(g.hasClass(O))return l;G.show.trigger("qtip-"+t+"-inactive");clearTimeout(a.timers.show);clearTimeout(a.timers.hide);var y=function(){a.show(z)};if(c.show.delay>0)a.timers.show=setTimeout(y,c.show.delay);else y()}function v(z){if(g.hasClass(O))return l;var y=b(z.relatedTarget||z.target).parents(T)[0]===g[0],S=b(z.relatedTarget||z.target)[0]===G.show[0];clearTimeout(a.timers.show);clearTimeout(a.timers.hide);
if(c.hide.fixed&&(D.target==="mouse"&&y||/mouse(out|leave|move)/.test(z.type)&&(y||S))){z.stopPropagation();z.preventDefault();return l}g.stop(1,1);if(c.hide.delay>0)a.timers.hide=setTimeout(function(){a.hide(z)},c.hide.delay);else a.hide(z)}function H(z){if(g.hasClass(O))return l;clearTimeout(a.timers.inactive);a.timers.inactive=setTimeout(function(){a.hide(z)},c.hide.inactive)}function I(z){if(!a.cache.processing){a.cache.processing=1;j()&&a.reposition(z);a.cache.processing=0}}var B=".qtip-"+t,
D=c.position,G={show:c.show.target,hide:c.hide.target,container:D.container[0]===o?document:D.container},N={show:String(c.show.event).split(" "),hide:String(c.hide.event).split(" ")},P=b.browser.msie&&parseInt(b.browser.version,10)===6;if(h){if(c.hide.fixed){G.hide=G.hide.add(g);g.bind("mouseover"+B,function(){g.hasClass(O)||clearTimeout(a.timers.hide)})}g.bind("mouseenter"+B+" mouseleave"+B,function(z){a[z.type==="mouseenter"?"focus":"blur"](z)})}if(f){if("number"===typeof c.hide.inactive){G.show.bind("qtip-"+
t+"-inactive",H);b.each(b.fn.qtip.inactiveEvents,function(z,y){G.hide.add(a.elements.tooltip).bind(y+B+"-inactive",H)})}b.each(N.hide,function(z,y){var S=b.inArray(y,N.show);if(S>-1&&b(G.hide).add(G.show).length===b(G.hide).length||y==="unfocus"){G.show.bind(y+B,function(K){j()?v(K):n(K)});delete N.show[S]}else G.hide.bind(y+B,v)})}d&&b.each(N.show,function(z,y){G.show.bind(y+B,n)});if(s){if(D.adjust.resize||D.viewport)b(b.event.special.resize?D.viewport:M).bind("resize"+B,I);if(D.viewport||P&&g.css("position")===
"fixed")b(D.viewport).bind("scroll"+B,I);/unfocus/i.test(c.hide.event)&&b(document).bind("mousedown"+B,function(z){b(z.target).parents(T).length===0&&b(z.target).add(e).length>1&&j()&&!g.hasClass(O)&&a.hide(z)});D.target==="mouse"&&b(document).bind("mousemove"+B,function(z){if(D.adjust.mouse&&!g.hasClass(O)&&j())a.reposition(z||b.fn.qtip.mouse)})}}function p(d,f,h,s){s=parseInt(s,10)!==0;var n=".qtip-"+t;f={show:d?c.show.target:F,hide:f?c.hide.target:F,tooltip:h?a.elements.tooltip:F,content:h?a.elements.content:
F,container:s?c.position.container[0]===o?document:c.position.container:F,window:s?M:F};if(a.rendered)b([]).pushStack(b.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(n);else d&&f.show.unbind(n+"-create")}var a=this,o=document.body,w=J+"-"+t,g;a.id=t;a.rendered=l;a.elements={target:e};a.timers={img:[]};a.options=c;a.plugins={};a.cache={event:{},target:F,disabled:l,lastFocus:o};b.extend(a,{render:function(d){if(a.rendered)return l;var f=a.elements,
h=c.content.text,s=c.content.title.text,n=b.Event("tooltiprender");e.attr({"aria-owns":w,"aria-controls":w,"aria-haspopup":x,"aria-describedby":w});g=f.tooltip=b("<div/>").attr({id:w,"class":J+" qtip ui-helper-reset "+c.style.classes,role:"alert","aria-live":"polite","aria-atomic":l,"aria-describedby":w+"-content","aria-hidden":x}).toggleClass(O,a.cache.disabled).data("qtip",a).appendTo(c.position.container).append(f.content=b("<div />",{"class":J+"-content",id:w+"-content","aria-atomic":x}));a.rendered=
x;if(s){E();A(s)}C(h);b.each(b.fn.qtip.plugins,function(){this.initialize==="render"&&this(a)});i(1,1,1,1);b.each(c.events,function(v,H){if(H)g.bind(v==="toggle"?"tooltipshow tooltiphide":"tooltip"+v,H)});g.queue("fx",function(v){n.originalEvent=a.cache.event;g.trigger(n,[a]);if(c.show.ready||d){g.hide();a.show(a.cache.event)}v()});return a},get:function(d){switch(d.toLowerCase()){case "dimensions":d={height:g.outerHeight(),width:g.outerWidth()};break;case "offset":d=k(g[0],c.position.container[0]);
break;default:d=m(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,f){d=d.toLowerCase();var h=m(d),s=a.elements,n,v,H,I={builtin:{"^id$":function(){var B=f===x?b.fn.qtip.nextid:f,D=J+"-"+B;if(B!==l&&B.length>0&&!b("#"+D).length){g[0].id=D;s.content[0].id=D+"-content";s.title[0].id=D+"-title"}},"^content.text$":function(){C(f)},"^content.title.text$":function(){if(!f)return u();!a.elements.title&&f&&E();A(f)},"^content.title.button$":function(){var B=
a.elements.button,D=a.elements.title;if(a.rendered)if(f){D||E();q()}else B.remove()},"^position.(my|at)$":function(){var B=/my$/i.test(d)?"my":"at";if("string"===typeof f)c.position[B]=new b.fn.qtip.plugins.Corner(f)},"^position.container$":function(){a.rendered===x&&g.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(B,D,G,N){var P=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(P[0])B[D]=N;p.apply(a,P[1]);if(P[0])B[D]=G;i.apply(a,
P[1])},"^show.ready$":function(){a.rendered===l&&a.show()},"^style.classes$":function(){g.attr("class",J+" qtip ui-helper-reset "+f)},"^style.widget|content.title":r,"^events.(render|show|move|hide|focus|blur)$":function(B,D,G){s.tooltip[(b.isFunction(f)?"":"un")+"bind"]("tooltip"+D,G)},"^position.(my|at|adjust|target|container)|style|content":function(){a.reposition()}}};b.each(a.plugins,function(B){if("object"===typeof this.checks)I[B]=this.checks});n=h[0][h[1]];h[0][h[1]]=f.nodeType?b(f):f;W(c);
for(v in I)for(H in I[v])RegExp(H,"i").test(d)&&I[v][H].call(a,h[0],h[1],f,n);return a},toggle:function(d,f){function h(){if(d)b.browser.msie&&g[0].style.removeAttribute("filter");else g.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(a.rendered===l)return l;var s=d?"show":"hide",n=c[s],v=j();if((typeof d).search("boolean|number"))d=!v;if(!v&&!d||g.is(":animated"))return a;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(a.cache.event.type)&&f.target===c.show.target[0]&&
g.has(f.relatedTarget).length)return a;a.cache.event=b.extend({},f)}v=b.Event("tooltip"+s);v.originalEvent=f?a.cache.event:F;g.trigger(v,[a,90]);if(v.isDefaultPrevented())return a;g.attr("aria-hidden",!!!d);if(d){g.hide().css({visibility:""});a.focus(f);a.reposition(f,0);n.solo&&b(T).not(g).qtip("hide")}else{clearTimeout(a.timers.show);a.blur(f)}g.stop(1,1);if(b.isFunction(n.effect)){n.effect.call(g,a);g.queue("fx",function(H){h.call(this,H);H()})}else if(n.effect===l){g[s]();h.call(g)}else g.fadeTo(90,
d?1:0,h);d&&n.target.trigger("qtip-"+t+"-inactive");return b.fn.qtip.lastShown=a},show:function(d){a.toggle(x,d)},hide:function(d){a.toggle(l,d)},focus:function(d){if(a.rendered===l)return l;var f=b(T),h=parseInt(g[0].style.zIndex,10),s=b.fn.qtip.zindex+f.length;d=b.extend({},d);if(!g.hasClass(V)){if(h!==s){f.each(function(){if(this.style.zIndex>h)this.style.zIndex-=1});b(T+"."+V).qtip("blur",d)}a.cache.lastFocus=document.activeElement;f=b.Event("tooltipfocus");f.originalEvent=d;g.trigger(f,[a,s]);
if(!f.isDefaultPrevented())g.addClass(V)[0].style.zIndex=s}return a},blur:function(d){d=b.extend({},d);var f;g.removeClass(V);f=b.Event("tooltipblur");f.originalEvent=d;g.trigger(f,[a])},reposition:function(d,f){if(a.rendered===l)return l;var h=c.position.target,s=c.position,n=s.my,v=s.at,H=s.adjust,I=g.outerWidth(),B=g.outerHeight(),D=0,G=0,N=b.Event("tooltipmove"),P=g.css("position")==="fixed",z=s.viewport.jquery?s.viewport:b(M),y={left:0,top:0},S={left:function(K){var L=z.scrollLeft,Q=v.x==="left"?
D:v.x==="right"?-D:-D/2,U=L-K;L=K+I-z.width-L;Q=(n.x==="left"?I:n.x==="right"?-I:-I/2)-(n.precedance==="x"||n.x===n.y?Q:0);if(U>0&&(n.x!=="left"||L>0))y.left-=Q;else if(L>0&&(n.x!=="right"||U>0))y.left-=(n.x==="center"?-1:1)*Q+2*H.x;if(y.left<0&&-y.left>L)y.left=K;return y.left-K},top:function(K){var L=z.scrollTop,Q=v.y==="top"?G:v.y==="bottom"?-G:-G/2,U=L-K;L=K+B-z.height-L;Q=(n.y==="top"?B:n.y==="bottom"?-B:-B/2)-(n.precedance==="y"||n.x===n.y?Q:0);if(U>0&&(n.y!=="top"||L>0))y.top-=Q;else if(L>
0&&(n.y!=="bottom"||U>0))y.top-=(n.y==="center"?-1:1)*Q+2*H.y;if(y.top<0&&-y.top>L)y.top=K;return y.top-K}};f=f===R||!!f||l;z=!z?l:{elem:z,height:z[(z[0]===M?"h":"outerH")+"eight"](),width:z[(z[0]===M?"w":"outerW")+"idth"](),scrollLeft:z.scrollLeft(),scrollTop:z.scrollTop()};if(h==="mouse"){v={x:"left",y:"top"};d=d&&(d.type==="resize"||d.type==="scroll")?a.cache.event:H.mouse||!d||!d.pageX?b.extend({},b.fn.qtip.mouse):d;y={top:d.pageY,left:d.pageX}}else{if(h==="event")h=d&&d.target&&d.type!=="scroll"&&
d.type!=="resize"?a.cache.target=b(d.target):a.cache.target;h=b(h).eq(0);if(h.length===0)return a;else if(h[0]===document||h[0]===M){D=h.width();G=h.height();if(h[0]===M)y={top:P?0:z.scrollTop,left:P?0:z.scrollLeft}}else if(h.is("area")&&b.fn.qtip.plugins.imagemap){y=b.fn.qtip.plugins.imagemap(h,v);D=y.width;G=y.height;y=y.offset}else{D=h.outerWidth();G=h.outerHeight();y=k(h[0],s.container[0])}y.left+=v.x==="right"?D:v.x==="center"?D/2:0;y.top+=v.y==="bottom"?G:v.y==="center"?G/2:0}y.left+=H.x+(n.x===
"right"?-I:n.x==="center"?-I/2:0);y.top+=H.y+(n.y==="bottom"?-B:n.y==="center"?-B/2:0);y.adjusted=s.viewport.jquery&&h[0]!==M&&h[0]!==o?{left:S.left(y.left),top:S.top(y.top)}:{left:0,top:0};g.attr("class",function(){return b(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(J+"-pos-"+n.abbreviation());N.originalEvent=b.extend({},d);g.trigger(N,[a,y,z.elem]);if(N.isDefaultPrevented())return a;delete y.adjusted;if(!f||!isNaN(y.left,y.top))g.css(y);else if(j()&&b.isFunction(s.effect)){s.effect.call(g,
a,y);g.queue(function(K){b(this).css({opacity:"",height:""});b.browser.msie&&this.style&&this.style.removeAttribute("filter");K()})}return a},redraw:function(){if(!a.rendered||!(b.browser.msie&&b.browser.version<8))return l;var d=J+"-fluid",f;g.css({width:"auto",height:"auto"}).addClass(d);f={height:g.outerHeight(),width:g.outerWidth()};b.each(["width","height"],function(h,s){var n=parseInt(g.css("max-"+s),10)||0,v=parseInt(g.css("min-"+s),10)||0;f[s]=n+v?Math.min(Math.max(f[s],v),n):f[s]});g.css(f).removeClass(d)},
disable:function(d){var f=O;if("boolean"!==typeof d)d=!(g.hasClass(f)||a.cache.disabled);if(a.rendered){g.toggleClass(f,d);g.attr("aria-disabled",d)}else a.cache.disabled=!!d;return a},destroy:function(){var d=e.data("oldtitle");if(a.rendered){g.remove();b.each(a.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(a.timers.show);clearTimeout(a.timers.hide);p(1,1,1,1);e.removeData("qtip");d&&e.attr("title",d);e.removeAttr("aria-describedby");return e}})}function $(e,c){var t,
m,k=b(this),j=b(document.body),r=this===document?j:k;m=k.metadata?k.metadata(c.metadata):F;var u=b.extend(x,{},b.fn.qtip.defaults,c,W((m&&c.metadata.type==="html5"?m[c.metadata.name]:F)||m));k.removeData("metadata");m=u.position;if("boolean"===typeof u.content.text)if(u.content.attr!==l&&k.attr(u.content.attr))u.content.text=k.attr(u.content.attr);else return l;if(m.container===l)m.container=j;if(m.target===l)m.target=r;if(u.show.target===l)u.show.target=r;if(u.hide.target===l)u.hide.target=r;if(u.position.viewport===
x)u.position.viewport=m.container;m.at=new b.fn.qtip.plugins.Corner(m.at);m.my=new b.fn.qtip.plugins.Corner(m.my);if(k.data("qtip"))if(u.overwrite)k.qtip("destroy");else if(u.overwrite===l)return l;k.attr("title")&&k.data("oldtitle",k.attr("title")).removeAttr("title");t=new Y(k,u,e);k.data("qtip",t);k.bind("remove.qtip",function(){t.destroy()});return t}function aa(e){var c=this,t=e.elements.tooltip,m=e.options.content.ajax;c.checks={"^content.ajax":function(k,j){if(j==="once")c.once();else m&&m.url&&
c.load()}};b.extend(c,{init:function(){if(m&&m.url){c.load();t.one("tooltipshow",c.once)}},once:function(){m.once?c.destroy():t.bind("tooltipshow.qtip-ajax",c.load)},load:function(){b.ajax(b.extend({success:function(k){e.set("content.text",k)},error:function(k,j,r){e.set("content.text",j+": "+r)},context:e},m));return c},destroy:function(){t.unbind(".qtip-ajax")}});c.init()}function ba(e){function c(i,p,a){if(r.tip){i=b.extend({},k.corner);p=a.adjusted;var o;if(k.corner.fixed!==x){if(p.left)i.x=i.x===
"center"?p.left>0?"left":"right":i.x==="left"?"right":"left";if(p.top)i.y=i.y==="center"?p.top>0?"top":"bottom":i.y==="top"?"bottom":"top";if(i.string()!==q.corner&&(q.top!==p.top||q.left!==p.left))o=k.update(i)}o||(o=k.position(i,0));if(o.right!==R)o.left=o.right;if(o.bottom!==R)o.top=o.bottom;o.option=Math.max(0,j.offset);a.left-=o.left.charAt?o.option:(o.right?-1:1)*o.left;a.top-=o.top.charAt?o.option:(o.bottom?-1:1)*o.top;q.left=p.left;q.top=p.top;q.corner=i.string()}}function t(i,p,a){p=!p?i[i.precedance]:
p;p="border-"+p+"-width";i=parseInt((r.titlebar&&i.y==="top"?r.titlebar:r.content).css(p),10);return(a?i||parseInt(u.css(p),10):i)||0}function m(i){var p=i.precedance==="y",a=E[p?"width":"height"],o=E[p?"height":"width"];i=i.string().indexOf("center")>-1;var w=a*(i?0.5:1),g=Math.pow,d=Math.sqrt(g(w,2)+g(o,2));w=[C/w*d,C/o*d];w[2]=Math.sqrt(g(w[0],2)-g(C,2));w[3]=Math.sqrt(g(w[1],2)-g(C,2));i=(d+w[2]+w[3]+(i?0:w[0]))/d;a=[i*o,i*a];return{height:a[p?0:1],width:a[p?1:0]}}var k=this,j=e.options.style.tip,
r=e.elements,u=r.tooltip,q={top:0,left:0,corner:""},E={width:j.width,height:j.height},A={},C=j.border||0;k.corner=F;k.mimic=F;k.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){k.init()||k.destroy();e.reposition()},"^style.tip.(height|width)$":function(){E={width:j.width,height:j.height};k.create();k.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){r.tip&&k.update()}};b.extend(k,{init:function(){var i=k.detectCorner()&&(b("<canvas/>")[0].getContext||
b.browser.msie);if(i){k.create();k.update();u.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",c)}return i},detectCorner:function(){var i=j.corner,p=e.options.position,a=p.at;p=p.my.string?p.my.string():p.my;if(i===l||p===l&&a===l)return l;else if(i===x)k.corner=new b.fn.qtip.plugins.Corner(p);else if(!i.string){k.corner=new b.fn.qtip.plugins.Corner(i);k.corner.fixed=x}return k.corner.string()!=="centercenter"},detectColours:function(){var i=r.tip.css({backgroundColor:"",border:""}),p=k.corner,a=p[p.precedance],
o="border-"+a+"-color";a="border"+a.charAt(0)+a.substr(1)+"Color";var w=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;p=r.titlebar&&(p.y==="top"||p.y==="center"&&i.position().top+E.height/2+j.offset<r.titlebar.outerHeight(1))?r.titlebar:r.content;A.fill=i.css("background-color")||"transparent";A.border=i[0].style[a];if(!A.fill||w.test(A.fill)){A.fill=p.css("background-color");if(w.test(A.fill))A.fill=u.css("background-color")}if(!A.border||w.test(A.border)){A.border=u.css(o);if(w.test(A.border)||A.border===
b(document.body).css("color"))A.border=p.css(o)!==b(e.elements.content).css("color")?p.css(o):"transparent"}b("*",i).add(i).css("background-color","transparent").css("border","0px dashed transparent")},create:function(){var i=E.width,p=E.height;r.tip&&r.tip.remove();r.tip=b("<div />",{"class":"ui-tooltip-tip"}).css({width:i,height:p}).prependTo(u);if(b.browser.msie){i='<vml:shape coordorigin="0,0" stroked="false" style="behavior:url(#default#VML);  display:inline-block; position:absolute; antialias:true;"></vml:shape>';
r.tip.html(C?i+=i:i)}else b("<canvas />").appendTo(r.tip)[0].getContext("2d").save()},update:function(i){var p=r.tip,a=p.children(),o=E.width,w=E.height,g=j.mimic,d,f,h;if(!i)i=k.corner;if(g===l)g=i;else{g=new b.fn.qtip.plugins.Corner(g);g.precedance=i.precedance;if(g.x==="inherit")g.x=i.x;else if(g.y==="inherit")g.y=i.y;else if(g.x===g.y)g[i.precedance]=i[i.precedance]}d=g.precedance;k.detectColours();C=A.border==="transparent"||A.border==="#123456"?0:j.border===x?t(i,F,x):j.border;f=g;h=Math.ceil(o/
2);var s=Math.ceil(w/2);h={bottomright:[[0,0],[o,w],[o,0]],bottomleft:[[0,0],[o,0],[0,w]],topright:[[0,w],[o,0],[o,w]],topleft:[[0,0],[0,w],[o,w]],topcenter:[[0,w],[h,0],[o,w]],bottomcenter:[[0,0],[o,0],[h,w]],rightcenter:[[0,0],[o,s],[0,w]],leftcenter:[[o,0],[o,w],[0,s]]};h.lefttop=h.bottomright;h.righttop=h.bottomleft;h.leftbottom=h.topright;h.rightbottom=h.topleft;f=h[f.string()];h=m(i);p.css(h);p=i.precedance==="y"?[Math.round(g.x==="left"?C:g.x==="right"?h.width-o-C:(h.width-o)/2),Math.ceil(g.y===
"top"?h.height-w:0)]:[Math.ceil(g.x==="left"?h.width-o:0),Math.round(g.y==="top"?C:g.y==="bottom"?h.height-w-C:(h.height-w)/2)];if(b.browser.msie){f="m"+f[0][0]+","+f[0][1]+" l"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" xe";a.attr({coordsize:o+C+" "+(w+C),fillcolor:A.fill,path:f}).css({antialias:""+(g.string().indexOf("center")>-1),left:p[0]-Number(d==="x"),top:p[1]-Number(d==="y"),width:o+C,height:w+C});if(C>0){a=a.eq(0);a.css({left:Math.floor(p[0]),top:Math.floor(p[1])}).attr({filled:l,stroked:x});
a.html()===""&&a.html('<vml:stroke weight="'+C*2+'px" color="'+A.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:inline-block;" />')}}else{a.attr(h);a=a[0].getContext("2d");a.restore();a.save();a.clearRect(0,0,3E3,3E3);a.translate(p[0],p[1]);a.beginPath();a.moveTo(f[0][0],f[0][1]);a.lineTo(f[1][0],f[1][1]);a.lineTo(f[2][0],f[2][1]);a.closePath();a.fillStyle=A.fill;a.strokeStyle=A.border;a.lineWidth=C*2;a.lineJoin="miter";a.miterLimit=100;a.stroke();a.fill()}return k.position(i,
1)},position:function(i,p){var a=r.tip,o={},w=Math.max(0,j.offset),g,d,f=i.string().charAt(0);f=C&&(f==="b"||f==="r")?Number(b.browser.msie):0;if(j.corner===l||!a)return l;i=i||k.corner;g=i.precedance;d=m(i)[g==="x"?"width":"height"];b.each(g==="y"?[i.x,i.y]:[i.y,i.x],function(h,s){var n,v;if(s==="center"){n=g==="y"?"left":"top";o[n]="50%";o["margin-"+n]=-Math.floor(d/2)+w}else{n=t(i,s,x);v=b.browser.mozilla;var H=i.y+(v?"":"-")+i.x;v=(v?"-moz-":b.browser.webkit?"-webkit-":"")+(v?"border-radius-"+
H:"border-"+H+"-radius");v=parseInt((r.titlebar&&i.y==="top"?r.titlebar:r.content).css(v),10)||parseInt(u.css(v),10)||0;o[s]=h||C===R?t(i,s):w+(v>n?v:0)}});o[i[g]]-=d+(f||0);p&&a.css({top:"",bottom:"",left:"",right:"",margin:""}).css(o);return o},destroy:function(){r.tip&&r.tip.remove();u.unbind(".qtip-tip")}});k.init()}function ca(e){var c=this,t=e.options.show.modal,m=e.elements,k=m.tooltip;c.checks={"^show.modal.(on|blur)$":function(){c.init();m.overlay.toggle(k.is(":visible"))}};b.extend(c,{init:function(){if(t.on){k.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(j,r,u){j=j.type.replace("tooltip","");b.isFunction(t[j])?t[j].call(m.overlay,u,r):c[j](u)});c.create();t.blur===x&&m.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var j=b("#qtip-overlay");if(j.length)m.overlay=j;else{m.overlay=b("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(k.css("z-index"),10)-1}}).appendTo(document.body);b(M).bind("resize.qtipmodal",function(){m.overlay.css({height:Math.max(b(M).height(),
b(document).height()),width:Math.max(b(M).width(),b(document).width())})}).trigger("resize")}},toggle:function(j){var r=m.overlay,u=e.options.show.modal.effect,q=j?"show":"hide";r.stop(x,l);if(b.isFunction(u))u.call(r,j);else u===l?r[q]():r.fadeTo(90,j?0.7:0,function(){j||b(this).hide()})},show:function(){c.toggle(x)},hide:function(){c.toggle(l)},destroy:function(){var j=x;b("*").each(function(){var r=b(this).data("qtip");if(r&&r.id!==e.id&&r.options.show.modal)return j=l});if(j){m.overlay.remove();
b(M).unbind(".qtipmodal")}else m.overlay.unbind(".qtipmodal"+e.id);k.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});c.init()}function da(e){var c=this,t=e.elements,m=t.tooltip,k=".bgiframe-"+e.id,j="tooltipmove"+k+" tooltipshow"+k;b.extend(c,{init:function(){t.bgiframe=b('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');t.bgiframe.appendTo(m);m.bind(j,c.adjust)},
adjust:function(){var r=e.get("dimensions"),u=e.plugins.tip,q=e.elements.tip,E;E=parseInt(m.css("border-left-width"),10)||0;E={left:-E,top:-E};if(u&&q){u=u.corner.precedance==="x"?["width","left"]:["height","top"];E[u[1]]-=q[u[0]]()}t.bgiframe.css(E).css(r)},destroy:function(){c.iframe.remove();m.unbind(j)}});c.init()}var x=true,l=false,F=null,J="ui-tooltip",X="ui-widget",O="ui-state-disabled",T=".qtip."+J,V=J+"-focus",Z="-31000px";b.fn.qtip=function(e,c,t){var m=String(e).toLowerCase(),k=F,j=m===
"disable"?[x]:b.makeArray(arguments).slice(1,10),r=j[j.length-1],u;if(!arguments.length&&this.data("qtip")||m==="api")return(u=this.data("qtip"))?u:R;else if("string"===typeof e){this.each(function(){var q=b(this).data("qtip");if(!q)return x;if(/option|set/.test(m)&&c)if(t!==R)q.set(c,t);else k=q.get(c);else{if(!q.rendered&&(m==="show"||m==="toggle")){if(r&&r.timeStamp)q.cache.event=r;q.render(1)}else if(m==="enable"){m="disable";j=[l]}q[m]&&q[m].apply(q[m],j)}});return k!==F?k:this}else if("object"===
typeof e||!arguments.length){u=W(b.extend(x,{},e));return b.fn.qtip.bind.call(this,u,r)}};b.fn.qtip.bind=function(e,c){return this.each(function(){function t(E){function A(){q.render(typeof E==="object"||m.show.ready);k.show.unbind(j.show);k.hide.unbind(j.hide)}if(q.cache.disabled)return l;q.cache.event=b.extend({},E);if(m.show.delay>0){clearTimeout(q.timers.show);q.timers.show=setTimeout(A,m.show.delay);j.show!==j.hide&&k.hide.bind(j.hide,function(){clearTimeout(q.timers.show)})}else A()}var m,k,
j,r=e.id=!e.id||e.id===l||e.id.length<1||b("#"+J+"-"+e.id).length?b.fn.qtip.nextid++:e.id,u=".qtip-"+r+"-create",q=$.call(this,r,e);if(q===l)return x;m=q.options;b.each(b.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(q)});k={show:m.show.target,hide:m.hide.target};j={show:String(m.show.event).replace(" ",u+" ")+u,hide:String(m.hide.event).replace(" ",u+" ")+u};k.show.bind(j.show,t);if(m.show.ready||m.prerender)t(c)})};b.each({attr:function(e){var c=b(this),t=c.data("qtip");return arguments.length===
1&&e==="title"&&t&&t.rendered===x?c.data("oldtitle"):F},remove:b.ui?F:function(e,c){b(this).each(function(){if(!c)if(!e||b.filter(e,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})})}},function(e,c){if(!c)return x;b.fn["Old"+e]=b.fn[e];b.fn[e]=function(){return c.apply(this,arguments)||b.fn["Old"+e].apply(this,arguments)}});b(document).ready(function(){var e=document,c=e.body;b(e).bind("mousemove.qtip",function(t){b.fn.qtip.mouse={pageX:t.pageX,pageY:t.pageY}});
e.activeElement===R&&e.addEventListener("focus",function(t){if(t&&t.target)e.activeElement=t.target===e?c:t.target},true)});b.fn.qtip.version="2.0.0pre";b.fn.qtip.nextid=0;b.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");b.fn.qtip.zindex=15E3;b.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=
(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var c=this.x.substr(0,1),t=this.y.substr(0,1);return c===t?c:c==="c"||c!=="c"&&t!=="c"?t+c:c+t}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};b.fn.qtip.defaults={prerender:l,id:l,overwrite:x,metadata:{type:"class"},
content:{text:x,attr:"title",title:{text:l,button:l}},position:{my:"top left",at:"bottom right",target:l,container:l,viewport:l,adjust:{x:0,y:0,mouse:x,resize:x},effect:x},show:{target:l,event:"mouseenter",effect:x,delay:90,solo:l,ready:l},hide:{target:l,event:"mouseleave",effect:x,delay:0,fixed:l,inactive:l},style:{classes:"",widget:l},events:{render:F,move:F,show:F,hide:F,toggle:F,focus:F,blur:F}};b.fn.qtip.plugins.ajax=function(e){var c=e.plugins.ajax;return"object"===typeof c?c:e.plugins.ajax=
new aa(e)};b.fn.qtip.plugins.ajax.initialize="render";b.fn.qtip.plugins.ajax.sanitize=function(e){var c=e.content;if(c&&"ajax"in c){c=c.ajax;if(typeof c!=="object")c=e.content.ajax={url:c};if("boolean"!==typeof c.once&&c.once)c.once=!!c.once}};b.extend(x,b.fn.qtip.defaults,{content:{ajax:{once:x}}});b.fn.qtip.plugins.tip=function(e){var c=e.plugins.tip;return"object"===typeof c?c:e.plugins.tip=new ba(e)};b.fn.qtip.plugins.tip.initialize="render";b.fn.qtip.plugins.tip.sanitize=function(e){var c=e.style;
if(c&&"tip"in c){c=e.style.tip;if(typeof c!=="object")e.style.tip={corner:c};if(!/string|boolean/i.test(typeof c.corner))c.corner=x;typeof c.width!=="number"&&delete c.width;typeof c.height!=="number"&&delete c.height;typeof c.border!=="number"&&c.border!==x&&delete c.border;typeof c.offset!=="number"&&delete c.offset}};b.extend(x,b.fn.qtip.defaults,{style:{tip:{corner:x,mimic:l,width:8,height:8,border:x,offset:0}}});b.fn.qtip.plugins.imagemap=function(e,c){function t(C,i){for(var p=0,a=1,o=1,w=0,
g=0,d=C.width,f=C.height;d>0&&f>0&&a>0&&o>0;){d=Math.floor(d/2);f=Math.floor(f/2);if(c.x==="left")a=d;else if(c.x==="right")a=C.width-d;else a+=Math.floor(d/2);if(c.y==="top")o=f;else if(c.y==="bottom")o=C.height-f;else o+=Math.floor(f/2);for(p=i.length;p--;){if(i.length<2)break;w=i[p][0]-C.offset.left;g=i[p][1]-C.offset.top;if(c.x==="left"&&w>=a||c.x==="right"&&w<=a||c.x==="center"&&(w<a||w>C.width-a)||c.y==="top"&&g>=o||c.y==="bottom"&&g<=o||c.y==="center"&&(g<o||g>C.height-o))i.splice(p,1)}}return{left:i[0][0],
top:i[0][1]}}var m=e.attr("shape").toLowerCase(),k=e.attr("coords").split(","),j=[],r=b('img[usemap="#'+e.parent("map").attr("name")+'"]'),u=r.offset(),q={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},E=0,A=0;u.left+=Math.ceil((r.outerWidth()-r.width())/2);u.top+=Math.ceil((r.outerHeight()-r.height())/2);if(m==="poly")for(E=k.length;E--;){A=[parseInt(k[--E],10),parseInt(k[E+1],10)];if(A[0]>q.offset.right)q.offset.right=A[0];if(A[0]<q.offset.left)q.offset.left=A[0];if(A[1]>q.offset.bottom)q.offset.bottom=
A[1];if(A[1]<q.offset.top)q.offset.top=A[1];j.push(A)}else j=b.map(k,function(C){return parseInt(C,10)});switch(m){case "rect":q={width:Math.abs(j[2]-j[0]),height:Math.abs(j[3]-j[1]),offset:{left:j[0],top:j[1]}};break;case "circle":q={width:j[2]+2,height:j[2]+2,offset:{left:j[0],top:j[1]}};break;case "poly":b.extend(q,{width:Math.abs(q.offset.right-q.offset.left),height:Math.abs(q.offset.bottom-q.offset.top)});q.offset=c.string()==="centercenter"?{left:q.offset.left+q.width/2,top:q.offset.top+q.height/
2}:t(q,j.slice());q.width=q.height=0;break}q.offset.left+=u.left;q.offset.top+=u.top;return q};b.fn.qtip.plugins.modal=function(e){var c=e.plugins.modal;return"object"===typeof c?c:e.plugins.modal=new ca(e)};b.fn.qtip.plugins.modal.initialize="render";b.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=x};b.extend(x,b.fn.qtip.defaults,{show:{modal:{on:l,effect:x,blur:x}}});
b.fn.qtip.plugins.bgiframe=function(e){if(!(b.browser.msie&&/^6\.[0-9]/.test(b.browser.version)&&b("select, object").length))return l;var c=e.plugins.bgiframe;if(c)return c;else{e.plugins.bgiframe=new da(e);return e.plugins.bgiframe}};b.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
