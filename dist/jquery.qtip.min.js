/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Tue Jan 18 17:28:31 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(d,N,S){function W(e){var b;if(!e)return n;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};b=e.content.text||n;if(!d.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))e.content.text=n;if("title"in e.content){if("object"!==typeof e.content.title)e.content.title={text:e.content.title};b=e.content.title.text||n;if(!d.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===
typeof b&&!b.jquery))e.content.title.text=n}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,at:e.position};if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e)if("object"!==typeof e.style)e.style={classes:e.style};d.each(d.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function Y(e,b,p){function m(c){var f,
i=c.split("."),o=b[i[0]];for(c=1;c<i.length;c+=1){f=o[i[c]];if(typeof f==="object"&&!f.jquery&&!f.precedance)o=o[i[c]];else break}return i[c]!==S?[o,i[c]]:[b,i[0]]}function l(c,f){var i={left:0,top:0},o=!d.fn.qtip.plugins.iOS,j=d(f),v;if(f)if(j.css("position")!=="static"){i=l(f);i.left*=-1;i.top*=-1}else if(j.css("overflow")!=="visible"){i.left-=f.scrollLeft;i.top-=f.scrollTop}if(c.offsetParent){do{j=c.offsetParent;v=j===f;i.left+=c.offsetLeft-(o&&j&&!v?j.scrollLeft:0);i.top+=c.offsetTop-(o&&j&&!v?
j.scrollTop:0)}while(c=j)}return i}function k(){return g.css("left")!==Z}function r(){var c=a.elements,f=b.style.widget;g.toggleClass(X,f);c.content.toggleClass(X+"-content",f);c.titlebar&&c.titlebar.toggleClass(X+"-header",f);c.button&&c.button.toggleClass(L+"-icon",!f)}function u(){var c=a.elements;if(c.title){c.titlebar.remove();c.titlebar=c.title=c.button=E;a.reposition()}}function q(){var c=a.elements,f=b.content.title.button;c.button&&c.button.remove();c.button=f.jquery?f:d("<a />",{"class":"ui-state-default "+
(b.style.widget?"":L+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(d("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));c.button.appendTo(c.titlebar).attr("role","button").hover(function(i){d(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(i){g.hasClass(R)||a.hide(i);return n}).bind("mousedown keydown mouseup keyup mouseout",function(i){d(this).toggleClass("ui-state-active ui-state-focus",i.type.substr(-4)==="down")});a.redraw()}function D(){var c=
a.elements,f=w+"-title";c.titlebar&&u();c.titlebar=d("<div />",{"class":L+"-titlebar "+(b.style.widget?"ui-widget-header":"")}).append(c.title=d("<div />",{id:f,"class":L+"-title","aria-atomic":x})).insertBefore(c.content);if(b.content.title.button)q();else a.rendered===x&&a.redraw()}function y(c){var f=a.elements.title;if(!a.rendered||!c)return n;if(d.isFunction(c))c=c.call(e,a)||"";c.jquery&&c.length>0?f.empty().append(c.css({display:"block"})):f.html(c);a.redraw();a.rendered===x&&a.reposition(a.cache.event)}
function A(c){var f=a.elements.content;if(!a.rendered||!c)return n;if(d.isFunction(c))c=c.call(e,a)||"";c.jquery&&c.length>0?f.empty().append(c.css({display:"block"})):f.html(c);g.queue("fx",function(i){function o(v){j=j.not(v);if(j.length===0){a.redraw();a.rendered===x&&a.reposition(a.cache.event);i()}}var j=f.find("img:not([height]):not([width])");j.each(function(v,z){var H=["abort","error","load","unload",""].join(".qtip-image ");d(this).bind(H,function(){clearTimeout(a.timers.img[v]);o(this)});
(function B(){if(z.height)return o(z);a.timers.img[v]=setTimeout(B,20)})();return x});j.length===0&&o(j)});return a}function M(c,f,i,o){function j(s){if(g.hasClass(R))return n;F.show.trigger("qtip-"+p+"-inactive");clearTimeout(a.timers.show);clearTimeout(a.timers.hide);var G=function(){a.show(s)};if(b.show.delay>0)a.timers.show=setTimeout(G,b.show.delay);else G()}function v(s){if(g.hasClass(R))return n;var G=d(s.relatedTarget||s.target),J=G.parents(U)[0]===g[0];G=G[0]===F.show[0];clearTimeout(a.timers.show);
clearTimeout(a.timers.hide);if(b.hide.fixed&&(C.target==="mouse"&&J||/mouse(out|leave|move)/.test(s.type)&&(J||G))){s.stopPropagation();s.preventDefault();return n}g.stop(1,1);if(b.hide.delay>0)a.timers.hide=setTimeout(function(){a.hide(s)},b.hide.delay);else a.hide(s)}function z(s){if(g.hasClass(R))return n;clearTimeout(a.timers.inactive);a.timers.inactive=setTimeout(function(){a.hide(s)},b.hide.inactive)}function H(s){if(!a.cache.processing){a.cache.processing=1;k()&&a.reposition(s);a.cache.processing=
0}}var B=".qtip-"+p,C=b.position,F={show:b.show.target,hide:b.hide.target,container:C.container[0]===t?document:C.container},P={show:String(b.show.event).split(" "),hide:String(b.hide.event).split(" ")},Q=d(document),I=d.browser.msie&&parseInt(d.browser.version,10)===6;if(i){if(b.hide.fixed){F.hide=F.hide.add(g);g.bind("mouseover"+B,function(){g.hasClass(R)||clearTimeout(a.timers.hide)})}g.bind("mouseenter"+B+" mouseleave"+B,function(s){a[s.type==="mouseenter"?"focus":"blur"](s)})}if(f){if("number"===
typeof b.hide.inactive){F.show.bind("qtip-"+p+"-inactive",z);d.each(d.fn.qtip.inactiveEvents,function(s,G){F.hide.add(a.elements.tooltip).bind(G+B+"-inactive",z)})}d.each(P.hide,function(s,G){var J=d.inArray(G,P.show),K=d(F.hide);if(J>-1&&K.add(F.show).length===K.length||G==="unfocus"){F.show.bind(G+B,function(O){k()?v(O):j(O)});delete P.show[J]}else F.hide.bind(G+B,v)})}c&&d.each(P.show,function(s,G){F.show.bind(G+B,j)});if(o){if(C.adjust.resize||C.viewport)d(d.event.special.resize?C.viewport:N).bind("resize"+
B,H);if(C.viewport||I&&g.css("position")==="fixed")d(C.viewport).bind("scroll"+B,H);/unfocus/i.test(b.hide.event)&&Q.bind("mousedown"+B,function(s){var G=d(s.target);G.parents(U).length===0&&G.add(e).length>1&&k()&&!g.hasClass(R)&&a.hide(s)});C.target==="mouse"&&Q.bind("mousemove"+B,function(s){if(C.adjust.mouse&&!g.hasClass(R)&&k())a.reposition(s||d.fn.qtip.mouse)})}}function h(c,f,i,o){o=parseInt(o,10)!==0;var j=".qtip-"+p;f={show:c?b.show.target:E,hide:f?b.hide.target:E,tooltip:i?a.elements.tooltip:
E,content:i?a.elements.content:E,container:o?b.position.container[0]===t?document:b.position.container:E,window:o?N:E};if(a.rendered)d([]).pushStack(d.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(j);else c&&f.show.unbind(j+"-create")}var a=this,t=document.body,w=L+"-"+p,g;a.id=p;a.rendered=n;a.elements={target:e};a.timers={img:[]};a.options=b;a.plugins={};a.cache={event:{},target:E,disabled:n,lastFocus:t};d.extend(a,{render:function(c){if(a.rendered)return n;
var f=a.elements,i=b.content.text,o=b.content.title.text,j=d.Event("tooltiprender");e.attr({"aria-describedby":w});g=f.tooltip=d("<div/>").attr({id:w,"class":L+" qtip ui-helper-reset "+b.style.classes,role:"alert","aria-live":"polite","aria-atomic":n,"aria-describedby":w+"-content","aria-hidden":x}).toggleClass(R,a.cache.disabled).data("qtip",a).appendTo(b.position.container).append(f.content=d("<div />",{"class":L+"-content",id:w+"-content","aria-atomic":x}));a.rendered=x;if(o){D();y(o)}A(i);d.each(d.fn.qtip.plugins,
function(){this.initialize==="render"&&this(a)});M(1,1,1,1);d.each(b.events,function(v,z){if(z)g.bind(v==="toggle"?"tooltipshow tooltiphide":"tooltip"+v,z)});g.queue("fx",function(v){j.originalEvent=a.cache.event;g.trigger(j,[a]);if(b.show.ready||c){g.hide();a.show(a.cache.event)}v()});return a},get:function(c){switch(c.toLowerCase()){case "dimensions":c={height:g.outerHeight(),width:g.outerWidth()};break;case "offset":c=l(g[0],b.position.container[0]);break;default:c=m(c.toLowerCase());c=c[0].precedance?
c[0].string():c[0].jquery?c[0]:c[0][c[1]];break}return c},set:function(c,f){c=c.toLowerCase();var i=m(c),o=a.elements,j,v,z,H={builtin:{"^id$":function(){var B=f===x?d.fn.qtip.nextid:f,C=L+"-"+B;if(B!==n&&B.length>0&&!d("#"+C).length){g[0].id=C;o.content[0].id=C+"-content";o.title[0].id=C+"-title"}},"^content.text$":function(){A(f)},"^content.title.text$":function(){if(!f)return u();!a.elements.title&&f&&D();y(f)},"^content.title.button$":function(){var B=a.elements.button,C=a.elements.title;if(a.rendered)if(f){C||
D();q()}else B.remove()},"^position.(my|at)$":function(){var B=/my$/i.test(c)?"my":"at";if("string"===typeof f)b.position[B]=new d.fn.qtip.plugins.Corner(f)},"^position.container$":function(){a.rendered===x&&g.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(B,C,F,P){var Q=c.search(/fixed/i)>-1?[0,[0,1,1,1]]:[c.substr(0,3),c.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(Q[0])B[C]=P;h.apply(a,Q[1]);if(Q[0])B[C]=F;M.apply(a,Q[1])},"^show.ready$":function(){a.rendered===n&&a.show()},
"^style.classes$":function(){g.attr("class",L+" qtip ui-helper-reset "+f)},"^style.widget|content.title":r,"^events.(render|show|move|hide|focus|blur)$":function(B,C,F){o.tooltip[(d.isFunction(f)?"":"un")+"bind"]("tooltip"+C,F)},"^position.(my|at|adjust|target|container)|style|content":function(){a.reposition()}}};d.each(a.plugins,function(B){if("object"===typeof this.checks)H[B]=this.checks});j=i[0][i[1]];i[0][i[1]]=f.nodeType?d(f):f;W(b);for(v in H)for(z in H[v])RegExp(z,"i").test(c)&&H[v][z].call(a,
i[0],i[1],f,j);return a},toggle:function(c,f){function i(){if(c)d.browser.msie&&g[0].style.removeAttribute("filter");else g.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(a.rendered===n)return n;var o=c?"show":"hide",j=b[o],v=k();if((typeof c).search("boolean|number"))c=!v;if(!v&&!c||g.is(":animated"))return a;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(a.cache.event.type)&&f.target===b.show.target[0]&&g.has(f.relatedTarget).length)return a;a.cache.event=d.extend({},
f)}v=d.Event("tooltip"+o);v.originalEvent=f?a.cache.event:E;g.trigger(v,[a,90]);if(v.isDefaultPrevented())return a;g.attr("aria-hidden",!!!c);if(c){g.hide().css({visibility:""});a.focus(f);a.reposition(f,0);j.solo&&d(U).not(g).qtip("hide")}else{clearTimeout(a.timers.show);a.blur(f)}g.stop(1,1);if(d.isFunction(j.effect)){j.effect.call(g,a);g.queue("fx",function(z){i.call(this,z);z()})}else if(j.effect===n){g[o]();i.call(g)}else g.fadeTo(90,c?1:0,i);c&&j.target.trigger("qtip-"+p+"-inactive");return d.fn.qtip.lastShown=
a},show:function(c){a.toggle(x,c)},hide:function(c){a.toggle(n,c)},focus:function(c){if(a.rendered===n)return n;var f=d(U),i=parseInt(g[0].style.zIndex,10),o=d.fn.qtip.zindex+f.length;c=d.extend({},c);if(!g.hasClass(V)){if(i!==o){f.each(function(){if(this.style.zIndex>i)this.style.zIndex-=1});f.filter("."+V).qtip("blur",c)}a.cache.lastFocus=document.activeElement;f=d.Event("tooltipfocus");f.originalEvent=c;g.trigger(f,[a,o]);if(!f.isDefaultPrevented())g.addClass(V)[0].style.zIndex=o}return a},blur:function(c){c=
d.extend({},c);var f;g.removeClass(V);f=d.Event("tooltipblur");f.originalEvent=c;g.trigger(f,[a])},reposition:function(c,f){if(a.rendered===n)return n;var i=b.position.target,o=b.position,j=o.my,v=o.at,z=o.adjust,H=g.outerWidth(),B=g.outerHeight(),C=0,F=0,P=d.Event("tooltipmove"),Q=g.css("position")==="fixed",I=o.viewport.jquery?o.viewport:d(N),s={left:0,top:0},G={left:function(J){var K=I.scrollLeft,O=v.x==="left"?C:v.x==="right"?-C:-C/2,T=K-J;K=J+H-I.width-K;O=(j.x==="left"?H:j.x==="right"?-H:-H/
2)-(j.precedance==="x"||j.x===j.y?O:0);if(T>0&&(j.x!=="left"||K>0))s.left-=O;else if(K>0&&(j.x!=="right"||T>0))s.left-=(j.x==="center"?-1:1)*O+2*z.x;if(s.left<0&&-s.left>K)s.left=J;return s.left-J},top:function(J){var K=I.scrollTop,O=v.y==="top"?F:v.y==="bottom"?-F:-F/2,T=K-J;K=J+B-I.height-K;O=(j.y==="top"?B:j.y==="bottom"?-B:-B/2)-(j.precedance==="y"||j.x===j.y?O:0);if(T>0&&(j.y!=="top"||K>0))s.top-=O;else if(K>0&&(j.y!=="bottom"||T>0))s.top-=(j.y==="center"?-1:1)*O+2*z.y;if(s.top<0&&-s.top>K)s.top=
J;return s.top-J}};f=f===S||!!f||n;I=!I?n:{elem:I,height:I[(I[0]===N?"h":"outerH")+"eight"](),width:I[(I[0]===N?"w":"outerW")+"idth"](),scrollLeft:I.scrollLeft(),scrollTop:I.scrollTop()};if(i==="mouse"){v={x:"left",y:"top"};c=c&&(c.type==="resize"||c.type==="scroll")?a.cache.event:z.mouse||!c||!c.pageX?d.extend({},d.fn.qtip.mouse):c;s={top:c.pageY,left:c.pageX}}else{if(i==="event")i=c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?a.cache.target=d(c.target):a.cache.target;i=d(i).eq(0);if(i.length===
0)return a;else if(i[0]===document||i[0]===N){C=i.width();F=i.height();if(i[0]===N)s={top:Q?0:I.scrollTop,left:Q?0:I.scrollLeft}}else if(i.is("area")&&d.fn.qtip.plugins.imagemap){s=d.fn.qtip.plugins.imagemap(i,v);C=s.width;F=s.height;s=s.offset}else{C=i.outerWidth();F=i.outerHeight();s=l(i[0],o.container[0])}s.left+=v.x==="right"?C:v.x==="center"?C/2:0;s.top+=v.y==="bottom"?F:v.y==="center"?F/2:0}s.left+=z.x+(j.x==="right"?-H:j.x==="center"?-H/2:0);s.top+=z.y+(j.y==="bottom"?-B:j.y==="center"?-B/
2:0);s.adjusted=o.viewport.jquery&&i[0]!==N&&i[0]!==t?{left:G.left(s.left),top:G.top(s.top)}:{left:0,top:0};g.attr("class",function(){return d(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(L+"-pos-"+j.abbreviation());P.originalEvent=d.extend({},c);g.trigger(P,[a,s,I.elem]);if(P.isDefaultPrevented())return a;delete s.adjusted;if(!f||!isNaN(s.left,s.top))g.css(s);else if(k()&&d.isFunction(o.effect)){o.effect.call(g,a,s);g.queue(function(J){d(this).css({opacity:"",height:""});d.browser.msie&&
this.style&&this.style.removeAttribute("filter");J()})}return a},redraw:function(){if(!a.rendered||!(d.browser.msie&&d.browser.version<8))return n;var c=L+"-fluid",f;g.css({width:"auto",height:"auto"}).addClass(c);f={height:g.outerHeight(),width:g.outerWidth()};d.each(["width","height"],function(i,o){var j=parseInt(g.css("max-"+o),10)||0,v=parseInt(g.css("min-"+o),10)||0;f[o]=j+v?Math.min(Math.max(f[o],v),j):f[o]});g.css(f).removeClass(c)},disable:function(c){var f=R;if("boolean"!==typeof c)c=!(g.hasClass(f)||
a.cache.disabled);if(a.rendered){g.toggleClass(f,c);g.attr("aria-disabled",c)}else a.cache.disabled=!!c;return a},destroy:function(){var c=d.data(e[0],"oldtitle");if(a.rendered){g.remove();d.each(a.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(a.timers.show);clearTimeout(a.timers.hide);h(1,1,1,1);e.removeData("qtip");c&&e.attr("title",c);e.removeAttr("aria-describedby");return e}})}function $(e,b){var p,m,l=d(this),k=d(document.body),r=this===document?k:l;m=l.metadata?
l.metadata(b.metadata):E;var u=d.extend(x,{},d.fn.qtip.defaults,b,W((m&&b.metadata.type==="html5"?m[b.metadata.name]:E)||m));l.removeData("metadata");m=u.position;if("boolean"===typeof u.content.text)if(u.content.attr!==n&&l.attr(u.content.attr))u.content.text=l.attr(u.content.attr);else return n;if(m.container===n)m.container=k;if(m.target===n)m.target=r;if(u.show.target===n)u.show.target=r;if(u.hide.target===n)u.hide.target=r;if(u.position.viewport===x)u.position.viewport=m.container;m.at=new d.fn.qtip.plugins.Corner(m.at);
m.my=new d.fn.qtip.plugins.Corner(m.my);if(d.data(this,"qtip"))if(u.overwrite)l.qtip("destroy");else if(u.overwrite===n)return n;if(l.attr("title")){d.data(this,"oldtitle",l.attr("title"));l.removeAttr("title")}p=new Y(l,u,e);d.data(this,"qtip",p);l.bind("remove.qtip",function(){p.destroy()});return p}function aa(e){var b=this,p=e.elements.tooltip,m=e.options.content.ajax;b.checks={"^content.ajax":function(l,k){if(k==="once")b.once();else m&&m.url&&b.load()}};d.extend(b,{init:function(){if(m&&m.url){b.load();
p.one("tooltipshow",b.once)}},once:function(){m.once?b.destroy():p.bind("tooltipshow.qtip-ajax",b.load)},load:function(){d.ajax(d.extend({success:function(l){e.set("content.text",l)},error:function(l,k,r){e.set("content.text",k+": "+r)},context:e},m));return b},destroy:function(){p.unbind(".qtip-ajax")}});b.init()}function ba(e,b,p){var m=Math.ceil(b/2),l=Math.ceil(p/2);b={bottomright:[[0,0],[b,p],[b,0]],bottomleft:[[0,0],[b,0],[0,p]],topright:[[0,p],[b,0],[b,p]],topleft:[[0,0],[0,p],[b,p]],topcenter:[[0,
p],[m,0],[b,p]],bottomcenter:[[0,0],[b,0],[m,p]],rightcenter:[[0,0],[b,l],[0,p]],leftcenter:[[b,0],[b,p],[0,l]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[e.string()]}function ca(e){function b(h,a,t){if(r.tip){h=d.extend({},l.corner);a=t.adjusted;var w;if(l.corner.fixed!==x){if(a.left)h.x=h.x==="center"?a.left>0?"left":"right":h.x==="left"?"right":"left";if(a.top)h.y=h.y==="center"?a.top>0?"top":"bottom":h.y==="top"?"bottom":"top";if(h.string()!==
q.corner&&(q.top!==a.top||q.left!==a.left))w=l.update(h)}w||(w=l.position(h,0));if(w.right!==S)w.left=w.right;if(w.bottom!==S)w.top=w.bottom;w.option=Math.max(0,k.offset);t.left-=w.left.charAt?w.option:(w.right?-1:1)*w.left;t.top-=w.top.charAt?w.option:(w.bottom?-1:1)*w.top;q.left=a.left;q.top=a.top;q.corner=h.string()}}function p(h,a,t){a=!a?h[h.precedance]:a;a="border-"+a+"-width";h=parseInt((r.titlebar&&h.y==="top"?r.titlebar:r.content).css(a),10);return(t?h||parseInt(u.css(a),10):h)||0}function m(h){var a=
h.precedance==="y",t=D[a?"width":"height"],w=D[a?"height":"width"],g=h.string().indexOf("center")>-1,c=t*(g?0.5:1),f=Math.pow;h=Math.round;var i=Math.sqrt(f(c,2)+f(w,2));c=[A/c*i,A/w*i];c[2]=Math.sqrt(f(c[0],2)-f(A,2));c[3]=Math.sqrt(f(c[1],2)-f(A,2));g=(i+c[2]+c[3]+(g?0:c[0]))/i;t=[h(g*w),h(g*t)];return{height:t[a?0:1],width:t[a?1:0]}}var l=this,k=e.options.style.tip,r=e.elements,u=r.tooltip,q={top:0,left:0,corner:""},D={width:k.width,height:k.height},y={},A=k.border||0,M=d("<canvas />")[0].getContext;
l.corner=E;l.mimic=E;l.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){l.init()||l.destroy();e.reposition()},"^style.tip.(height|width)$":function(){D={width:k.width,height:k.height};l.create();l.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){r.tip&&l.update()}};d.extend(l,{init:function(){var h=l.detectCorner()&&(M||d.browser.msie);if(h){l.create();l.update();u.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",b)}return h},detectCorner:function(){var h=
k.corner,a=e.options.position,t=a.at;a=a.my.string?a.my.string():a.my;if(h===n||a===n&&t===n)return n;else if(h===x)l.corner=new d.fn.qtip.plugins.Corner(a);else if(!h.string){l.corner=new d.fn.qtip.plugins.Corner(h);l.corner.fixed=x}return l.corner.string()!=="centercenter"},detectColours:function(){var h=r.tip.css({backgroundColor:"",border:""}),a=l.corner,t=a[a.precedance],w="border-"+t+"-color";t="border"+t.charAt(0)+t.substr(1)+"Color";var g=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;a=r.titlebar&&
(a.y==="top"||a.y==="center"&&h.position().top+D.height/2+k.offset<r.titlebar.outerHeight(1))?r.titlebar:r.content;y.fill=h.css("background-color")||"transparent";y.border=h[0].style[t];if(!y.fill||g.test(y.fill)){y.fill=a.css("background-color");if(g.test(y.fill))y.fill=u.css("background-color")}if(!y.border||g.test(y.border)){y.border=u.css(w);if(g.test(y.border)||y.border===d(document.body).css("color"))y.border=a.css(w)!==d(e.elements.content).css("color")?a.css(w):"transparent"}d("*",h).add(h).css("background-color",
"transparent").css("border","0px dashed transparent")},create:function(){var h=D.width,a=D.height;r.tip&&r.tip.remove();r.tip=d("<div />",{"class":"ui-tooltip-tip"}).css({width:h,height:a}).prependTo(u);if(M)d("<canvas />").appendTo(r.tip)[0].getContext("2d").save();else{h='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';r.tip.html(A?h+=h:h)}},update:function(h){var a=r.tip,t=a.children(),w=D.width,g=D.height,c=k.mimic,f=Math.round,
i,o,j;if(!h)h=l.corner;if(c===n)c=h;else{c=new d.fn.qtip.plugins.Corner(c);c.precedance=h.precedance;if(c.x==="inherit")c.x=h.x;else if(c.y==="inherit")c.y=h.y;else if(c.x===c.y)c[h.precedance]=h[h.precedance]}i=c.precedance;l.detectColours();A=y.border==="transparent"||y.border==="#123456"?0:k.border===x?p(h,E,x):k.border;o=ba(c,w,g);j=m(h);a.css(j);a=h.precedance==="y"?[f(c.x==="left"?A:c.x==="right"?j.width-w-A:(j.width-w)/2),f(c.y==="top"?j.height-g:0)]:[f(c.x==="left"?j.width-w:0),f(c.y==="top"?
A:c.y==="bottom"?j.height-g-A:(j.height-g)/2)];if(M){t.attr(j);t=t[0].getContext("2d");t.restore();t.save();t.clearRect(0,0,3E3,3E3);t.translate(a[0],a[1]);t.beginPath();t.moveTo(o[0][0],o[0][1]);t.lineTo(o[1][0],o[1][1]);t.lineTo(o[2][0],o[2][1]);t.closePath();t.fillStyle=y.fill;t.strokeStyle=y.border;t.lineWidth=A*2;t.lineJoin="miter";t.miterLimit=100;t.stroke();t.fill()}else{o="m"+o[0][0]+","+o[0][1]+" l"+o[1][0]+","+o[1][1]+" "+o[2][0]+","+o[2][1]+" xe";a[2]=A&&/^(r|b)/i.test(h.string())?1:0;
t.css({antialias:""+(c.string().indexOf("center")>-1),left:a[0]-a[2]*Number(i==="x"),top:a[1]-a[2]*Number(i==="y"),width:w+A,height:g+A}).each(function(v){var z=d(this);z.attr({coordsize:w+A+" "+(g+A),path:o,fillcolor:y.fill,filled:!!v,stroked:!!!v}).css({display:A||v?"block":"none"});!v&&A>0&&z.html()===""&&z.html('<vml:stroke weight="'+A*2+'px" color="'+y.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}return l.position(h,1)},position:function(h,
a){var t=r.tip,w={},g=Math.max(0,k.offset),c,f,i;if(k.corner===n||!t)return n;h=h||l.corner;c=h.precedance;f=m(h)[c==="x"?"width":"height"];i=d.browser.msie&&A&&/^(b|r)/i.test(h.string())?1:0;d.each(c==="y"?[h.x,h.y]:[h.y,h.x],function(o,j){var v,z;if(j==="center"){v=c==="y"?"left":"top";w[v]="50%";w["margin-"+v]=-Math.round(f/2)+g}else{v=p(h,j,x);z=d.browser.mozilla;var H=h.y+(z?"":"-")+h.x;z=(z?"-moz-":d.browser.webkit?"-webkit-":"")+(z?"border-radius-"+H:"border-"+H+"-radius");z=parseInt((r.titlebar&&
h.y==="top"?r.titlebar:r.content).css(z),10)||parseInt(u.css(z),10)||0;w[j]=o||!A?p(h,j):g+(z>v?z:0)}});w[h[c]]-=f+i;a&&t.css({top:"",bottom:"",left:"",right:"",margin:""}).css(w);return w},destroy:function(){r.tip&&r.tip.remove();u.unbind(".qtip-tip")}});l.init()}function da(e){var b=this,p=e.options.show.modal,m=e.elements,l=m.tooltip;b.checks={"^show.modal.(on|blur)$":function(){b.init();m.overlay.toggle(l.is(":visible"))}};d.extend(b,{init:function(){if(p.on){l.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(k,r,u){k=k.type.replace("tooltip","");d.isFunction(p[k])?p[k].call(m.overlay,u,r):b[k](u)});b.create();p.blur===x&&m.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var k=d("#qtip-overlay");if(k.length)m.overlay=k;else{m.overlay=d("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(l.css("z-index"),10)-1}}).appendTo(document.body);d(N).bind("resize.qtipmodal",function(){m.overlay.css({height:Math.max(d(N).height(),
d(document).height()),width:Math.max(d(N).width(),d(document).width())})}).trigger("resize")}},toggle:function(k){var r=m.overlay,u=e.options.show.modal.effect,q=k?"show":"hide";r.stop(x,n);if(d.isFunction(u))u.call(r,k);else u===n?r[q]():r.fadeTo(90,k?0.7:0,function(){k||d(this).hide()})},show:function(){b.toggle(x)},hide:function(){b.toggle(n)},destroy:function(){var k=x;d("*").each(function(){var r=d(this).data("qtip");if(r&&r.id!==e.id&&r.options.show.modal)return k=n});if(k){m.overlay.remove();
d(N).unbind(".qtipmodal")}else m.overlay.unbind(".qtipmodal"+e.id);l.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});b.init()}function ea(e){var b=this,p=e.elements,m=p.tooltip,l=".bgiframe-"+e.id,k="tooltipmove"+l+" tooltipshow"+l;d.extend(b,{init:function(){p.bgiframe=d('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');p.bgiframe.appendTo(m);m.bind(k,b.adjust)},
adjust:function(){var r=e.get("dimensions"),u=e.plugins.tip,q=e.elements.tip,D;D=parseInt(m.css("border-left-width"),10)||0;D={left:-D,top:-D};if(u&&q){u=u.corner.precedance==="x"?["width","left"]:["height","top"];D[u[1]]-=q[u[0]]()}p.bgiframe.css(D).css(r)},destroy:function(){b.iframe.remove();m.unbind(k)}});b.init()}var x=true,n=false,E=null,L="ui-tooltip",X="ui-widget",R="ui-state-disabled",U=".qtip."+L,V=L+"-focus",Z="-31000px";d.fn.qtip=function(e,b,p){var m=String(e).toLowerCase(),l=E,k=m===
"disable"?[x]:d.makeArray(arguments).slice(1,10),r=k[k.length-1],u=this[0]?d.data(this[0],"qtip"):E;if(!arguments.length&&u||m==="api")return u;else if("string"===typeof e){this.each(function(){var q=d.data(this,"qtip");if(!q)return x;if(/option|set/.test(m)&&b)if(p!==S)q.set(b,p);else l=q.get(b);else{if(!q.rendered&&(m==="show"||m==="toggle")){if(r&&r.timeStamp)q.cache.event=r;q.render(1)}else if(m==="enable"){m="disable";k=[n]}q[m]&&q[m].apply(q[m],k)}});return l!==E?l:this}else if("object"===typeof e||
!arguments.length){u=W(d.extend(x,{},e));return d.fn.qtip.bind.call(this,u,r)}};d.fn.qtip.bind=function(e,b){return this.each(function(){function p(D){function y(){q.render(typeof D==="object"||m.show.ready);l.show.unbind(k.show);l.hide.unbind(k.hide)}if(q.cache.disabled)return n;q.cache.event=d.extend({},D);if(m.show.delay>0){clearTimeout(q.timers.show);q.timers.show=setTimeout(y,m.show.delay);k.show!==k.hide&&l.hide.bind(k.hide,function(){clearTimeout(q.timers.show)})}else y()}var m,l,k,r=e.id=
!e.id||e.id===n||e.id.length<1||d("#"+L+"-"+e.id).length?d.fn.qtip.nextid++:e.id,u=".qtip-"+r+"-create",q=$.call(this,r,e);if(q===n)return x;m=q.options;d.each(d.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(q)});l={show:m.show.target,hide:m.hide.target};k={show:String(m.show.event).replace(" ",u+" ")+u,hide:String(m.hide.event).replace(" ",u+" ")+u};l.show.bind(k.show,p);if(m.show.ready||m.prerender)p(b)})};d.each({attr:function(e){var b=d.data(this,"qtip");return arguments.length===
1&&e==="title"&&b&&b.rendered===x?d.data(this,"oldtitle"):E},remove:d.ui?E:function(e,b){d(this).each(function(){if(!b)if(!e||d.filter(e,[this]).length)d("*",this).add(this).each(function(){d(this).triggerHandler("remove")})})}},function(e,b){if(!b)return x;d.fn["Old"+e]=d.fn[e];d.fn[e]=function(){return b.apply(this,arguments)||d.fn["Old"+e].apply(this,arguments)}});d(document).ready(function(){var e=document,b=e.body;d(e).bind("mousemove.qtip",function(p){d.fn.qtip.mouse={pageX:p.pageX,pageY:p.pageY}});
e.activeElement===S&&e.addEventListener("focus",function(p){if(p&&p.target)e.activeElement=p.target===e?b:p.target},true)});d.fn.qtip.version="2.0.0pre";d.fn.qtip.nextid=0;d.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");d.fn.qtip.zindex=15E3;d.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=
(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var b=this.x.substr(0,1),p=this.y.substr(0,1);return b===p?b:b==="c"||b!=="c"&&p!=="c"?p+b:b+p}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};d.fn.qtip.defaults={prerender:n,id:n,overwrite:x,metadata:{type:"class"},
content:{text:x,attr:"title",title:{text:n,button:n}},position:{my:"top left",at:"bottom right",target:n,container:n,viewport:n,adjust:{x:0,y:0,mouse:x,resize:x},effect:x},show:{target:n,event:"mouseenter",effect:x,delay:90,solo:n,ready:n},hide:{target:n,event:"mouseleave",effect:x,delay:0,fixed:n,inactive:n},style:{classes:"",widget:n},events:{render:E,move:E,show:E,hide:E,toggle:E,focus:E,blur:E}};d.fn.qtip.plugins.ajax=function(e){var b=e.plugins.ajax;return"object"===typeof b?b:e.plugins.ajax=
new aa(e)};d.fn.qtip.plugins.ajax.initialize="render";d.fn.qtip.plugins.ajax.sanitize=function(e){var b=e.content;if(b&&"ajax"in b){b=b.ajax;if(typeof b!=="object")b=e.content.ajax={url:b};if("boolean"!==typeof b.once&&b.once)b.once=!!b.once}};d.extend(x,d.fn.qtip.defaults,{content:{ajax:{once:x}}});d.fn.qtip.plugins.tip=function(e){var b=e.plugins.tip;return"object"===typeof b?b:e.plugins.tip=new ca(e)};d.fn.qtip.plugins.tip.initialize="render";d.fn.qtip.plugins.tip.sanitize=function(e){var b=e.style;
if(b&&"tip"in b){b=e.style.tip;if(typeof b!=="object")e.style.tip={corner:b};if(!/string|boolean/i.test(typeof b.corner))b.corner=x;typeof b.width!=="number"&&delete b.width;typeof b.height!=="number"&&delete b.height;typeof b.border!=="number"&&b.border!==x&&delete b.border;typeof b.offset!=="number"&&delete b.offset}};d.extend(x,d.fn.qtip.defaults,{style:{tip:{corner:x,mimic:n,width:8,height:8,border:x,offset:0}}});d.fn.qtip.plugins.imagemap=function(e,b){function p(A,M){for(var h=0,a=1,t=1,w=0,
g=0,c=A.width,f=A.height;c>0&&f>0&&a>0&&t>0;){c=Math.floor(c/2);f=Math.floor(f/2);if(b.x==="left")a=c;else if(b.x==="right")a=A.width-c;else a+=Math.floor(c/2);if(b.y==="top")t=f;else if(b.y==="bottom")t=A.height-f;else t+=Math.floor(f/2);for(h=M.length;h--;){if(M.length<2)break;w=M[h][0]-A.offset.left;g=M[h][1]-A.offset.top;if(b.x==="left"&&w>=a||b.x==="right"&&w<=a||b.x==="center"&&(w<a||w>A.width-a)||b.y==="top"&&g>=t||b.y==="bottom"&&g<=t||b.y==="center"&&(g<t||g>A.height-t))M.splice(h,1)}}return{left:M[0][0],
top:M[0][1]}}var m=e.attr("shape").toLowerCase(),l=e.attr("coords").split(","),k=[],r=d('img[usemap="#'+e.parent("map").attr("name")+'"]'),u=r.offset(),q={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},D=0,y=0;u.left+=Math.ceil((r.outerWidth()-r.width())/2);u.top+=Math.ceil((r.outerHeight()-r.height())/2);if(m==="poly")for(D=l.length;D--;){y=[parseInt(l[--D],10),parseInt(l[D+1],10)];if(y[0]>q.offset.right)q.offset.right=y[0];if(y[0]<q.offset.left)q.offset.left=y[0];if(y[1]>q.offset.bottom)q.offset.bottom=
y[1];if(y[1]<q.offset.top)q.offset.top=y[1];k.push(y)}else k=d.map(l,function(A){return parseInt(A,10)});switch(m){case "rect":q={width:Math.abs(k[2]-k[0]),height:Math.abs(k[3]-k[1]),offset:{left:k[0],top:k[1]}};break;case "circle":q={width:k[2]+2,height:k[2]+2,offset:{left:k[0],top:k[1]}};break;case "poly":d.extend(q,{width:Math.abs(q.offset.right-q.offset.left),height:Math.abs(q.offset.bottom-q.offset.top)});q.offset=b.string()==="centercenter"?{left:q.offset.left+q.width/2,top:q.offset.top+q.height/
2}:p(q,k.slice());q.width=q.height=0;break}q.offset.left+=u.left;q.offset.top+=u.top;return q};d.fn.qtip.plugins.modal=function(e){var b=e.plugins.modal;return"object"===typeof b?b:e.plugins.modal=new da(e)};d.fn.qtip.plugins.modal.initialize="render";d.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=x};d.extend(x,d.fn.qtip.defaults,{show:{modal:{on:n,effect:x,blur:x}}});
d.fn.qtip.plugins.bgiframe=function(e){if(!(d.browser.msie&&/^6\.[0-9]/.test(d.browser.version)&&d("select, object").length))return n;var b=e.plugins.bgiframe;if(b)return b;else{e.plugins.bgiframe=new ea(e);return e.plugins.bgiframe}};d.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
