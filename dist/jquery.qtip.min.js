/*
* qTip2 - Pretty pwoerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Mon Jan 3 22:49:14 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null,uitooltip="ui-tooltip",widget="ui-widget",disabled="ui-state-disabled",selector=".qtip."+uitooltip;
(function(c,E,I){function L(e){var a;if(!e)return FALSE;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};a=e.content.text||FALSE;if(!c.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))a=e.content.text=FALSE;if("title"in e.content&&"object"!==typeof e.content.title)e.content.title={text:e.content.title}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,
at:e.position};if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e&&"object"!==typeof e.style)e.style={classes:e.style};c.each(c.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function N(e,a,p){function i(d){var f,g=d.split("."),j=a[g[0]];for(d=1;d<g.length;d+=1){f=j[g[d]];if(typeof f==="object"&&!f.jquery&&!f.precedance)j=j[g[d]];
else break}return g[d]!==I?[j,g[d]]:[a,g[0]]}function n(d,f){var g={left:0,top:0},j=!c.fn.qtip.plugins.iOS,h,m;if(f){g=n(f);g.left*=-1;g.top*=-1}if(d.offsetParent){do{h=d.offsetParent;m=h===f;g.left+=d.offsetLeft-(j&&h&&!m?h.scrollLeft:0);g.top+=d.offsetTop-(j&&h&&!m?h.scrollTop:0)}while(d=h)}return g}function k(d,f){var g=b.elements.tooltip,j=uitooltip+"-accessible "+(f?uitooltip+"-accessible-fluid":""),h=!g.is(":visible"),m=FALSE;if(!b.rendered)return FALSE;h&&g.addClass(j);switch(d){case "dimensions":m=
{height:g.outerHeight(),width:g.outerWidth()};break;case "position":m=n(g[0],a.position.container);break}h&&g.removeClass(j);return m}function w(){var d=b.elements,f=a.style.widget;d.tooltip.toggleClass(widget,f);d.content.toggleClass(widget+"-content",f);d.titlebar&&d.titlebar.toggleClass(widget+"-header",f);d.button&&d.button.toggleClass(uitooltip+"-icon",!f)}function r(){var d=b.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=NULL;d.tooltip.removeAttr("aria-labelledby");b.reposition()}}
function o(){var d=b.elements,f=a.content.title.button;d.button&&d.button.remove();d.button=f.jquery?f:c("<a />",{"class":"ui-state-default "+(a.style.widget?"":uitooltip+"-icon"),title:"Close"}).prepend(c("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));d.button.prependTo(d.titlebar).attr("role","button").hover(function(g){c(this).toggleClass("ui-state-hover",g.type==="mouseenter")}).click(function(){d.tooltip.hasClass(disabled)||b.hide();return FALSE}).bind("mousedown keydown mouseup keyup mouseout",
function(g){c(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(g.type))});b.redraw()}function y(){var d=b.elements;d.titlebar&&r();d.titlebar=c("<div />",{"class":uitooltip+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(d.title=c("<div />",{id:uitooltip+"-"+p+"-title","class":uitooltip+"-title",html:a.content.title.text})).insertBefore(d.content);if(a.content.title.button)o();else b.rendered===TRUE&&b.redraw()}function A(d){var f=b.elements;if(!b.rendered||!d)return FALSE;
if(c.isFunction(d))d=d.call(e);d.jquery&&d.length>0?f.content.empty().append(d.css({display:"block"})):f.content.html(d);f.tooltip.queue("fx",function(g){function j(m){h=h.not(m);if(h.length===0){b.redraw();b.rendered===TRUE&&b.reposition(b.cache.event);g()}}var h=c("img:not([height]):not([width])",b.elements.content);h.each(function(m,z){var s=["abort","error","load","unload",""].join(".qtip-image ");c(this).bind(s,function(){clearTimeout(b.timers.img[m]);j(this)});(function x(){if(z.height)return j(z);
b.timers.img[m]=setTimeout(x,20)})();return TRUE});h.length===0&&j(h)});return b}function B(d,f,g,j){function h(u){if(q.tooltip.hasClass(disabled))return FALSE;q.show.trigger("qtip-"+p+"-inactive");clearTimeout(b.timers.show);clearTimeout(b.timers.hide);var t=function(){b.show(u)};if(a.show.delay>0)b.timers.show=setTimeout(t,a.show.delay);else t()}function m(u){if(q.tooltip.hasClass(disabled))return FALSE;var t=c(u.relatedTarget||u.target).parents(selector)[0]===q.tooltip[0],H=c(u.relatedTarget||
u.target)[0]===q.show[0];clearTimeout(b.timers.show);clearTimeout(b.timers.hide);if(a.hide.fixed&&(v.target==="mouse"&&t||/mouse(out|leave|move)/.test(u.type)&&(t||H))){u.stopPropagation();u.preventDefault();return FALSE}q.tooltip.stop(1,1);if(a.hide.delay>0)b.timers.hide=setTimeout(function(){b.hide(u)},a.hide.delay);else b.hide(u)}function z(u){if(q.tooltip.hasClass(disabled))return FALSE;clearTimeout(b.timers.inactive);b.timers.inactive=setTimeout(function(){b.hide(u)},a.hide.inactive)}function s(u){if(!b.cache.processing){b.cache.processing=
1;b.elements.tooltip.is(":visible")&&b.reposition(u);b.cache.processing=0}}var x=".qtip-"+p,v=a.position,q={show:a.show.target,hide:a.hide.target,tooltip:b.elements.tooltip,container:v.container[0]===document.body?document:v.container},F={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},J=c.browser.msie&&parseInt(c.browser.version,10)===6;if(g&&a.hide.fixed){q.hide=q.hide.add(q.tooltip);q.tooltip.bind("mouseover"+x,function(){q.tooltip.hasClass(disabled)||clearTimeout(b.timers.hide)})}if(f){if("number"===
typeof a.hide.inactive){q.show.bind("qtip-"+p+"-inactive",z);c.each(c.fn.qtip.inactiveEvents,function(u,t){q.hide.add(b.elements.tooltip).bind(t+x+"-inactive",z)})}c.each(F.hide,function(u,t){var H=c.inArray(t,F.show);if(H>-1&&c(q.hide).add(q.show).length===c(q.hide).length||t==="unfocus"){q.show.bind(t+x,function(C){q.tooltip.is(":visible")?m(C):h(C)});delete F.show[H]}else q.hide.bind(t+x,m)})}if(d){c.each(F.show,function(u,t){q.show.bind(t+x,h)});q.tooltip.bind("mouseover"+x,function(){b.focus()})}if(j){if(v.adjust.resize||
v.viewport)c(c.event.special.resize?v.viewport:E).bind("resize"+x,s);if(v.viewport||J&&q.tooltip.css("position")==="fixed")c(v.viewport).bind("scroll"+x,s);/unfocus/i.test(a.hide.event)&&c(document).bind("mousedown"+x,function(u){var t=b.elements.tooltip;c(u.target).parents(selector).length===0&&c(u.target).add(e).length>1&&t.is(":visible")&&!t.hasClass(disabled)&&b.hide(u)});v.target==="mouse"&&c(document).bind("mousemove"+x,function(u){if(v.adjust.mouse&&!q.tooltip.hasClass(disabled)&&q.tooltip.is(":visible"))b.reposition(u||
c.fn.qtip.mouse)})}}function l(d,f,g,j){j=parseInt(j,10)!==0;var h=".qtip-"+p;f={show:d?a.show.target:NULL,hide:f?a.hide.target:NULL,tooltip:g?b.elements.tooltip:NULL,content:g?b.elements.content:NULL,container:j?a.position.container[0]===document.body?document:a.position.container:NULL,window:j?E:NULL};if(b.rendered)c([]).pushStack(c.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(h);else d&&f.show.unbind(h+"-create")}var b=this;b.id=p;b.rendered=
FALSE;b.elements={target:e};b.cache={event:{},target:NULL,disabled:FALSE,position:NULL};b.timers={img:[]};b.options=a;b.plugins={};c.extend(b,{render:function(d){if(b.rendered)return FALSE;var f=b.elements,g=c.Event("tooltiprender");f.tooltip=c("<div/>").attr({id:uitooltip+"-"+p,role:"tooltip","class":uitooltip+" qtip ui-tooltip-accessible ui-tooltip-default ui-helper-reset "+a.style.classes}).toggleClass(disabled,b.cache.disabled).data("qtip",b).appendTo(a.position.container).append(f.content=c("<div />",
{"class":uitooltip+"-content",id:uitooltip+"-"+p+"-content"}));b.rendered=TRUE;a.content.title.text&&y();A(a.content.text);c.each(c.fn.qtip.plugins,function(){this.initialize==="render"&&this(b)});B(1,1,1,1);c.each(a.events,function(j,h){if(h)f.tooltip.bind(j==="toggle"?"tooltipshow tooltiphide":"tooltip"+j,h)});f.tooltip.queue("fx",function(j){f.tooltip.removeClass("ui-tooltip-accessible");g.originalEvent=b.cache.event;f.tooltip.trigger(g,[b]);if(a.show.ready||d){f.tooltip.hide();b.show(b.cache.event)}j()});
return b},get:function(d){switch(d.toLowerCase()){case "offset":d=k("position");break;case "dimensions":d=k("dimensions");break;default:d=i(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,f){d=d.toLowerCase();var g=i(d),j=b.elements,h=j.tooltip,m,z,s,x={builtin:{"^id$":function(){var v=f===TRUE?c.fn.qtip.nextid:f,q=uitooltip+"-"+v;if(v!==FALSE&&v.length>0&&!c("#"+q).length){h[0].id=q;j.content[0].id=q+"-content";j.title[0].id=q+"-title"}},
"^content.text$":function(){A(f)},"^content.title.text$":function(){if(b.rendered)if(!b.elements.title&&f){y();b.reposition()}else f?b.elements.title.html(f):r()},"^content.title.button$":function(){var v=b.elements.button,q=b.elements.title;if(b.rendered)if(f){q||y();o()}else v.remove()},"^position.(my|at)$":function(){var v=/my$/i.test(d)?"my":"at";if("string"===typeof f)a.position[v]=new c.fn.qtip.plugins.Corner(f)},"^position.container$":function(){b.rendered===TRUE&&h.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(v,
q,F,J){var u=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(u[0])v[q]=J;l.apply(b,u[1]);if(u[0])v[q]=F;B.apply(b,u[1])},"^show.ready$":function(){b.rendered===FALSE&&b.show()},"^style.classes$":function(){b.elements.tooltip.attr("class",uitooltip+" qtip ui-helper-reset "+f)},"^style.widget|content.title":w,"^events.(render|show|move|hide|focus|blur)$":function(v,q,F){j.tooltip[(c.isFunction(f)?"":"un")+"bind"]("tooltip"+q,F)},"^position.(my|at|adjust|target|container)|style|content":function(){b.reposition()}}};
c.each(b.plugins,function(v){if("object"===typeof this.checks)x[v]=this.checks});m=g[0][g[1]];g[0][g[1]]=f.nodeType?c(f):f;L(a);for(z in x)for(s in x[z])RegExp(s,"i").test(d)&&x[z][s].call(b,g[0],g[1],f,m);return b},toggle:function(d,f){function g(){var s=c(this),x=d?"attr":"removeAttr",v=/^1|0$/.test(s.css("opacity")),q=this.style;b.elements.title&&e[x]("aria-labelledby",uitooltip+"-"+p+"-title");e[x]("aria-describedby",uitooltip+"-"+p+"-content");if(d){if(c.browser.msie&&q&&v){q.removeAttribute("filter");
q.removeAttribute("opacity")}}else v&&s.hide()}if(b.rendered===FALSE)return FALSE;var j=d?"show":"hide",h=b.elements.tooltip,m=a[j],z=h.is(":visible");if((typeof d).search("boolean|number"))d=!h.is(":visible");if(!z&&!d||h.is(":animated"))return b;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(b.cache.event.type)&&f.target===a.show.target[0]&&h.has(f.relatedTarget).length)return b;b.cache.event=c.extend({},f)}z=c.Event("tooltip"+j);z.originalEvent=f?b.cache.event:NULL;h.trigger(z,[b,90]);if(z.isDefaultPrevented())return b;
if(d){b.focus();b.reposition(f);m.solo&&c(selector).qtip("hide")}else clearTimeout(b.timers.show);h.attr("aria-hidden",Boolean(!d));h.stop(1,1);if(c.isFunction(m.effect)){m.effect.call(h,b);h.queue(function(){g.call(this);c(this).dequeue()})}else if(m.effect===FALSE){h[j]();g.call(h)}else h.fadeTo(90,d?1:0,g);d&&m.target.trigger("qtip-"+p+"-inactive");return b},show:function(d){b.toggle(TRUE,d)},hide:function(d){b.toggle(FALSE,d)},focus:function(d){if(b.rendered===FALSE)return FALSE;var f=b.elements.tooltip,
g=c(selector),j=parseInt(f[0].style.zIndex,10),h=c.fn.qtip.zindex+g.length,m=uitooltip+"-focus",z=c.extend({},d);if(!f.hasClass(m)&&j!==h){g.each(function(){this.style.zIndex-=1});c(selector+"."+m).each(function(){var s=c(this),x=s.qtip(),v;if(!x||x.rendered===FALSE)return TRUE;s.removeClass(m);v=c.Event("tooltipblur");v.originalEvent=z;s.trigger(v,[x,h])});d=c.Event("tooltipfocus");d.originalEvent=z;f.trigger(d,[b,h]);if(!d.isDefaultPrevented())f.addClass(m)[0].style.zIndex=h}return b},reposition:function(d){if(b.rendered===
FALSE)return FALSE;var f=a.position.target,g=b.elements.tooltip,j=a.position,h=j.my,m=j.at,z=j.adjust,s=b.elements.tooltip.outerWidth(),x=b.elements.tooltip.outerHeight(),v=0,q=0,F=c.Event("tooltipmove"),J=g.css("position")==="fixed",u=j.viewport.jquery?j.viewport:c(E),t={left:0,top:0},H={left:function(C){var D=u.scrollLeft,G=m.x==="left"?v:m.x==="right"?-v:-v/2,K=D-C;D=C+s-u.width-D;G=(h.x==="left"?s:h.x==="right"?-s:-s/2)-(h.precedance==="x"||h.x===h.y?G:0);if(K>0&&(h.x!=="left"||D>0))t.left-=G;
else if(D>0&&(h.x!=="right"||K>0))t.left-=(h.x==="center"?-1:1)*G+2*z.x;if(t.left<0&&-t.left>D)t.left=C;return t.left-C},top:function(C){var D=u.scrollTop,G=m.y==="top"?q:m.y==="bottom"?-q:-q/2,K=D-C;D=C+x-u.height-D;G=(h.y==="top"?x:h.y==="bottom"?-x:-x/2)-(h.precedance==="y"||h.x===h.y?G:0);if(K>0&&(h.y!=="top"||D>0))t.top-=G;else if(D>0&&(h.y!=="bottom"||K>0))t.top-=(h.y==="center"?-1:1)*G+2*z.y;if(t.top<0&&-t.top>D)t.top=C;return t.top-C}};u=!u?FALSE:{elem:u,height:u[(u[0]===E?"h":"outerH")+"eight"](),
width:u[(u[0]===E?"w":"outerW")+"idth"](),scrollLeft:u.scrollLeft(),scrollTop:u.scrollTop()};if(f==="mouse"){m={x:"left",y:"top"};d=d&&(d.type==="resize"||d.type==="scroll")?b.cache.event:z.mouse||!d||!d.pageX?c.extend({},c.fn.qtip.mouse):d;t={top:d.pageY,left:d.pageX}}else{if(f==="event")f=d&&d.target&&d.type!=="scroll"&&d.type!=="resize"?b.cache.target=c(d.target):b.cache.target;f=c(f).eq(0);if(f.length===0)return b;else if(f[0]===document||f[0]===E){v=f.width();q=f.height();if(f[0]===E)t={top:J?
0:u.scrollTop,left:J?0:u.scrollLeft}}else if(f.is("area")&&c.fn.qtip.plugins.imagemap){t=c.fn.qtip.plugins.imagemap(f,m);v=t.width;q=t.height;t=t.offset}else{v=f.outerWidth();q=f.outerHeight();t=n(f[0],j.container[0])}t.left+=m.x==="right"?v:m.x==="center"?v/2:0;t.top+=m.y==="bottom"?q:m.y==="center"?q/2:0}t.left+=z.x+(h.x==="right"?-s:h.x==="center"?-s/2:0);t.top+=z.y+(h.y==="bottom"?-x:h.y==="center"?-x/2:0);t.adjusted=j.viewport.jquery&&f[0]!==E&&f[0]!==document.body?{left:H.left(t.left),top:H.top(t.top)}:
{left:0,top:0};g.attr("class",function(){return c(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(uitooltip+"-pos-"+h.abbreviation());F.originalEvent=c.extend({},d);g.trigger(F,[b,t,u.elem]);if(F.isDefaultPrevented())return b;delete t.adjusted;if(g.is(":visible")&&c.isFunction(j.effect)){j.effect.call(g,b,t);g.queue(function(){var C=c(this);C.css({opacity:"",height:""});c.browser.msie&&this.style&&this.style.removeAttribute("filter");C.dequeue()})}else isNaN(t.left,t.top)||g.css(t);
return b},redraw:function(){if(!b.rendered||!(c.browser.msie&&parseInt(c.browser.version.charAt(0),10)<9))return FALSE;var d=b.elements.tooltip;d.attr("style");var f;d.css({width:"auto",height:"auto"});f=k("dimensions",1);c.each(["width","height"],function(g,j){var h=parseInt(d.css("max-"+j),10)||0,m=parseInt(d.css("min-"+j),10)||0;f[j]=h+m?Math.min(Math.max(f[j],m),h):f[j]});d.css(f)},disable:function(d){var f=b.elements.tooltip,g=disabled;if("boolean"!==typeof d)d=!(f.hasClass(g)||b.cache.disabled);
if(b.rendered)f.toggleClass(g,d);else b.cache.disabled=!!d;return b},destroy:function(){var d=b.elements,f=d.target.data("oldtitle");if(b.rendered){d.tooltip.remove();c.each(b.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(b.timers.show);clearTimeout(b.timers.hide);l(1,1,1,1);e.removeData("qtip");f&&e.attr("title",f);e.removeAttr("aria-describedby");return e}})}function O(e,a){var p,i,n=c(this),k=c(document.body),w=this===document?k:n;i=n.metadata?n.metadata(a.metadata):
NULL;var r=c.extend(TRUE,{},c.fn.qtip.defaults,a,L((i&&a.metadata.type==="html5"?i[a.metadata.name]:NULL)||i));n.removeData("metadata");i=r.position;if("boolean"===typeof r.content.text)if(r.content.attr!==FALSE&&n.attr(r.content.attr))r.content.text=n.attr(r.content.attr);else return FALSE;if(i.container===FALSE)i.container=k;if(i.target===FALSE)i.target=w;if(r.show.target===FALSE)r.show.target=w;if(r.hide.target===FALSE)r.hide.target=w;i.at=new c.fn.qtip.plugins.Corner(i.at);i.my=new c.fn.qtip.plugins.Corner(i.my);
if(n.data("qtip"))if(r.overwrite)n.qtip("destroy");else if(r.overwrite===FALSE)return FALSE;n.attr("title")&&n.data("oldtitle",n.attr("title")).removeAttr("title");p=new N(n,r,e);n.data("qtip",p);n.bind("remove.qtip",function(){p.destroy()});return p}function P(e){var a=this,p=e.elements.tooltip,i=e.options.content.ajax;a.checks={"^content.ajax":function(n,k){if(k==="once")a.once();else i&&i.url&&a.load()}};c.extend(a,{init:function(){if(i&&i.url){a.load();a.once()}},once:function(){i.once?a.destroy():
p.bind("tooltipshow.ajax",function(){a.load()})},load:function(){c.ajax(c.extend({success:function(n){e.set("content.text",n)},error:function(n,k,w){e.set("content.text",k+": "+w)},context:e},i));return a},destroy:function(){p.unbind(".ajax")}});a.init()}function M(e,a,p){var i=Math.ceil(a/2),n=Math.ceil(p/2);a={bottomright:[[0,0],[a,p],[a,0]],bottomleft:[[0,0],[a,0],[0,p]],topright:[[0,p],[a,0],[a,p]],topleft:[[0,0],[0,p],[a,p]],topcenter:[[0,p],[i,0],[a,p]],bottomcenter:[[0,0],[a,0],[i,p]],rightcenter:[[0,
0],[a,n],[0,p]],leftcenter:[[a,0],[a,p],[0,n]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=a.topleft;return a[e.string()]}function Q(e){function a(l,b,d){if(k.tip){l=c.extend({},i.corner);b=d.adjusted;var f;if(i.corner.fixed!==TRUE){if(b.left)l.x=l.x==="center"?b.left>0?"left":"right":l.x==="left"?"right":"left";if(b.top)l.y=l.y==="center"?b.top>0?"top":"bottom":l.y==="top"?"bottom":"top";if(l.string()!==r.corner&&(r.top!==b.top||r.left!==b.left))f=i.update(l)}f||
(f=i.position(l,0));if(f.right!==I)f.left=f.right;if(f.bottom!==I)f.top=f.bottom;f.option=Math.max(0,n.offset);d.left-=f.left.charAt?f.option:(f.right?-1:1)*f.left;d.top-=f.top.charAt?f.option:(f.bottom?-1:1)*f.top;r.left=b.left;r.top=b.top;r.corner=l.string()}}function p(l,b,d){b=!b?l[l.precedance]:b;b="border-"+b+"-width";l=parseInt((k.titlebar&&l.y==="top"?k.titlebar:k.content).css(b),10);return(d?l||parseInt(w.css(b),10):l)||0}var i=this,n=e.options.style.tip,k=e.elements,w=k.tooltip,r={top:0,
left:0,corner:""},o={width:n.width,height:n.height},y={},A=n.border||0,B=n.method||FALSE;i.corner=NULL;i.mimic=NULL;i.checks={"^position.my|style.tip.(corner|mimic|method|border)$":function(){i.init()||i.destroy();e.reposition()},"^style.tip.(height|width)$":function(){o={width:n.width,height:n.height};i.create();i.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){k.tip&&i.update()}};c.extend(i,{init:function(){var l=i.detectCorner();if(l){if(B!=="polygon")B=c("<canvas />")[0].getContext?
"canvas":c.browser.msie?"vml":"polygon";i.create();i.update();w.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",a)}return l},detectCorner:function(){var l=n.corner,b=e.options.position,d=b.at;b=b.my.string?b.my.string():b.my;if(l===FALSE||b===FALSE&&d===FALSE)return FALSE;else if(l===TRUE)i.corner=new c.fn.qtip.plugins.Corner(b);else if(!l.string){i.corner=new c.fn.qtip.plugins.Corner(l);i.corner.fixed=TRUE}return i.corner.string()!=="centercenter"},detectColours:function(){var l=k.tip.css({backgroundColor:"",
border:""}),b=i.corner,d=b[b.precedance],f="border-"+d+"-color";d="border"+d.charAt(0)+d.substr(1)+"Color";var g=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;b=k.titlebar&&(b.y==="top"||b.y==="center"&&l.position().top+o.height/2+n.offset<k.titlebar.outerHeight(1))?k.titlebar:k.content;y.fill=l.css("background-color")||"transparent";y.border=l[0].style[d];if(!y.fill||g.test(y.fill)){y.fill=b.css("background-color");if(g.test(y.fill))y.fill=w.css("background-color")}if(!y.border||g.test(y.border)){y.border=
w.css(f);if(g.test(y.border))y.border=b.css(f)||y.fill}c("*",l).add(l).css("background-color","transparent").css("border",0)},create:function(){var l=o.width,b=o.height;k.tip&&k.tip.remove();k.tip=c("<div />",{"class":"ui-tooltip-tip"}).css(o).prependTo(w);switch(B){case "canvas":c('<canvas height="'+b+'" width="'+l+'" />').appendTo(k.tip)[0].getContext("2d").save();break;case "vml":l='<vml:shape coordorigin="0,0" coordsize="'+l+" "+b+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+
l+"px; height:"+b+'px;"></vml:shape>';k.tip.html(A?l+=l:l);break;case "polygon":k.tip.append('<div class="ui-tooltip-tip-inner" />').append(A?'<div class="ui-tooltip-tip-border" />':"");break}},update:function(l){var b=k.tip.children(),d=o.width,f=o.height,g=n.mimic,j,h,m,z,s;if(!l)l=i.corner;if(g===FALSE)g=l;else{g=new c.fn.qtip.plugins.Corner(g);g.precedance=l.precedance;if(g.x==="inherit")g.x=l.x;else if(g.y==="inherit")g.y=l.y;else if(g.x===g.y)g[l.precedance]=l[l.precedance]}A=n.border===TRUE?
p(l,NULL,TRUE):n.border;j=A>0?0:1;z=g.string().indexOf("center")>-1;s=Math[/b|r/.test(g[g.precedance==="y"?"x":"y"])?"ceil":"floor"];l=i.position(l,1);i.detectColours();switch(B){case "canvas":h=b[0].getContext("2d");h.restore&&h.restore();h.clearRect(0,0,3E3,3E3);for(m=M(g,d,f);j<2;j++){if(j){h.save();h.translate(s((g.x==="left"?1:g.x==="right"?-1:0)*(A+1)*(g.precedance==="y"?0.5:1)),s((g.y==="top"?1:g.y==="bottom"?-1:0)*(A+1)*(g.precedance==="x"?0.5:1)))}h.beginPath();h.moveTo(m[0][0],m[0][1]);
h.lineTo(m[1][0],m[1][1]);h.lineTo(m[2][0],m[2][1]);h.closePath();h.fillStyle=y[j?"fill":"border"];h.fill()}break;case "vml":m=M(g,d,f);m="m"+m[0][0]+","+m[0][1]+" l"+m[1][0]+","+m[1][1]+" "+m[2][0]+","+m[2][1]+" xe";b.each(function(x){c(this).attr({path:m,fillcolor:y[x||!A?"fill":"border"]}).css("antialias",""+z)});break;case "polygon":b.removeAttr("style").css({position:"absolute",left:0,top:0}).each(function(x){var v={x:g.precedance==="x"?g.x==="left"?"right":"left":g.x,y:g.precedance==="y"?g.y===
"top"?"bottom":"top":g.y},q=g.x==="center"?["left","right",v.y,f,d]:["top","bottom",v.x,d,f];x=y[!x&&A?"border":"fill"];g.x==="center"||g.y==="center"?c(this).css("border-"+q[2],q[3]+"px solid "+x).css("border-"+q[0],s(q[4]/2)+"px dashed transparent").css("border-"+q[1],s(q[4]/2)+"px dashed transparent"):c(this).css("border-width",s(f/2)+"px "+s(d/2)+"px").css("border-"+v.x,s(d/2)+"px solid "+x).css("border-"+v.y,s(f/2)+"px solid "+x)});break}if(B!=="canvas"&&A){j=[A*2.75,A];j=g.precedance==="y"?
[g.x==="left"?j[1]:g.x==="right"?-j[1]:0,g.y==="bottom"?-j[0]:j[0]]:[g.x==="left"?j[0]:-j[0],g.y==="bottom"?-j[1]:g.y==="top"?j[1]:0];b.eq(1).css({left:j[0],top:j[1]})}return l},position:function(l,b){var d=k.tip,f={},g=Math.max(0,n.offset),j,h;if(n.corner===FALSE||!d)return FALSE;l=l||i.corner;j=l.precedance;h=o[j==="x"?"width":"height"];c.each(j==="y"?[l.x,l.y]:[l.y,l.x],function(m,z){var s;if(z==="center"){s=j==="y"?"left":"top";f[s]="50%";f["margin-"+s]=-Math.floor(h/2)+g}else{s=p(l,z,TRUE);if(m||
A===I)s=p(l,z);else{if(s)s=0;else{s=c.browser.mozilla;var x=l.y+(s?"":"-")+l.x;s=(s?"-moz-":c.browser.webkit?"-webkit-":"")+(s?"border-radius-"+x:"border-"+x+"-radius");s=parseInt((k.titlebar&&l.y==="top"?k.titlebar:k.content).css(s),10)||parseInt(w.css(s),10)||0}s=g+s}f[z]=s}});f[l[j]]-=h;b&&d.css({top:"",bottom:"",left:"",right:"",margin:""}).css(f);return f},destroy:function(){k.tip&&k.tip.remove();w.unbind(".qtip-tip")}});i.init()}function R(e){var a=this,p=e.options.show.modal,i=e.elements,n=
i.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();i.overlay.toggle(n.is(":visible"))}};c.extend(a,{init:function(){if(p.on){n.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(k,w,r){k=k.type.replace("tooltip","");c.isFunction(p[k])?p[k].call(i.overlay,r,w):a[k](r)});a.create();p.blur===TRUE&&i.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var k=c("#qtip-overlay");if(k.length)i.overlay=k;
else{i.overlay=c("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(n.css("z-index"),10)-1}}).appendTo(document.body);c(E).bind("resize.qtipmodal",function(){i.overlay.css({height:Math.max(c(E).height(),c(document).height()),width:Math.max(c(E).width(),c(document).width())})}).trigger("resize")}},toggle:function(k){var w=i.overlay,r=e.options.show.modal.effect,o=k?"show":"hide";w.stop(TRUE,FALSE);if(c.isFunction(r))r.call(w,k);else r===FALSE?
w[o]():w.fadeTo(90,k?0.7:0,function(){k||c(this).hide()})},show:function(){a.toggle(TRUE)},hide:function(){a.toggle(FALSE)},destroy:function(){var k=TRUE;c("*").each(function(){var w=c(this).data("qtip");if(w&&w.id!==e.id&&w.options.show.modal)return k=FALSE});if(k){i.overlay.remove();c(E).unbind(".qtipmodal")}else i.overlay.unbind(".qtipmodal"+e.id);n.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function S(e){var a=this,p=e.elements,i=p.tooltip,n=".bgiframe-"+e.id,k="tooltipmove"+
n+" tooltipshow"+n;c.extend(a,{init:function(){p.bgiframe=c('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');p.bgiframe.appendTo(i);i.bind(k,a.adjust)},adjust:function(){var w=e.get("dimensions"),r=e.plugins.tip,o=e.elements.tip,y;y=parseInt(i.css("border-left-width"),10)||0;y={left:-y,top:-y};if(r&&o){r=r.corner.precedance==="x"?["width","left"]:["height","top"];y[r[1]]-=
o[r[0]]()}p.bgiframe.css(y).css(w)},destroy:function(){a.iframe.remove();i.unbind(k)}});a.init()}c.fn.qtip=function(e,a,p){var i=String(e).toLowerCase(),n=NULL,k=i==="disable"?[TRUE]:c.makeArray(arguments).slice(1,10),w=k[k.length-1],r;if(!arguments.length&&this.data("qtip")||i==="api")return(r=this.data("qtip"))?r:I;else if("string"===typeof e){this.each(function(){var o=c(this).data("qtip");if(!o)return TRUE;if(/option|set/.test(i)&&a)if(p!==I)o.set(a,p);else n=o.get(a);else{if(!o.rendered&&(i===
"show"||i==="toggle")){if(w&&w.timeStamp)o.cache.event=w;o.render(1)}else if(i==="enable"){i="disable";k=[FALSE]}o[i]&&o[i].apply(o[i],k)}});return n!==NULL?n:this}else if("object"===typeof e||!arguments.length){r=L(c.extend(TRUE,{},e));return c.fn.qtip.bind.call(this,r,w)}};c.fn.qtip.bind=function(e,a){return this.each(function(){function p(y){function A(){o.render(typeof y==="object"||i.show.ready);n.show.unbind(k.show);n.hide.unbind(k.hide)}if(o.cache.disabled)return FALSE;o.cache.event=c.extend({},
y);if(i.show.delay>0){clearTimeout(o.timers.show);o.timers.show=setTimeout(A,i.show.delay);k.show!==k.hide&&n.hide.bind(k.hide,function(){clearTimeout(o.timers.show)})}else A()}var i,n,k,w=e.id=!e.id||e.id===FALSE||e.id.length<1||c("#"+uitooltip+"-"+e.id).length?c.fn.qtip.nextid++:e.id,r=".qtip-"+w+"-create",o=O.call(this,w,e);if(o===FALSE)return TRUE;i=o.options;c.each(c.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(o)});n={show:i.show.target,hide:i.hide.target};k={show:String(i.show.event).replace(" ",
r+" ")+r,hide:String(i.hide.event).replace(" ",r+" ")+r};n.show.bind(k.show,p);if(i.show.ready||i.prerender)p(a)})};c.each({attr:function(e){var a=c(this),p=a.data("qtip");return arguments.length===1&&e==="title"&&p&&p.rendered===TRUE?a.data("oldtitle"):NULL},remove:c.ui?NULL:function(e,a){c(this).each(function(){if(!a)if(!e||c.filter(e,[this]).length)c("*",this).add(this).each(function(){c(this).triggerHandler("remove")})})}},function(e,a){if(!a)return TRUE;c.fn["Old"+e]=c.fn[e];c.fn[e]=function(){return a.apply(this,
arguments)||c.fn["Old"+e].apply(this,arguments)}});c(document.body).attr("role",function(e,a){return!a?"application":a});c(document).bind("mousemove.qtip",function(e){c.fn.qtip.mouse={pageX:e.pageX,pageY:e.pageY}});c.fn.qtip.version="2.0.0pre";c.fn.qtip.nextid=0;c.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");c.fn.qtip.zindex=15E3;c.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();
this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),p=this.y.substr(0,1);return a===p?a:a==="c"||a!=="c"&&p!=="c"?p+a:a+p}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,
"4_2"])[1].replace("_","."))<4.1};c.fn.qtip.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,resize:TRUE},effect:TRUE},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",
widget:FALSE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,focus:NULL,blur:NULL}};c.fn.qtip.plugins.ajax=function(e){var a=e.plugins.ajax;return"object"===typeof a?a:e.plugins.ajax=new P(e)};c.fn.qtip.plugins.ajax.initialize="render";c.fn.qtip.plugins.ajax.sanitize=function(e){var a=e.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=e.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};c.extend(TRUE,c.fn.qtip.defaults,{content:{ajax:{once:TRUE}}});
c.fn.qtip.plugins.tip=function(e){var a=e.plugins.tip;return"object"===typeof a?a:e.plugins.tip=new Q(e)};c.fn.qtip.plugins.tip.initialize="render";c.fn.qtip.plugins.tip.sanitize=function(e){var a=e.style;if(a&&"tip"in a){a=e.style.tip;if(typeof a!=="object")e.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=TRUE;if(typeof a.method!=="string")a.method=TRUE;if(!/canvas|polygon/i.test(a.method))a.method=TRUE;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&
delete a.height;typeof a.border!=="number"&&a.border!==TRUE&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};c.extend(TRUE,c.fn.qtip.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,method:TRUE,width:8,height:8,border:TRUE,offset:0}}});c.fn.qtip.plugins.imagemap=function(e,a){function p(B,l){for(var b=0,d=1,f=1,g=0,j=0,h=B.width,m=B.height;h>0&&m>0&&d>0&&f>0;){h=Math.floor(h/2);m=Math.floor(m/2);if(a.x==="left")d=h;else if(a.x==="right")d=B.width-h;else d+=Math.floor(h/2);if(a.y==="top")f=
m;else if(a.y==="bottom")f=B.height-m;else f+=Math.floor(m/2);for(b=l.length;b--;){if(l.length<2)break;g=l[b][0]-B.offset.left;j=l[b][1]-B.offset.top;if(a.x==="left"&&g>=d||a.x==="right"&&g<=d||a.x==="center"&&(g<d||g>B.width-d)||a.y==="top"&&j>=f||a.y==="bottom"&&j<=f||a.y==="center"&&(j<f||j>B.height-f))l.splice(b,1)}}return{left:l[0][0],top:l[0][1]}}var i=e.attr("shape").toLowerCase(),n=e.attr("coords").split(","),k=[],w=c('img[usemap="#'+e.parent("map").attr("name")+'"]'),r=w.offset(),o={width:0,
height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},y=0,A=0;r.left+=Math.ceil((w.outerWidth()-w.width())/2);r.top+=Math.ceil((w.outerHeight()-w.height())/2);if(i==="poly")for(y=n.length;y--;){A=[parseInt(n[--y],10),parseInt(n[y+1],10)];if(A[0]>o.offset.right)o.offset.right=A[0];if(A[0]<o.offset.left)o.offset.left=A[0];if(A[1]>o.offset.bottom)o.offset.bottom=A[1];if(A[1]<o.offset.top)o.offset.top=A[1];k.push(A)}else k=c.map(n,function(B){return parseInt(B,10)});switch(i){case "rect":o={width:Math.abs(k[2]-
k[0]),height:Math.abs(k[3]-k[1]),offset:{left:k[0],top:k[1]}};break;case "circle":o={width:k[2]+2,height:k[2]+2,offset:{left:k[0],top:k[1]}};break;case "poly":c.extend(o,{width:Math.abs(o.offset.right-o.offset.left),height:Math.abs(o.offset.bottom-o.offset.top)});o.offset=a.string()==="centercenter"?{left:o.offset.left+o.width/2,top:o.offset.top+o.height/2}:p(o,k.slice());o.width=o.height=0;break}o.offset.left+=r.left;o.offset.top+=r.top;return o};c.fn.qtip.plugins.modal=function(e){var a=e.plugins.modal;
return"object"===typeof a?a:e.plugins.modal=new R(e)};c.fn.qtip.plugins.modal.initialize="render";c.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=TRUE};c.extend(TRUE,c.fn.qtip.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE}}});c.fn.qtip.plugins.bgiframe=function(e){if(!(c.browser.msie&&/^6\.[0-9]/.test(c.browser.version)&&c("select, object").length))return FALSE;
var a=e.plugins.bgiframe;if(a)return a;else{e.plugins.bgiframe=new S(e);return e.plugins.bgiframe}};c.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
