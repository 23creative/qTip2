/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Mon Jan 24 14:02:30 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(b,M,T){function $(){var d=M.console;return d&&(d.error||d.log||b.noop).apply(d,arguments)}function W(d){var a;if(!d||"object"!==typeof d)return n;if("object"!==typeof d.metadata)d.metadata={type:d.metadata};if("content"in d){if("object"!==typeof d.content||d.content.jquery)d.content={text:d.content};a=d.content.text||n;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))d.content.text=n;if("title"in d.content){if("object"!==typeof d.content.title)d.content.title=
{text:d.content.title};a=d.content.title.text||n;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))d.content.title.text=n}}if("position"in d)if("object"!==typeof d.position)d.position={my:d.position,at:d.position};if("show"in d)if("object"!==typeof d.show)d.show=d.show.jquery?{target:d.show}:{event:d.show};if("hide"in d)if("object"!==typeof d.hide)d.hide=d.hide.jquery?{target:d.hide}:{event:d.hide};if("style"in d)if("object"!==typeof d.style)d.style={classes:d.style};
b.each(b.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(d)});return d}function aa(d,a,l,k){function m(e){var f,i=e.split("."),q=a[i[0]];for(e=1;e<i.length;e+=1){f=q[i[e]];if(typeof f==="object"&&!f.jquery&&!f.precedance)q=q[i[e]];else break}return i[e]!==T?[q,i[e]]:[a,i[0]]}function h(e,f){var i={left:0,top:0},q,s=!b.fn.qtip.plugins.iOS,u,E;if(f){q=b.css(f,"position");if(q!=="static"){i=h(f);i.left*=-1;i.top*=-1}else if(b.css(f,"overflow")!=="visible"){i.left-=f.scrollLeft;i.top-=f.scrollTop}}if(e.offsetParent){do{u=
e.offsetParent;E=u===f;if(u===v&&q==="fixed")s=w;i.left+=e.offsetLeft-(s&&u&&!E?u.scrollLeft:0);i.top+=e.offsetTop-(s&&u&&!E?u.scrollTop:0)}while(e=u)}return i}function o(){return g.css("left")!==ba&&g.css("visibility")!=="hidden"}function x(){var e=c.elements,f=a.style.widget;g.toggleClass(Z,f);e.content.toggleClass(Z+"-content",f);e.titlebar&&e.titlebar.toggleClass(Z+"-header",f);e.button&&e.button.toggleClass(N+"-icon",!f)}function r(){var e=c.elements;if(e.title){e.titlebar.remove();e.titlebar=
e.title=e.button=F;c.reposition()}}function A(){var e=c.elements,f=a.content.title.button;e.button&&e.button.remove();e.button=f.jquery?f:b("<a />",{"class":"ui-state-default "+(a.style.widget?"":N+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(b("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));e.button.appendTo(e.titlebar).attr("role","button").hover(function(i){b(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(i){g.hasClass(S)||c.hide(i);
return n}).bind("mousedown keydown mouseup keyup mouseout",function(i){b(this).toggleClass("ui-state-active ui-state-focus",i.type.substr(-4)==="down")});c.redraw()}function y(){var e=c.elements,f=C+"-title";e.titlebar&&r();e.titlebar=b("<div />",{"class":N+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(e.title=b("<div />",{id:f,"class":N+"-title","aria-atomic":w})).insertBefore(e.content);if(a.content.title.button)A();else c.rendered===w&&c.redraw()}function z(e){var f=c.elements.title;
if(!c.rendered||!e)return n;if(b.isFunction(e))e=e.call(d,c)||"";e.jquery&&e.length>0?f.empty().append(e.css({display:"block"})):f.html(e);c.redraw();c.rendered===w&&c.reposition(c.cache.event)}function O(e){var f=c.elements.content;if(!c.rendered||!e)return n;if(b.isFunction(e))e=e.call(d,c)||"";e.jquery&&e.length>0?f.empty().append(e.css({display:"block"})):f.html(e);g.queue("fx",function(i){function q(u){s=s.not(u);if(s.length===0){c.redraw();c.rendered===w&&c.reposition(c.cache.event);i()}}var s=
f.find("img:not([height]):not([width])");s.each(function(u,E){var K=["abort","error","load","unload",""].join(".qtip-image ");b(this).bind(K,function(){clearTimeout(c.timers.img[u]);q(this)});(function B(){if(E.height)return q(E);c.timers.img[u]=setTimeout(B,20)})();return w});s.length===0&&q(s)});return c}function j(e,f,i,q){function s(t){if(g.hasClass(S))return n;G.show.trigger("qtip-"+l+"-inactive");clearTimeout(c.timers.show);clearTimeout(c.timers.hide);var H=function(){c.show(t)};if(a.show.delay>
0)c.timers.show=setTimeout(H,a.show.delay);else H()}function u(t){if(g.hasClass(S))return n;var H=b(t.relatedTarget||t.target),J=H.closest(X)[0]===g[0];H=H[0]===G.show[0];clearTimeout(c.timers.show);clearTimeout(c.timers.hide);if(D.target==="mouse"&&J||a.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(J||H)){t.stopPropagation();t.preventDefault();return n}g.stop(1,1);if(a.hide.delay>0)c.timers.hide=setTimeout(function(){c.hide(t)},a.hide.delay);else c.hide(t)}function E(t){if(g.hasClass(S))return n;
clearTimeout(c.timers.inactive);c.timers.inactive=setTimeout(function(){c.hide(t)},a.hide.inactive)}function K(t){if(!c.cache.processing){c.cache.processing=1;o()&&c.reposition(t);c.cache.processing=0}}var B=".qtip-"+l,D=a.position,G={show:a.show.target,hide:a.hide.target,container:D.container[0]===v?document:D.container},Q={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},R=b(document),I=b.browser.msie&&parseInt(b.browser.version,10)===6;if(i){if(a.hide.fixed){G.hide=G.hide.add(g);
g.bind("mouseover"+B,function(){g.hasClass(S)||clearTimeout(c.timers.hide)})}g.bind("mouseenter"+B+" mouseleave"+B,function(t){c[t.type==="mouseenter"?"focus":"blur"](t)})}if(f){if("number"===typeof a.hide.inactive){G.show.bind("qtip-"+l+"-inactive",E);b.each(b.fn.qtip.inactiveEvents,function(t,H){G.hide.add(c.elements.tooltip).bind(H+B+"-inactive",E)})}b.each(Q.hide,function(t,H){var J=b.inArray(H,Q.show),L=b(G.hide);if(J>-1&&L.add(G.show).length===L.length||H==="unfocus"){G.show.bind(H+B,function(P){o()?
u(P):s(P)});delete Q.show[J]}else G.hide.bind(H+B,u)})}e&&b.each(Q.show,function(t,H){G.show.bind(H+B,s)});if(q){if(D.adjust.resize||D.viewport)b(b.event.special.resize?D.viewport:M).bind("resize"+B,K);if(D.viewport||I&&g.css("position")==="fixed")b(D.viewport).bind("scroll"+B,K);/unfocus/i.test(a.hide.event)&&R.bind("mousedown"+B,function(t){var H=b(t.target);H.parents(X).length===0&&H.add(d).length>1&&o()&&!g.hasClass(S)&&c.hide(t)});D.target==="mouse"&&R.bind("mousemove"+B,function(t){if(D.adjust.mouse&&
!g.hasClass(S)&&o())c.reposition(t||b.fn.qtip.mouse)})}}function p(e,f,i,q){q=parseInt(q,10)!==0;var s=".qtip-"+l;f={show:e?a.show.target:F,hide:f?a.hide.target:F,tooltip:i?c.elements.tooltip:F,content:i?c.elements.content:F,container:q?a.position.container[0]===v?document:a.position.container:F,window:q?M:F};if(c.rendered)b([]).pushStack(b.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(s);else e&&f.show.unbind(s+"-create")}var c=this,v=document.body,
C=N+"-"+l,g;c.id=l;c.rendered=n;c.elements={target:d};c.timers={img:[]};c.options=a;c.plugins={};c.cache={event:{},target:F,disabled:n,lastFocus:v,attr:k};b.extend(c,{render:function(e){if(c.rendered)return n;var f=c.elements,i=a.content.text,q=a.content.title.text,s=b.Event("tooltiprender");b.attr(d[0],"aria-describedby",C);g=f.tooltip=b("<div/>").attr({id:C,"class":N+" qtip ui-helper-reset "+a.style.classes,role:"alert","aria-live":"polite","aria-atomic":n,"aria-describedby":C+"-content","aria-hidden":w}).toggleClass(S,
c.cache.disabled).data("qtip",c).appendTo(a.position.container).append(f.content=b("<div />",{"class":N+"-content",id:C+"-content","aria-atomic":w}));c.rendered=w;if(q){y();z(q)}O(i);x();b.each(b.fn.qtip.plugins,function(){this.initialize==="render"&&this(c)});j(1,1,1,1);b.each(a.events,function(u,E){if(E)g.bind(u==="toggle"?"tooltipshow tooltiphide":"tooltip"+u,E)});g.css("visibility","hidden").queue("fx",function(u){s.originalEvent=c.cache.event;g.trigger(s,[c]);if(a.show.ready||e)c.show(c.cache.event);
u()});return c},get:function(e){switch(e.toLowerCase()){case "dimensions":e={height:g.outerHeight(),width:g.outerWidth()};break;case "offset":e=h(g[0],a.position.container[0]);break;default:e=m(e.toLowerCase());e=e[0].precedance?e[0].string():e[0].jquery?e[0]:e[0][e[1]];break}return e},set:function(e,f){e=e.toLowerCase();var i=m(e),q=c.elements,s,u,E,K={builtin:{"^id$":function(){var B=f===w?b.fn.qtip.nextid:f,D=N+"-"+B;if(B!==n&&B.length>0&&!b("#"+D).length){g[0].id=D;q.content[0].id=D+"-content";
q.title[0].id=D+"-title"}},"^content.text$":function(){O(f)},"^content.title.text$":function(){if(!f)return r();!c.elements.title&&f&&y();z(f)},"^content.title.button$":function(){var B=c.elements.button,D=c.elements.title;if(c.rendered)if(f){D||y();A()}else B.remove()},"^position.(my|at)$":function(){var B=/my$/i.test(e)?"my":"at";if("string"===typeof f)a.position[B]=new b.fn.qtip.plugins.Corner(f)},"^position.container$":function(){c.rendered===w&&g.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(B,
D,G,Q){var R=e.search(/fixed/i)>-1?[0,[0,1,1,1]]:[e.substr(0,3),e.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(R[0])B[D]=Q;p.apply(c,R[1]);if(R[0])B[D]=G;j.apply(c,R[1])},"^show.ready$":function(){c.rendered===n&&c.show()},"^style.classes$":function(){b.attr(g[0],"class",N+" qtip ui-helper-reset "+f)},"^style.widget|content.title":x,"^events.(render|show|move|hide|focus|blur)$":function(B,D,G){q.tooltip[(b.isFunction(f)?"":"un")+"bind"]("tooltip"+D,G)},"^position.(my|at|adjust|target|container)|style|content":function(){c.reposition()}}};
b.each(c.plugins,function(B){if("object"===typeof this.checks)K[B]=this.checks});s=i[0][i[1]];i[0][i[1]]=f.nodeType?b(f):f;W(a);for(u in K)for(E in K[u])RegExp(E,"i").test(e)&&K[u][E].call(c,i[0],i[1],f,s);return c},toggle:function(e,f){function i(){if(e)b.browser.msie&&g[0].style.removeAttribute("filter");else g.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(c.rendered===n)return n;var q=e?"show":"hide",s=a[q],u=o();if((typeof e).search("boolean|number"))e=!u;if(u===
e)return c;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(c.cache.event.type)&&f.target===a.show.target[0]&&g.has(f.relatedTarget).length)return c;c.cache.event=b.extend({},f)}u=b.Event("tooltip"+q);u.originalEvent=f?c.cache.event:F;g.trigger(u,[c,90]);if(u.isDefaultPrevented())return c;b.attr(g[0],"aria-hidden",!!!e);if(e){g.hide().css({visibility:""});c.focus(f);c.reposition(f,0);s.solo&&b(X).not(g).qtip("hide")}else{clearTimeout(c.timers.show);c.blur(f)}g.stop(1,1);if(b.isFunction(s.effect)){s.effect.call(g,
c);g.queue("fx",function(E){i.call(this,E);E()})}else if(s.effect===n){g[q]();i.call(g)}else g.fadeTo(90,e?1:0,i);e&&s.target.trigger("qtip-"+l+"-inactive");return b.fn.qtip.lastShown=c},show:function(e){c.toggle(w,e)},hide:function(e){c.toggle(n,e)},focus:function(e){if(c.rendered===n)return n;var f=b(X),i=parseInt(g[0].style.zIndex,10),q=b.fn.qtip.zindex+f.length;e=b.extend({},e);if(!g.hasClass(Y)){if(i!==q){f.each(function(){if(this.style.zIndex>i)this.style.zIndex-=1});f.filter("."+Y).qtip("blur",
e)}c.cache.lastFocus=document.activeElement;f=b.Event("tooltipfocus");f.originalEvent=e;g.trigger(f,[c,q]);if(!f.isDefaultPrevented())g.addClass(Y)[0].style.zIndex=q}return c},blur:function(e){e=b.extend({},e);var f;g.removeClass(Y);f=b.Event("tooltipblur");f.originalEvent=e;g.trigger(f,[c])},reposition:function(e,f){if(c.rendered===n)return n;var i=a.position.target,q=a.position,s=q.my,u=q.at,E=q.adjust,K=g.outerWidth(),B=g.outerHeight(),D=0,G=0,Q=b.Event("tooltipmove"),R=g.css("position")==="fixed",
I=q.viewport.jquery?q.viewport:b(M),t={left:0,top:0},H={left:function(J){var L=I.scrollLeft,P=u.x==="left"?D:u.x==="right"?-D:-D/2,U=L-J;L=J+K-I.width-L;P=(s.x==="left"?K:s.x==="right"?-K:-K/2)-(s.precedance==="x"||s.x===s.y?P:0);if(U>0&&(s.x!=="left"||L>0))t.left-=P;else if(L>0&&(s.x!=="right"||U>0))t.left-=(s.x==="center"?-1:1)*P+2*E.x;if(t.left<0&&-t.left>L)t.left=J;return t.left-J},top:function(J){var L=I.scrollTop,P=u.y==="top"?G:u.y==="bottom"?-G:-G/2,U=L-J;L=J+B-I.height-L;P=(s.y==="top"?B:
s.y==="bottom"?-B:-B/2)-(s.precedance==="y"||s.x===s.y?P:0);if(U>0&&(s.y!=="top"||L>0))t.top-=P;else if(L>0&&(s.y!=="bottom"||U>0))t.top-=(s.y==="center"?-1:1)*P+2*E.y;if(t.top<0&&-t.top>L)t.top=J;return t.top-J}};f=f===T||!!f||n;I=!I?n:{elem:I,height:I[(I[0]===M?"h":"outerH")+"eight"](),width:I[(I[0]===M?"w":"outerW")+"idth"](),scrollLeft:I.scrollLeft(),scrollTop:I.scrollTop()};if(i==="mouse"){u={x:"left",y:"top"};e=e&&(e.type==="resize"||e.type==="scroll")?c.cache.event:E.mouse||!e||!e.pageX?b.extend({},
b.fn.qtip.mouse):e;t={top:e.pageY,left:e.pageX}}else{if(i==="event")i=e&&e.target&&e.type!=="scroll"&&e.type!=="resize"?c.cache.target=b(e.target):c.cache.target;i=b(i).eq(0);if(i.length===0)return c;else if(i[0]===document||i[0]===M){D=i.width();G=i.height();if(i[0]===M)t={top:R?0:I.scrollTop,left:R?0:I.scrollLeft}}else if(i.is("area")&&b.fn.qtip.plugins.imagemap){t=b.fn.qtip.plugins.imagemap(i,u);D=t.width;G=t.height;t=t.offset}else if(i[0].namespaceURI=="http://www.w3.org/2000/svg"&&b.fn.qtip.plugins.svg){t=
b.fn.qtip.plugins.svg(i,u);D=t.width;G=t.height;t=t.offset}else{D=i.outerWidth();G=i.outerHeight();t=h(i[0],q.container[0])}t.left+=u.x==="right"?D:u.x==="center"?D/2:0;t.top+=u.y==="bottom"?G:u.y==="center"?G/2:0}t.left+=E.x+(s.x==="right"?-K:s.x==="center"?-K/2:0);t.top+=E.y+(s.y==="bottom"?-B:s.y==="center"?-B/2:0);t.adjusted=q.viewport.jquery&&i[0]!==M&&i[0]!==v?{left:H.left(t.left),top:H.top(t.top)}:{left:0,top:0};g.attr("class",function(){return b.attr(this,"class").replace(/ui-tooltip-pos-\w+/i,
"")}).addClass(N+"-pos-"+s.abbreviation());Q.originalEvent=b.extend({},e);g.trigger(Q,[c,t,I.elem]);if(Q.isDefaultPrevented())return c;delete t.adjusted;if(!f||!isNaN(t.left,t.top))g.css(t);else if(o()&&b.isFunction(q.effect)){q.effect.call(g,c,t);g.queue(function(J){b(this).css({opacity:"",height:""});b.browser.msie&&this.style&&this.style.removeAttribute("filter");J()})}return c},redraw:function(){if(!c.rendered||!(b.browser.msie&&b.browser.version<8))return n;var e=N+"-fluid",f;g.css({width:"auto",
height:"auto"}).addClass(e);f={height:g.outerHeight(),width:g.outerWidth()};b.each(["width","height"],function(i,q){var s=parseInt(g.css("max-"+q),10)||0,u=parseInt(g.css("min-"+q),10)||0;f[q]=s+u?Math.min(Math.max(f[q],u),s):f[q]});g.css(f).removeClass(e)},disable:function(e){var f=S;if("boolean"!==typeof e)e=!(g.hasClass(f)||c.cache.disabled);if(c.rendered){g.toggleClass(f,e);b.attr(g[0],"aria-disabled",e)}else c.cache.disabled=!!e;return c},destroy:function(){var e=d[0],f=b.data(e,V);if(c.rendered){g.remove();
b.each(c.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(c.timers.show);clearTimeout(c.timers.hide);p(1,1,1,1);b.removeData(e,"qtip");f&&b.attr(e,"title",f);d.removeAttr("aria-describedby");return d}})}function ca(d,a){var l,k,m,h,o=b(this),x=b(document.body),r=this===document?x:o;k=o.metadata?o.metadata(a.metadata):F;h=a.metadata.type==="html5"&&k?k[a.metadata.name]:F;var A=o.data(a.metadata.name||"qtipopts");try{A=typeof A==="string"?(new Function("return "+A))():A}catch(y){$("Unable to parse HTML5 attribute data: "+
A)}h=b.extend(w,{},b.fn.qtip.defaults,a,typeof A==="object"?W(A):F,W(h||k));k&&b.removeData(this,"metadata");k=h.position;if("boolean"===typeof h.content.text){m=o.attr(h.content.attr);if(h.content.attr!==n&&m)h.content.text=m;else return n}if(k.container===n)k.container=x;if(k.target===n)k.target=r;if(h.show.target===n)h.show.target=r;if(h.hide.target===n)h.hide.target=r;if(h.position.viewport===w)h.position.viewport=k.container;k.at=new b.fn.qtip.plugins.Corner(k.at);k.my=new b.fn.qtip.plugins.Corner(k.my);
if(b.data(this,"qtip"))if(h.overwrite)o.qtip("destroy");else if(h.overwrite===n)return n;if(b.attr(this,"title")){b.data(this,V,b.attr(this,"title"));o.removeAttr("title")}l=new aa(o,h,d,!!m);b.data(this,"qtip",l);o.bind("remove.qtip",function(){l.destroy()});return l}function da(d){var a=this,l=d.elements.tooltip,k=d.options.content.ajax;a.checks={"^content.ajax":function(m,h){if(h==="once")a.once();else k&&k.url&&a.load()}};b.extend(a,{init:function(){if(k&&k.url){a.load();l.one("tooltipshow",a.once)}},
once:function(){k.once?a.destroy():l.bind("tooltipshow.qtip-ajax",a.load)},load:function(){b.ajax(b.extend({success:function(m){d.set("content.text",m)},error:function(m,h,o){d.set("content.text",h+": "+o)},context:d},k));return a},destroy:function(){l.unbind(".qtip-ajax")}});a.init()}function ea(d,a,l){var k=Math.ceil(a/2),m=Math.ceil(l/2);a={bottomright:[[0,0],[a,l],[a,0]],bottomleft:[[0,0],[a,0],[0,l]],topright:[[0,l],[a,0],[a,l]],topleft:[[0,0],[0,l],[a,l]],topcenter:[[0,l],[k,0],[a,l]],bottomcenter:[[0,
0],[a,0],[k,l]],rightcenter:[[0,0],[a,m],[0,l]],leftcenter:[[a,0],[a,l],[0,m]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=a.topleft;return a[d.string()]}function fa(d){function a(j,p,c){if(o.tip){j=b.extend({},m.corner);p=c.adjusted;var v;if(m.corner.fixed!==w){if(p.left)j.x=j.x==="center"?p.left>0?"left":"right":j.x==="left"?"right":"left";if(p.top)j.y=j.y==="center"?p.top>0?"top":"bottom":j.y==="top"?"bottom":"top";if(j.string()!==r.corner&&(r.top!==p.top||
r.left!==p.left))v=m.update(j)}v||(v=m.position(j,0));if(v.right!==T)v.left=v.right;if(v.bottom!==T)v.top=v.bottom;v.option=Math.max(0,h.offset);c.left-=v.left.charAt?v.option:(v.right?-1:1)*v.left;c.top-=v.top.charAt?v.option:(v.bottom?-1:1)*v.top;r.left=p.left;r.top=p.top;r.corner=j.string()}}function l(j,p,c){p=!p?j[j.precedance]:p;p="border-"+p+"-width";j=parseInt((o.titlebar&&j.y==="top"?o.titlebar:o.content).css(p),10);return(c?j||parseInt(x.css(p),10):j)||0}function k(j){var p=j.precedance===
"y",c=A[p?"width":"height"],v=A[p?"height":"width"],C=j.string().indexOf("center")>-1,g=c*(C?0.5:1),e=Math.pow;j=Math.round;var f=Math.sqrt(e(g,2)+e(v,2));g=[z/g*f,z/v*f];g[2]=Math.sqrt(e(g[0],2)-e(z,2));g[3]=Math.sqrt(e(g[1],2)-e(z,2));C=(f+g[2]+g[3]+(C?0:g[0]))/f;c=[j(C*v),j(C*c)];return{height:c[p?0:1],width:c[p?1:0]}}var m=this,h=d.options.style.tip,o=d.elements,x=o.tooltip,r={top:0,left:0,corner:""},A={width:h.width,height:h.height},y={},z=h.border||0,O=b("<canvas />")[0].getContext;m.corner=
F;m.mimic=F;m.checks={"^position.my|style.tip.(corner|mimic|border)$":function(){m.init()||m.destroy();d.reposition()},"^style.tip.(height|width)$":function(){A={width:h.width,height:h.height};m.create();m.update();d.reposition()},"^content.title.text|style.(classes|widget)$":function(){o.tip&&m.update()}};b.extend(m,{init:function(){var j=m.detectCorner()&&(O||b.browser.msie);if(j){m.create();m.update();x.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",a)}return j},detectCorner:function(){var j=
h.corner,p=d.options.position,c=p.at;p=p.my.string?p.my.string():p.my;if(j===n||p===n&&c===n)return n;else if(j===w)m.corner=new b.fn.qtip.plugins.Corner(p);else if(!j.string){m.corner=new b.fn.qtip.plugins.Corner(j);m.corner.fixed=w}return m.corner.string()!=="centercenter"},detectColours:function(){var j=o.tip.css({backgroundColor:"",border:""}),p=m.corner,c=p[p.precedance],v="border-"+c+"-color";c="border"+c.charAt(0)+c.substr(1)+"Color";var C=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;p=o.titlebar&&
(p.y==="top"||p.y==="center"&&j.position().top+A.height/2+h.offset<o.titlebar.outerHeight(1))?o.titlebar:o.content;y.fill=j.css("background-color")||"transparent";y.border=j[0].style[c];if(!y.fill||C.test(y.fill)){y.fill=p.css("background-color");if(C.test(y.fill))y.fill=x.css("background-color")}if(!y.border||C.test(y.border)){y.border=x.css(v);if(C.test(y.border)||y.border===b(document.body).css("color"))y.border=p.css(v)!==b(d.elements.content).css("color")?p.css(v):"transparent"}b("*",j).add(j).css("background-color",
"transparent").css("border","0px dashed transparent")},create:function(){var j=A.width,p=A.height;o.tip&&o.tip.remove();o.tip=b("<div />",{"class":"ui-tooltip-tip"}).css({width:j,height:p}).prependTo(x);if(O)b("<canvas />").appendTo(o.tip)[0].getContext("2d").save();else{j='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';o.tip.html(z?j+=j:j)}},update:function(j){var p=o.tip,c=p.children(),v=A.width,C=A.height,g=h.mimic,e=Math.round,
f,i,q;if(!j)j=m.corner;if(g===n)g=j;else{g=new b.fn.qtip.plugins.Corner(g);g.precedance=j.precedance;if(g.x==="inherit")g.x=j.x;else if(g.y==="inherit")g.y=j.y;else if(g.x===g.y)g[j.precedance]=j[j.precedance]}f=g.precedance;m.detectColours();z=y.border==="transparent"||y.border==="#123456"?0:h.border===w?l(j,F,w):h.border;i=ea(g,v,C);q=k(j);p.css(q);p=j.precedance==="y"?[e(g.x==="left"?z:g.x==="right"?q.width-v-z:(q.width-v)/2),e(g.y==="top"?q.height-C:0)]:[e(g.x==="left"?q.width-v:0),e(g.y==="top"?
z:g.y==="bottom"?q.height-C-z:(q.height-C)/2)];if(O){c.attr(q);c=c[0].getContext("2d");c.restore();c.save();c.clearRect(0,0,3E3,3E3);c.translate(p[0],p[1]);c.beginPath();c.moveTo(i[0][0],i[0][1]);c.lineTo(i[1][0],i[1][1]);c.lineTo(i[2][0],i[2][1]);c.closePath();c.fillStyle=y.fill;c.strokeStyle=y.border;c.lineWidth=z*2;c.lineJoin="miter";c.miterLimit=100;c.stroke();c.fill()}else{i="m"+i[0][0]+","+i[0][1]+" l"+i[1][0]+","+i[1][1]+" "+i[2][0]+","+i[2][1]+" xe";p[2]=z&&/^(r|b)/i.test(j.string())?1:0;
c.css({antialias:""+(g.string().indexOf("center")>-1),left:p[0]-p[2]*Number(f==="x"),top:p[1]-p[2]*Number(f==="y"),width:v+z,height:C+z}).each(function(s){var u=b(this);u.attr({coordsize:v+z+" "+(C+z),path:i,fillcolor:y.fill,filled:!!s,stroked:!!!s}).css({display:z||s?"block":"none"});!s&&z>0&&u.html()===""&&u.html('<vml:stroke weight="'+z*2+'px" color="'+y.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}return m.position(j,1)},position:function(j,
p){var c=o.tip,v={},C=Math.max(0,h.offset),g,e,f;if(h.corner===n||!c)return n;j=j||m.corner;g=j.precedance;e=k(j);f=b.browser.msie&&z&&/^(b|r)/i.test(j.string())?1:0;b.each(g==="y"?[j.x,j.y]:[j.y,j.x],function(i,q){var s,u;if(q==="center"){s=g==="y"?"left":"top";v[s]="50%";v["margin-"+s]=-Math.round(e[g==="y"?"width":"height"]/2)+C}else{s=l(j,q,w);u=b.browser.mozilla;var E=j.y+(u?"":"-")+j.x;u=(u?"-moz-":b.browser.webkit?"-webkit-":"")+(u?"border-radius-"+E:"border-"+E+"-radius");u=parseInt((o.titlebar&&
j.y==="top"?o.titlebar:o.content).css(u),10)||parseInt(x.css(u),10)||0;v[q]=i||!z?l(j,q):C+(u>s?u:0)}});v[j[g]]-=e[g==="x"?"width":"height"]+f;p&&c.css({top:"",bottom:"",left:"",right:"",margin:""}).css(v);return v},destroy:function(){o.tip&&o.tip.remove();x.unbind(".qtip-tip")}});m.init()}function ga(d){var a=this,l=d.options.show.modal,k=d.elements,m=k.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();k.overlay.toggle(m.is(":visible"))}};b.extend(a,{init:function(){if(l.on){m.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(h,o,x){h=h.type.replace("tooltip","");b.isFunction(l[h])?l[h].call(k.overlay,x,o):a[h](x)});a.create();l.blur===w&&k.overlay.unbind(".qtipmodal"+d.id).bind("click.qtipmodal"+d.id,function(){d.hide.call(d)})}},create:function(){var h=b("#qtip-overlay");if(h.length)k.overlay=h;else{k.overlay=b("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(m.css("z-index"),10)-1}}).appendTo(document.body);b(M).bind("resize.qtipmodal",function(){k.overlay.css({height:Math.max(b(M).height(),
b(document).height()),width:Math.max(b(M).width(),b(document).width())})}).trigger("resize")}},toggle:function(h){var o=k.overlay,x=d.options.show.modal.effect,r=h?"show":"hide";o.stop(w,n);if(b.isFunction(x))x.call(o,h);else x===n?o[r]():o.fadeTo(90,h?0.7:0,function(){h||b(this).hide()})},show:function(){a.toggle(w)},hide:function(){a.toggle(n)},destroy:function(){var h=w;b("*").each(function(){var o=b(this).data("qtip");if(o&&o.id!==d.id&&o.options.show.modal)return h=n});if(h){k.overlay.remove();
b(M).unbind(".qtipmodal")}else k.overlay.unbind(".qtipmodal"+d.id);m.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function ha(d){var a=this,l=d.elements,k=l.tooltip,m=".bgiframe-"+d.id,h="tooltipmove"+m+" tooltipshow"+m;b.extend(a,{init:function(){l.bgiframe=b('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');l.bgiframe.appendTo(k);k.bind(h,a.adjust)},
adjust:function(){var o=d.get("dimensions"),x=d.plugins.tip,r=d.elements.tip,A;A=parseInt(k.css("border-left-width"),10)||0;A={left:-A,top:-A};if(x&&r){x=x.corner.precedance==="x"?["width","left"]:["height","top"];A[x[1]]-=r[x[0]]()}l.bgiframe.css(A).css(o)},destroy:function(){a.iframe.remove();k.unbind(h)}});a.init()}var w=true,n=false,F=null,N="ui-tooltip",Z="ui-widget",S="ui-state-disabled",X="div.qtip."+N,Y=N+"-focus",ba="-31000px",V="oldtitle";b.fn.qtip=function(d,a,l){var k=String(d).toLowerCase(),
m=F,h=k==="disable"?[w]:b.makeArray(arguments).slice(1,10),o=h[h.length-1],x=this[0]?b.data(this[0],"qtip"):F;if(!arguments.length&&x||k==="api")return x;else if("string"===typeof d){this.each(function(){var r=b.data(this,"qtip");if(!r)return w;if(/option|set/.test(k)&&a)if(l!==T)r.set(a,l);else m=r.get(a);else{if(!r.rendered&&(k==="show"||k==="toggle")){if(o&&o.timeStamp)r.cache.event=o;r.render(1)}else if(k==="enable"){k="disable";h=[n]}r[k]&&r[k].apply(r[k],h)}});return m!==F?m:this}else if("object"===
typeof d||!arguments.length){x=W(b.extend(w,{},d));return b.fn.qtip.bind.call(this,x,o)}};b.fn.qtip.bind=function(d,a){return this.each(function(){function l(A){function y(){r.render(typeof A==="object"||k.show.ready);m.show.unbind(h.show);m.hide.unbind(h.hide)}if(r.cache.disabled)return n;r.cache.event=b.extend({},A);if(k.show.delay>0){clearTimeout(r.timers.show);r.timers.show=setTimeout(y,k.show.delay);h.show!==h.hide&&m.hide.bind(h.hide,function(){clearTimeout(r.timers.show)})}else y()}var k,m,
h,o=d.id=!d.id||d.id===n||d.id.length<1||b("#"+N+"-"+d.id).length?b.fn.qtip.nextid++:d.id,x=".qtip-"+o+"-create",r=ca.call(this,o,d);if(r===n)return w;k=r.options;b.each(b.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(r)});m={show:k.show.target,hide:k.hide.target};h={show:String(k.show.event).replace(" ",x+" ")+x,hide:String(k.hide.event).replace(" ",x+" ")+x};m.show.bind(h.show,l);if(k.show.ready||k.prerender)l(a)})};b.each({attr:function(d,a){if(this.length){var l=this[0],k=b.data(l,
"qtip");if(d==="title")if(arguments.length<2)return b.data(l,V);else if(typeof k==="object"){k&&k.rendered&&k.options.content.attr==="title"&&k.cache.attr&&k.set("content.text",a);b.fn.attr_replacedByqTip.apply(this,arguments);b.data(l,V,b.attr(l,"title"));return this.removeAttr("title")}}},clone:function(){var d=b([]),a;b("*",this).add(this).each(function(){var l=b.data(this,V);if(l){b.attr(this,"title",l);d=d.add(this)}});a=b.fn.clone_replacedByqTip.apply(this,arguments);d.removeAttr("title");return a},
remove:b.ui?F:function(d,a){b(this).each(function(){if(!a)if(!d||b.filter(d,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})})}},function(d,a){if(!a)return w;var l=b.fn[d+"_replacedByqTip"]=b.fn[d];b.fn[d]=function(){return a.apply(this,arguments)||l.apply(this,arguments)}});b(M).load(function(){var d=document,a=d.body;b(d).bind("mousemove.qtip",function(l){b.fn.qtip.mouse={pageX:l.pageX,pageY:l.pageY}});d.activeElement===T&&d.addEventListener("focus",function(l){if(l&&
l.target)d.activeElement=l.target===d?a:l.target},true)});b.fn.qtip.version="2.0.0pre";b.fn.qtip.nextid=0;b.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");b.fn.qtip.zindex=15E3;b.fn.qtip.plugins={Corner:function(d){d=String(d).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(d.match(/left|right/i)||d.match(/center/)||["inherit"])[0].toLowerCase();this.y=(d.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=
d.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),l=this.y.substr(0,1);return a===l?a:a==="c"||a!=="c"&&l!=="c"?l+a:a+l}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};b.fn.qtip.defaults={prerender:n,id:n,overwrite:w,content:{text:w,attr:"title",title:{text:n,button:n}},position:{my:"top left",at:"bottom right",
target:n,container:n,viewport:n,adjust:{x:0,y:0,mouse:w,resize:w},effect:w},show:{target:n,event:"mouseenter",effect:w,delay:90,solo:n,ready:n},hide:{target:n,event:"mouseleave",effect:w,delay:0,fixed:n,inactive:n},style:{classes:"",widget:n},events:{render:F,move:F,show:F,hide:F,toggle:F,focus:F,blur:F}};b.fn.qtip.plugins.ajax=function(d){var a=d.plugins.ajax;return"object"===typeof a?a:d.plugins.ajax=new da(d)};b.fn.qtip.plugins.ajax.initialize="render";b.fn.qtip.plugins.ajax.sanitize=function(d){var a=
d.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=d.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};b.extend(w,b.fn.qtip.defaults,{content:{ajax:{once:w}}});b.fn.qtip.plugins.tip=function(d){var a=d.plugins.tip;return"object"===typeof a?a:d.plugins.tip=new fa(d)};b.fn.qtip.plugins.tip.initialize="render";b.fn.qtip.plugins.tip.sanitize=function(d){var a=d.style;if(a&&"tip"in a){a=d.style.tip;if(typeof a!=="object")d.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=
w;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&delete a.height;typeof a.border!=="number"&&a.border!==w&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};b.extend(w,b.fn.qtip.defaults,{style:{tip:{corner:w,mimic:n,width:8,height:8,border:w,offset:0}}});b.fn.qtip.plugins.imagemap=function(d,a){function l(z,O){for(var j=0,p=1,c=1,v=0,C=0,g=z.width,e=z.height;g>0&&e>0&&p>0&&c>0;){g=Math.floor(g/2);e=Math.floor(e/2);if(a.x==="left")p=g;else if(a.x==="right")p=z.width-
g;else p+=Math.floor(g/2);if(a.y==="top")c=e;else if(a.y==="bottom")c=z.height-e;else c+=Math.floor(e/2);for(j=O.length;j--;){if(O.length<2)break;v=O[j][0]-z.offset.left;C=O[j][1]-z.offset.top;if(a.x==="left"&&v>=p||a.x==="right"&&v<=p||a.x==="center"&&(v<p||v>z.width-p)||a.y==="top"&&C>=c||a.y==="bottom"&&C<=c||a.y==="center"&&(C<c||C>z.height-c))O.splice(j,1)}}return{left:O[0][0],top:O[0][1]}}var k=d.attr("shape").toLowerCase(),m=d.attr("coords").split(","),h=[],o=b('img[usemap="#'+d.parent("map").attr("name")+
'"]'),x=o.offset(),r={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},A=0,y=0;x.left+=Math.ceil((o.outerWidth()-o.width())/2);x.top+=Math.ceil((o.outerHeight()-o.height())/2);if(k==="poly")for(A=m.length;A--;){y=[parseInt(m[--A],10),parseInt(m[A+1],10)];if(y[0]>r.offset.right)r.offset.right=y[0];if(y[0]<r.offset.left)r.offset.left=y[0];if(y[1]>r.offset.bottom)r.offset.bottom=y[1];if(y[1]<r.offset.top)r.offset.top=y[1];h.push(y)}else h=b.map(m,function(z){return parseInt(z,10)});switch(k){case "rect":r=
{width:Math.abs(h[2]-h[0]),height:Math.abs(h[3]-h[1]),offset:{left:h[0],top:h[1]}};break;case "circle":r={width:h[2]+2,height:h[2]+2,offset:{left:h[0],top:h[1]}};break;case "poly":b.extend(r,{width:Math.abs(r.offset.right-r.offset.left),height:Math.abs(r.offset.bottom-r.offset.top)});r.offset=a.string()==="centercenter"?{left:r.offset.left+r.width/2,top:r.offset.top+r.height/2}:l(r,h.slice());r.width=r.height=0;break}r.offset.left+=x.left;r.offset.top+=x.top;return r};b.fn.qtip.plugins.svg=function(d){var a=
d[0];d={width:0,height:0,offset:{top:1E10,left:1E10}};var l,k,m;if(a.getBBox){l=a.getBBox();k=a.getScreenCTM();a=a.farthestViewportElement||a;if(!a.createSVGPoint)return d;a=a.createSVGPoint();a.x=l.x;a.y=l.y;m=a.matrixTransform(k);d.offset.left=m.x;d.offset.top=m.y;a.x+=l.width;a.y+=l.height;m=a.matrixTransform(k);d.width=m.x-d.offset.left;d.height=m.y-d.offset.top}return d};b.fn.qtip.plugins.modal=function(d){var a=d.plugins.modal;return"object"===typeof a?a:d.plugins.modal=new ga(d)};b.fn.qtip.plugins.modal.initialize=
"render";b.fn.qtip.plugins.modal.sanitize=function(d){if(d.show)if(typeof d.show.modal!=="object")d.show.modal={on:!!d.show.modal};else if(typeof d.show.modal.on==="undefined")d.show.modal.on=w};b.extend(w,b.fn.qtip.defaults,{show:{modal:{on:n,effect:w,blur:w}}});b.fn.qtip.plugins.bgiframe=function(d){if(!(b.browser.msie&&/^6\.[0-9]/.test(b.browser.version)&&b("select, object").length))return n;var a=d.plugins.bgiframe;if(a)return a;else{d.plugins.bgiframe=new ha(d);return d.plugins.bgiframe}};b.fn.qtip.plugins.bgiframe.initialize=
"render"})(jQuery,window);
