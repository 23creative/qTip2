/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Wed Jan 5 20:29:31 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(d,K,O){function U(f){var a;if(!f)return m;if("object"!==typeof f.metadata)f.metadata={type:f.metadata};if("content"in f){if("object"!==typeof f.content||f.content.jquery)f.content={text:f.content};a=f.content.text||m;if(!d.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))a=f.content.text=m;if("title"in f.content&&"object"!==typeof f.content.title)f.content.title={text:f.content.title}}if("position"in f)if("object"!==typeof f.position)f.position={my:f.position,at:f.position};
if("show"in f)if("object"!==typeof f.show)f.show=f.show.jquery?{target:f.show}:{event:f.show};if("hide"in f)if("object"!==typeof f.hide)f.hide=f.hide.jquery?{target:f.hide}:{event:f.hide};if("style"in f)if("object"!==typeof f.style)f.style={classes:f.style};d.each(d.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(f)});return f}function Y(f,a,q){function h(c){var e,g=c.split("."),l=a[g[0]];for(c=1;c<g.length;c+=1){e=l[g[c]];if(typeof e==="object"&&!e.jquery&&!e.precedance)l=l[g[c]];else break}return g[c]!==
O?[l,g[c]]:[a,g[0]]}function n(c,e){var g={left:0,top:0},l=!d.fn.qtip.plugins.iOS,i,r;if(e){g=n(e);g.left*=-1;g.top*=-1}if(c.offsetParent){do{i=c.offsetParent;r=i===e;g.left+=c.offsetLeft-(l&&i&&!r?i.scrollLeft:0);g.top+=c.offsetTop-(l&&i&&!r?i.scrollTop:0)}while(c=i)}return g}function j(){return b.elements.tooltip.css("left")!==V}function v(){var c=b.elements,e=a.style.widget;c.tooltip.toggleClass(W,e);c.content.toggleClass(W+"-content",e);c.titlebar&&c.titlebar.toggleClass(W+"-header",e);c.button&&
c.button.toggleClass(H+"-icon",!e)}function s(){var c=b.elements;if(c.title){c.titlebar.remove();c.titlebar=c.title=c.button=F;c.tooltip.removeAttr("aria-labelledby");b.reposition()}}function o(){var c=b.elements,e=a.content.title.button;c.button&&c.button.remove();c.button=e.jquery?e:d("<a />",{"class":"ui-state-default "+(a.style.widget?"":H+"-icon"),title:"Close"}).prepend(d("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));c.button.prependTo(c.titlebar).attr("role","button").hover(function(g){d(this).toggleClass("ui-state-hover",
g.type==="mouseenter")}).click(function(g){c.tooltip.hasClass(M)||b.hide(g);return m}).bind("mousedown keydown mouseup keyup mouseout",function(g){d(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(g.type))});b.redraw()}function y(){var c=b.elements,e=H+"-"+b.id+"-title";c.titlebar&&s();c.titlebar=d("<div />",{"class":H+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(c.title=d("<div />",{id:e,"class":H+"-title",html:a.content.title.text})).insertBefore(c.content);c.tooltip.attr("aria-labelledby",
e);if(a.content.title.button)o();else b.rendered===t&&b.redraw()}function C(c){var e=b.elements;if(!b.rendered||!c)return m;if(d.isFunction(c))c=c.call(f);c.jquery&&c.length>0?e.content.empty().append(c.css({display:"block"})):e.content.html(c);e.tooltip.queue("fx",function(g){function l(r){i=i.not(r);if(i.length===0){b.redraw();b.rendered===t&&b.reposition(b.cache.event);g()}}var i=d("img:not([height]):not([width])",b.elements.content);i.each(function(r,p){var E=["abort","error","load","unload",
""].join(".qtip-image ");d(this).bind(E,function(){clearTimeout(b.timers.img[r]);l(this)});(function D(){if(p.height)return l(p);b.timers.img[r]=setTimeout(D,20)})();return t});i.length===0&&l(i)});return b}function G(c,e,g,l){function i(B){if(u.tooltip.hasClass(M))return m;u.show.trigger("qtip-"+q+"-inactive");clearTimeout(b.timers.show);clearTimeout(b.timers.hide);var A=function(){b.show(B)};if(a.show.delay>0)b.timers.show=setTimeout(A,a.show.delay);else A()}function r(B){if(u.tooltip.hasClass(M))return m;
var A=d(B.relatedTarget||B.target).parents(Q)[0]===u.tooltip[0],w=d(B.relatedTarget||B.target)[0]===u.show[0];clearTimeout(b.timers.show);clearTimeout(b.timers.hide);if(a.hide.fixed&&(x.target==="mouse"&&A||/mouse(out|leave|move)/.test(B.type)&&(A||w))){B.stopPropagation();B.preventDefault();return m}u.tooltip.stop(1,1);if(a.hide.delay>0)b.timers.hide=setTimeout(function(){b.hide(B)},a.hide.delay);else b.hide(B)}function p(B){if(u.tooltip.hasClass(M))return m;clearTimeout(b.timers.inactive);b.timers.inactive=
setTimeout(function(){b.hide(B)},a.hide.inactive)}function E(B){if(!b.cache.processing){b.cache.processing=1;j()&&b.reposition(B);b.cache.processing=0}}var D=".qtip-"+q,x=a.position,u={show:a.show.target,hide:a.hide.target,tooltip:b.elements.tooltip,container:x.container[0]===z?document:x.container},I={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},P=d.browser.msie&&parseInt(d.browser.version,10)===6;if(g&&a.hide.fixed){u.hide=u.hide.add(u.tooltip);u.tooltip.bind("mouseover"+
D,function(){u.tooltip.hasClass(M)||clearTimeout(b.timers.hide)})}if(e){if("number"===typeof a.hide.inactive){u.show.bind("qtip-"+q+"-inactive",p);d.each(d.fn.qtip.inactiveEvents,function(B,A){u.hide.add(b.elements.tooltip).bind(A+D+"-inactive",p)})}d.each(I.hide,function(B,A){var w=d.inArray(A,I.show);if(w>-1&&d(u.hide).add(u.show).length===d(u.hide).length||A==="unfocus"){u.show.bind(A+D,function(R){j()?r(R):i(R)});delete I.show[w]}else u.hide.bind(A+D,r)})}if(c){d.each(I.show,function(B,A){u.show.bind(A+
D,i)});u.tooltip.bind("mouseover"+D,function(){b.focus()})}if(l){if(x.adjust.resize||x.viewport)d(d.event.special.resize?x.viewport:K).bind("resize"+D,E);if(x.viewport||P&&u.tooltip.css("position")==="fixed")d(x.viewport).bind("scroll"+D,E);/unfocus/i.test(a.hide.event)&&d(document).bind("mousedown"+D,function(B){var A=b.elements.tooltip;d(B.target).parents(Q).length===0&&d(B.target).add(f).length>1&&j()&&!A.hasClass(M)&&b.hide(B)});x.target==="mouse"&&d(document).bind("mousemove"+D,function(B){if(x.adjust.mouse&&
!u.tooltip.hasClass(M)&&j())b.reposition(B||d.fn.qtip.mouse)})}}function k(c,e,g,l){l=parseInt(l,10)!==0;var i=".qtip-"+q;e={show:c?a.show.target:F,hide:e?a.hide.target:F,tooltip:g?b.elements.tooltip:F,content:g?b.elements.content:F,container:l?a.position.container[0]===z?document:a.position.container:F,window:l?K:F};if(b.rendered)d([]).pushStack(d.grep([e.show,e.hide,e.tooltip,e.container,e.content,e.window],function(){return this!==null})).unbind(i);else c&&e.show.unbind(i+"-create")}var b=this,
z=document.body;b.id=q;b.rendered=m;b.elements={target:f};b.cache={event:{},target:F,disabled:m,position:F};b.timers={img:[]};b.options=a;b.plugins={};d.extend(b,{render:function(c){if(b.rendered)return m;var e=b.elements,g=d.Event("tooltiprender");e.tooltip=d("<div/>").attr({id:H+"-"+q,role:"alert","class":H+" qtip ui-helper-reset "+a.style.classes,"aria-describedby":H+"-"+b.id+"-content"}).toggleClass(M,b.cache.disabled).data("qtip",b).appendTo(a.position.container).append(e.content=d("<div />",
{"class":H+"-content",id:H+"-"+q+"-content"}));b.rendered=t;a.content.title.text&&y();C(a.content.text);d.each(d.fn.qtip.plugins,function(){this.initialize==="render"&&this(b)});G(1,1,1,1);d.each(a.events,function(l,i){if(i)e.tooltip.bind(l==="toggle"?"tooltipshow tooltiphide":"tooltip"+l,i)});e.tooltip.queue("fx",function(l){g.originalEvent=b.cache.event;e.tooltip.trigger(g,[b]);if(a.show.ready||c){e.tooltip.hide();b.show(b.cache.event)}l()});return b},get:function(c){var e=b.elements.tooltip;switch(c.toLowerCase()){case "dimensions":c=
{height:e.outerHeight(),width:e.outerWidth()};break;case "offset":c=n(e[0],a.position.container);break;default:c=h(c.toLowerCase());c=c[0].precedance?c[0].string():c[0].jquery?c[0]:c[0][c[1]];break}return c},set:function(c,e){c=c.toLowerCase();var g=h(c),l=b.elements,i=l.tooltip,r,p,E,D={builtin:{"^id$":function(){var x=e===t?d.fn.qtip.nextid:e,u=H+"-"+x;if(x!==m&&x.length>0&&!d("#"+u).length){i[0].id=u;l.content[0].id=u+"-content";l.title[0].id=u+"-title"}},"^content.text$":function(){C(e)},"^content.title.text$":function(){if(b.rendered)if(!b.elements.title&&
e){y();b.reposition()}else e?b.elements.title.html(e):s()},"^content.title.button$":function(){var x=b.elements.button,u=b.elements.title;if(b.rendered)if(e){u||y();o()}else x.remove()},"^position.(my|at)$":function(){var x=/my$/i.test(c)?"my":"at";if("string"===typeof e)a.position[x]=new d.fn.qtip.plugins.Corner(e)},"^position.container$":function(){b.rendered===t&&i.appendTo(e)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(x,u,I,P){var B=c.search(/fixed/i)>-1?[0,[0,1,1,1]]:[c.substr(0,
3),c.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(B[0])x[u]=P;k.apply(b,B[1]);if(B[0])x[u]=I;G.apply(b,B[1])},"^show.ready$":function(){b.rendered===m&&b.show()},"^style.classes$":function(){b.elements.tooltip.attr("class",H+" qtip ui-helper-reset "+e)},"^style.widget|content.title":v,"^events.(render|show|move|hide|focus|blur)$":function(x,u,I){l.tooltip[(d.isFunction(e)?"":"un")+"bind"]("tooltip"+u,I)},"^position.(my|at|adjust|target|container)|style|content":function(){b.reposition()}}};d.each(b.plugins,
function(x){if("object"===typeof this.checks)D[x]=this.checks});r=g[0][g[1]];g[0][g[1]]=e.nodeType?d(e):e;U(a);for(p in D)for(E in D[p])RegExp(E,"i").test(c)&&D[p][E].call(b,g[0],g[1],e,r);return b},toggle:function(c,e){function g(){if(c){d.browser.msie&&i[0].style.removeAttribute("filter");i.css("visibility","")}else i.css({display:"block",visibility:"hidden",width:"",opacity:"",left:V,top:V})}if(b.rendered===m)return m;var l=c?"show":"hide",i=b.elements.tooltip,r=a[l],p=j();if((typeof c).search("boolean|number"))c=
!p;if(!p&&!c||i.is(":animated"))return b;if(e){if(/over|enter/.test(e.type)&&/out|leave/.test(b.cache.event.type)&&e.target===a.show.target[0]&&i.has(e.relatedTarget).length)return b;b.cache.event=d.extend({},e)}p=d.Event("tooltip"+l);p.originalEvent=e?b.cache.event:F;i.trigger(p,[b,90]);if(p.isDefaultPrevented())return b;if(c){b.focus();b.reposition(e,0);i.hide();r.solo&&d(Q).not(i).qtip("hide")}else clearTimeout(b.timers.show);i.attr("aria-hidden",Boolean(!c));i.stop(1,1);if(d.isFunction(r.effect)){r.effect.call(i,
b);i.queue("fx",function(E){g.call(this,E);E()})}else if(r.effect===m){i[l]();g.call(i)}else i.fadeTo(90,c?1:0,g);c&&r.target.trigger("qtip-"+q+"-inactive");return b},show:function(c){b.toggle(t,c)},hide:function(c){b.toggle(m,c)},focus:function(c){if(b.rendered===m)return m;var e=b.elements.tooltip,g=d(Q+":visible"),l=parseInt(e[0].style.zIndex,10),i=d.fn.qtip.zindex+g.length,r=d.extend({},c);if(!e.hasClass(T)&&l!==i){g.each(function(){if(this.style.zIndex>l)this.style.zIndex-=1;this.removeAttribute("tabIndex")});
d(Q+"."+T).each(function(){var p=d(this).qtip();p&&p.rendered&&p.blur(r)});c=d.Event("tooltipfocus");c.originalEvent=r;e.trigger(c,[b,i]);if(!c.isDefaultPrevented()){e.addClass(T)[0].style.zIndex=i;e[0].tabIndex=-1;e[0].focus()}}return b},blur:function(c){var e=b.elements.tooltip;c=d.extend({},c);var g=d.Event("tooltipblur");e.removeClass(T);g.originalEvent=c;e.trigger(g,[b])},reposition:function(c,e){if(b.rendered===m)return m;var g=a.position.target,l=b.elements.tooltip,i=a.position,r=i.my,p=i.at,
E=i.adjust,D=b.elements.tooltip.outerWidth(),x=b.elements.tooltip.outerHeight(),u=0,I=0,P=d.Event("tooltipmove"),B=l.css("position")==="fixed",A=i.viewport.jquery?i.viewport:d(K),w={left:0,top:0},R={left:function(L){var J=A.scrollLeft,N=p.x==="left"?u:p.x==="right"?-u:-u/2,S=J-L;J=L+D-A.width-J;N=(r.x==="left"?D:r.x==="right"?-D:-D/2)-(r.precedance==="x"||r.x===r.y?N:0);if(S>0&&(r.x!=="left"||J>0))w.left-=N;else if(J>0&&(r.x!=="right"||S>0))w.left-=(r.x==="center"?-1:1)*N+2*E.x;if(w.left<0&&-w.left>
J)w.left=L;return w.left-L},top:function(L){var J=A.scrollTop,N=p.y==="top"?I:p.y==="bottom"?-I:-I/2,S=J-L;J=L+x-A.height-J;N=(r.y==="top"?x:r.y==="bottom"?-x:-x/2)-(r.precedance==="y"||r.x===r.y?N:0);if(S>0&&(r.y!=="top"||J>0))w.top-=N;else if(J>0&&(r.y!=="bottom"||S>0))w.top-=(r.y==="center"?-1:1)*N+2*E.y;if(w.top<0&&-w.top>J)w.top=L;return w.top-L}};e=e===O||!!e||m;A=!A?m:{elem:A,height:A[(A[0]===K?"h":"outerH")+"eight"](),width:A[(A[0]===K?"w":"outerW")+"idth"](),scrollLeft:A.scrollLeft(),scrollTop:A.scrollTop()};
if(g==="mouse"){p={x:"left",y:"top"};c=c&&(c.type==="resize"||c.type==="scroll")?b.cache.event:E.mouse||!c||!c.pageX?d.extend({},d.fn.qtip.mouse):c;w={top:c.pageY,left:c.pageX}}else{if(g==="event")g=c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?b.cache.target=d(c.target):b.cache.target;g=d(g).eq(0);if(g.length===0)return b;else if(g[0]===document||g[0]===K){u=g.width();I=g.height();if(g[0]===K)w={top:B?0:A.scrollTop,left:B?0:A.scrollLeft}}else if(g.is("area")&&d.fn.qtip.plugins.imagemap){w=d.fn.qtip.plugins.imagemap(g,
p);u=w.width;I=w.height;w=w.offset}else{u=g.outerWidth();I=g.outerHeight();w=n(g[0],i.container[0])}w.left+=p.x==="right"?u:p.x==="center"?u/2:0;w.top+=p.y==="bottom"?I:p.y==="center"?I/2:0}w.left+=E.x+(r.x==="right"?-D:r.x==="center"?-D/2:0);w.top+=E.y+(r.y==="bottom"?-x:r.y==="center"?-x/2:0);w.adjusted=i.viewport.jquery&&g[0]!==K&&g[0]!==z?{left:R.left(w.left),top:R.top(w.top)}:{left:0,top:0};l.attr("class",function(){return d(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(H+
"-pos-"+r.abbreviation());P.originalEvent=d.extend({},c);l.trigger(P,[b,w,A.elem]);if(P.isDefaultPrevented())return b;delete w.adjusted;if(!e||!isNaN(w.left,w.top))l.css(w);else if(j()&&d.isFunction(i.effect)){i.effect.call(l,b,w);l.queue(function(L){d(this).css({opacity:"",height:""});d.browser.msie&&this.style&&this.style.removeAttribute("filter");L()})}return b},redraw:function(){if(!b.rendered||!(d.browser.msie&&parseInt(d.browser.version.charAt(0),10)<9))return m;var c=b.elements.tooltip,e=H+
"-fluid",g;c.css({width:"auto",height:"auto"}).addClass(e);g={height:c.outerHeight(),width:c.outerWidth()};d.each(["width","height"],function(l,i){var r=parseInt(c.css("max-"+i),10)||0,p=parseInt(c.css("min-"+i),10)||0;g[i]=r+p?Math.min(Math.max(g[i],p),r):g[i]});c.css(g).removeClass(e)},disable:function(c){var e=b.elements.tooltip,g=M;if("boolean"!==typeof c)c=!(e.hasClass(g)||b.cache.disabled);if(b.rendered)e.toggleClass(g,c);else b.cache.disabled=!!c;return b},destroy:function(){var c=b.elements,
e=c.target.data("oldtitle");if(b.rendered){c.tooltip.remove();d.each(b.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(b.timers.show);clearTimeout(b.timers.hide);k(1,1,1,1);f.removeData("qtip");e&&f.attr("title",e);f.removeAttr("aria-describedby");return f}})}function Z(f,a){var q,h,n=d(this),j=d(document.body),v=this===document?j:n;h=n.metadata?n.metadata(a.metadata):F;var s=d.extend(t,{},d.fn.qtip.defaults,a,U((h&&a.metadata.type==="html5"?h[a.metadata.name]:F)||h));
n.removeData("metadata");h=s.position;if("boolean"===typeof s.content.text)if(s.content.attr!==m&&n.attr(s.content.attr))s.content.text=n.attr(s.content.attr);else return m;if(h.container===m)h.container=j;if(h.target===m)h.target=v;if(s.show.target===m)s.show.target=v;if(s.hide.target===m)s.hide.target=v;if(s.position.viewport===t)s.position.viewport=h.container;h.at=new d.fn.qtip.plugins.Corner(h.at);h.my=new d.fn.qtip.plugins.Corner(h.my);if(n.data("qtip"))if(s.overwrite)n.qtip("destroy");else if(s.overwrite===
m)return m;n.attr("title")&&n.data("oldtitle",n.attr("title")).removeAttr("title");q=new Y(n,s,f);n.data("qtip",q);n.bind("remove.qtip",function(){q.destroy()});return q}function $(f){var a=this,q=f.elements.tooltip,h=f.options.content.ajax;a.checks={"^content.ajax":function(n,j){if(j==="once")a.once();else h&&h.url&&a.load()}};d.extend(a,{init:function(){if(h&&h.url){a.load();a.once()}},once:function(){h.once?a.destroy():q.bind("tooltipshow.ajax",function(){a.load()})},load:function(){d.ajax(d.extend({success:function(n){f.set("content.text",
n)},error:function(n,j,v){f.set("content.text",j+": "+v)},context:f},h));return a},destroy:function(){q.unbind(".ajax")}});a.init()}function X(f,a,q){var h=Math.ceil(a/2),n=Math.ceil(q/2);a={bottomright:[[0,0],[a,q],[a,0]],bottomleft:[[0,0],[a,0],[0,q]],topright:[[0,q],[a,0],[a,q]],topleft:[[0,0],[0,q],[a,q]],topcenter:[[0,q],[h,0],[a,q]],bottomcenter:[[0,0],[a,0],[h,q]],rightcenter:[[0,0],[a,n],[0,q]],leftcenter:[[a,0],[a,q],[0,n]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;
a.rightbottom=a.topleft;return a[f.string()]}function aa(f){function a(k,b,z){if(j.tip){k=d.extend({},h.corner);b=z.adjusted;var c;if(h.corner.fixed!==t){if(b.left)k.x=k.x==="center"?b.left>0?"left":"right":k.x==="left"?"right":"left";if(b.top)k.y=k.y==="center"?b.top>0?"top":"bottom":k.y==="top"?"bottom":"top";if(k.string()!==s.corner&&(s.top!==b.top||s.left!==b.left))c=h.update(k)}c||(c=h.position(k,0));if(c.right!==O)c.left=c.right;if(c.bottom!==O)c.top=c.bottom;c.option=Math.max(0,n.offset);z.left-=
c.left.charAt?c.option:(c.right?-1:1)*c.left;z.top-=c.top.charAt?c.option:(c.bottom?-1:1)*c.top;s.left=b.left;s.top=b.top;s.corner=k.string()}}function q(k,b,z){b=!b?k[k.precedance]:b;b="border-"+b+"-width";k=parseInt((j.titlebar&&k.y==="top"?j.titlebar:j.content).css(b),10);return(z?k||parseInt(v.css(b),10):k)||0}var h=this,n=f.options.style.tip,j=f.elements,v=j.tooltip,s={top:0,left:0,corner:""},o={width:n.width,height:n.height},y={},C=n.border||0,G=n.method||m;h.corner=F;h.mimic=F;h.checks={"^position.my|style.tip.(corner|mimic|method|border)$":function(){h.init()||
h.destroy();f.reposition()},"^style.tip.(height|width)$":function(){o={width:n.width,height:n.height};h.create();h.update();f.reposition()},"^content.title.text|style.(classes|widget)$":function(){j.tip&&h.update()}};d.extend(h,{init:function(){var k=h.detectCorner();if(k){if(G!=="polygon")G=d("<canvas />")[0].getContext?"canvas":d.browser.msie?"vml":"polygon";h.create();h.update();v.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",a)}return k},detectCorner:function(){var k=n.corner,b=f.options.position,
z=b.at;b=b.my.string?b.my.string():b.my;if(k===m||b===m&&z===m)return m;else if(k===t)h.corner=new d.fn.qtip.plugins.Corner(b);else if(!k.string){h.corner=new d.fn.qtip.plugins.Corner(k);h.corner.fixed=t}return h.corner.string()!=="centercenter"},detectColours:function(){var k=j.tip.css({backgroundColor:"",border:""}),b=h.corner,z=b[b.precedance],c="border-"+z+"-color";z="border"+z.charAt(0)+z.substr(1)+"Color";var e=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;b=j.titlebar&&(b.y==="top"||b.y==="center"&&
k.position().top+o.height/2+n.offset<j.titlebar.outerHeight(1))?j.titlebar:j.content;y.fill=k.css("background-color")||"transparent";y.border=k[0].style[z];if(!y.fill||e.test(y.fill)){y.fill=b.css("background-color");if(e.test(y.fill))y.fill=v.css("background-color")}if(!y.border||e.test(y.border)){y.border=v.css(c);if(e.test(y.border)||y.border===d(document.body).css("color"))y.border=b.css(c)||y.fill}d("*",k).add(k).css("background-color","transparent").css("border",0)},create:function(){var k=
o.width,b=o.height;j.tip&&j.tip.remove();j.tip=d("<div />",{"class":"ui-tooltip-tip"}).css(o).prependTo(v);switch(G){case "canvas":d('<canvas height="'+b+'" width="'+k+'" />').appendTo(j.tip)[0].getContext("2d").save();break;case "vml":k='<vml:shape coordorigin="0,0" coordsize="'+k+" "+b+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+k+"px; height:"+b+'px;"></vml:shape>';j.tip.html(C?k+=k:k);break;case "polygon":j.tip.append('<div class="ui-tooltip-tip-inner" />').append(C?
'<div class="ui-tooltip-tip-border" />':"");break}},update:function(k){var b=j.tip.children(),z=o.width,c=o.height,e=n.mimic,g,l,i,r,p;if(!k)k=h.corner;if(e===m)e=k;else{e=new d.fn.qtip.plugins.Corner(e);e.precedance=k.precedance;if(e.x==="inherit")e.x=k.x;else if(e.y==="inherit")e.y=k.y;else if(e.x===e.y)e[k.precedance]=k[k.precedance]}C=n.border===t?q(k,F,t):n.border;g=C>0?0:1;r=e.string().indexOf("center")>-1;p=Math[/b|r/.test(e[e.precedance==="y"?"x":"y"])?"ceil":"floor"];k=h.position(k,1);h.detectColours();
switch(G){case "canvas":l=b[0].getContext("2d");l.restore&&l.restore();l.clearRect(0,0,3E3,3E3);for(i=X(e,z,c);g<2;g++){if(g){l.save();l.translate(p((e.x==="left"?1:e.x==="right"?-1:0)*(C+1)*(e.precedance==="y"?0.5:1)),p((e.y==="top"?1:e.y==="bottom"?-1:0)*(C+1)*(e.precedance==="x"?0.5:1)))}l.beginPath();l.moveTo(i[0][0],i[0][1]);l.lineTo(i[1][0],i[1][1]);l.lineTo(i[2][0],i[2][1]);l.closePath();l.fillStyle=y[g?"fill":"border"];l.fill()}break;case "vml":i=X(e,z,c);i="m"+i[0][0]+","+i[0][1]+" l"+i[1][0]+
","+i[1][1]+" "+i[2][0]+","+i[2][1]+" xe";b.each(function(E){d(this).attr({path:i,fillcolor:y[E||!C?"fill":"border"]}).css("antialias",""+r)});break;case "polygon":b.removeAttr("style").css({position:"absolute",left:0,top:0}).each(function(E){var D={x:e.precedance==="x"?e.x==="left"?"right":"left":e.x,y:e.precedance==="y"?e.y==="top"?"bottom":"top":e.y},x=e.x==="center"?["left","right",D.y,c,z]:["top","bottom",D.x,z,c];E=y[!E&&C?"border":"fill"];e.x==="center"||e.y==="center"?d(this).css("border-"+
x[2],x[3]+"px solid "+E).css("border-"+x[0],p(x[4]/2)+"px dashed transparent").css("border-"+x[1],p(x[4]/2)+"px dashed transparent"):d(this).css("border-width",p(c/2)+"px "+p(z/2)+"px").css("border-"+D.x,p(z/2)+"px solid "+E).css("border-"+D.y,p(c/2)+"px solid "+E)});break}if(G!=="canvas"&&C){g=[C*2.75,C];g=e.precedance==="y"?[e.x==="left"?g[1]:e.x==="right"?-g[1]:0,e.y==="bottom"?-g[0]:g[0]]:[e.x==="left"?g[0]:-g[0],e.y==="bottom"?-g[1]:e.y==="top"?g[1]:0];b.eq(1).css({left:g[0],top:g[1]})}return k},
position:function(k,b){var z=j.tip,c={},e=Math.max(0,n.offset),g,l;if(n.corner===m||!z)return m;k=k||h.corner;g=k.precedance;l=o[g==="x"?"width":"height"];d.each(g==="y"?[k.x,k.y]:[k.y,k.x],function(i,r){var p;if(r==="center"){p=g==="y"?"left":"top";c[p]="50%";c["margin-"+p]=-Math.floor(l/2)+e}else{p=q(k,r,t);if(i||C===O)p=q(k,r);else{if(p)p=0;else{p=d.browser.mozilla;var E=k.y+(p?"":"-")+k.x;p=(p?"-moz-":d.browser.webkit?"-webkit-":"")+(p?"border-radius-"+E:"border-"+E+"-radius");p=parseInt((j.titlebar&&
k.y==="top"?j.titlebar:j.content).css(p),10)||parseInt(v.css(p),10)||0}p=e+p}c[r]=p}});c[k[g]]-=l;b&&z.css({top:"",bottom:"",left:"",right:"",margin:""}).css(c);return c},destroy:function(){j.tip&&j.tip.remove();v.unbind(".qtip-tip")}});h.init()}function ba(f){var a=this,q=f.options.show.modal,h=f.elements,n=h.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();h.overlay.toggle(n.is(":visible"))}};d.extend(a,{init:function(){if(q.on){n.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(j,v,s){j=j.type.replace("tooltip","");d.isFunction(q[j])?q[j].call(h.overlay,s,v):a[j](s)});a.create();q.blur===t&&h.overlay.unbind(".qtipmodal"+f.id).bind("click.qtipmodal"+f.id,function(){f.hide.call(f)})}},create:function(){var j=d("#qtip-overlay");if(j.length)h.overlay=j;else{h.overlay=d("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(n.css("z-index"),10)-1}}).appendTo(document.body);d(K).bind("resize.qtipmodal",function(){h.overlay.css({height:Math.max(d(K).height(),
d(document).height()),width:Math.max(d(K).width(),d(document).width())})}).trigger("resize")}},toggle:function(j){var v=h.overlay,s=f.options.show.modal.effect,o=j?"show":"hide";v.stop(t,m);if(d.isFunction(s))s.call(v,j);else s===m?v[o]():v.fadeTo(90,j?0.7:0,function(){j||d(this).hide()})},show:function(){a.toggle(t)},hide:function(){a.toggle(m)},destroy:function(){var j=t;d("*").each(function(){var v=d(this).data("qtip");if(v&&v.id!==f.id&&v.options.show.modal)return j=m});if(j){h.overlay.remove();
d(K).unbind(".qtipmodal")}else h.overlay.unbind(".qtipmodal"+f.id);n.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function ca(f){var a=this,q=f.elements,h=q.tooltip,n=".bgiframe-"+f.id,j="tooltipmove"+n+" tooltipshow"+n;d.extend(a,{init:function(){q.bgiframe=d('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');q.bgiframe.appendTo(h);h.bind(j,a.adjust)},
adjust:function(){var v=f.get("dimensions"),s=f.plugins.tip,o=f.elements.tip,y;y=parseInt(h.css("border-left-width"),10)||0;y={left:-y,top:-y};if(s&&o){s=s.corner.precedance==="x"?["width","left"]:["height","top"];y[s[1]]-=o[s[0]]()}q.bgiframe.css(y).css(v)},destroy:function(){a.iframe.remove();h.unbind(j)}});a.init()}var t=true,m=false,F=null,H="ui-tooltip",W="ui-widget",M="ui-state-disabled",Q=".qtip."+H,T=H+"-focus",V="-31000px";d.fn.qtip=function(f,a,q){var h=String(f).toLowerCase(),n=F,j=h===
"disable"?[t]:d.makeArray(arguments).slice(1,10),v=j[j.length-1],s;if(!arguments.length&&this.data("qtip")||h==="api")return(s=this.data("qtip"))?s:O;else if("string"===typeof f){this.each(function(){var o=d(this).data("qtip");if(!o)return t;if(/option|set/.test(h)&&a)if(q!==O)o.set(a,q);else n=o.get(a);else{if(!o.rendered&&(h==="show"||h==="toggle")){if(v&&v.timeStamp)o.cache.event=v;o.render(1)}else if(h==="enable"){h="disable";j=[m]}o[h]&&o[h].apply(o[h],j)}});return n!==F?n:this}else if("object"===
typeof f||!arguments.length){s=U(d.extend(t,{},f));return d.fn.qtip.bind.call(this,s,v)}};d.fn.qtip.bind=function(f,a){return this.each(function(){function q(y){function C(){o.render(typeof y==="object"||h.show.ready);n.show.unbind(j.show);n.hide.unbind(j.hide)}if(o.cache.disabled)return m;o.cache.event=d.extend({},y);if(h.show.delay>0){clearTimeout(o.timers.show);o.timers.show=setTimeout(C,h.show.delay);j.show!==j.hide&&n.hide.bind(j.hide,function(){clearTimeout(o.timers.show)})}else C()}var h,n,
j,v=f.id=!f.id||f.id===m||f.id.length<1||d("#"+H+"-"+f.id).length?d.fn.qtip.nextid++:f.id,s=".qtip-"+v+"-create",o=Z.call(this,v,f);if(o===m)return t;h=o.options;d.each(d.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(o)});n={show:h.show.target,hide:h.hide.target};j={show:String(h.show.event).replace(" ",s+" ")+s,hide:String(h.hide.event).replace(" ",s+" ")+s};n.show.bind(j.show,q);if(h.show.ready||h.prerender)q(a)})};d.each({attr:function(f){var a=d(this),q=a.data("qtip");return arguments.length===
1&&f==="title"&&q&&q.rendered===t?a.data("oldtitle"):F},remove:d.ui?F:function(f,a){d(this).each(function(){if(!a)if(!f||d.filter(f,[this]).length)d("*",this).add(this).each(function(){d(this).triggerHandler("remove")})})}},function(f,a){if(!a)return t;d.fn["Old"+f]=d.fn[f];d.fn[f]=function(){return a.apply(this,arguments)||d.fn["Old"+f].apply(this,arguments)}});d(document.body).attr("role",function(f,a){return!a?"application":a});d(document).bind("mousemove.qtip",function(f){d.fn.qtip.mouse={pageX:f.pageX,
pageY:f.pageY}});d.fn.qtip.version="2.0.0pre";d.fn.qtip.nextid=0;d.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");d.fn.qtip.zindex=15E3;d.fn.qtip.plugins={Corner:function(f){f=String(f).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(f.match(/left|right/i)||f.match(/center/)||["inherit"])[0].toLowerCase();this.y=(f.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=f.charAt(0).search(/^(t|b)/)>
-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),q=this.y.substr(0,1);return a===q?a:a==="c"||a!=="c"&&q!=="c"?q+a:a+q}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};d.fn.qtip.defaults={prerender:m,id:m,overwrite:t,metadata:{type:"class"},content:{text:t,attr:"title",title:{text:m,button:m}},position:{my:"top left",at:"bottom right",
target:m,container:m,viewport:m,adjust:{x:0,y:0,mouse:t,resize:t},effect:t},show:{target:m,event:"mouseenter",effect:t,delay:90,solo:m,ready:m},hide:{target:m,event:"mouseleave",effect:t,delay:0,fixed:m,inactive:m},style:{classes:"",widget:m},events:{render:F,move:F,show:F,hide:F,toggle:F,focus:F,blur:F}};d.fn.qtip.plugins.ajax=function(f){var a=f.plugins.ajax;return"object"===typeof a?a:f.plugins.ajax=new $(f)};d.fn.qtip.plugins.ajax.initialize="render";d.fn.qtip.plugins.ajax.sanitize=function(f){var a=
f.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=f.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};d.extend(t,d.fn.qtip.defaults,{content:{ajax:{once:t}}});d.fn.qtip.plugins.tip=function(f){var a=f.plugins.tip;return"object"===typeof a?a:f.plugins.tip=new aa(f)};d.fn.qtip.plugins.tip.initialize="render";d.fn.qtip.plugins.tip.sanitize=function(f){var a=f.style;if(a&&"tip"in a){a=f.style.tip;if(typeof a!=="object")f.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=
t;if(typeof a.method!=="string")a.method=t;if(!/canvas|polygon/i.test(a.method))a.method=t;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&delete a.height;typeof a.border!=="number"&&a.border!==t&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};d.extend(t,d.fn.qtip.defaults,{style:{tip:{corner:t,mimic:m,method:t,width:8,height:8,border:t,offset:0}}});d.fn.qtip.plugins.imagemap=function(f,a){function q(G,k){for(var b=0,z=1,c=1,e=0,g=0,l=G.width,i=G.height;l>0&&i>
0&&z>0&&c>0;){l=Math.floor(l/2);i=Math.floor(i/2);if(a.x==="left")z=l;else if(a.x==="right")z=G.width-l;else z+=Math.floor(l/2);if(a.y==="top")c=i;else if(a.y==="bottom")c=G.height-i;else c+=Math.floor(i/2);for(b=k.length;b--;){if(k.length<2)break;e=k[b][0]-G.offset.left;g=k[b][1]-G.offset.top;if(a.x==="left"&&e>=z||a.x==="right"&&e<=z||a.x==="center"&&(e<z||e>G.width-z)||a.y==="top"&&g>=c||a.y==="bottom"&&g<=c||a.y==="center"&&(g<c||g>G.height-c))k.splice(b,1)}}return{left:k[0][0],top:k[0][1]}}var h=
f.attr("shape").toLowerCase(),n=f.attr("coords").split(","),j=[],v=d('img[usemap="#'+f.parent("map").attr("name")+'"]'),s=v.offset(),o={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},y=0,C=0;s.left+=Math.ceil((v.outerWidth()-v.width())/2);s.top+=Math.ceil((v.outerHeight()-v.height())/2);if(h==="poly")for(y=n.length;y--;){C=[parseInt(n[--y],10),parseInt(n[y+1],10)];if(C[0]>o.offset.right)o.offset.right=C[0];if(C[0]<o.offset.left)o.offset.left=C[0];if(C[1]>o.offset.bottom)o.offset.bottom=
C[1];if(C[1]<o.offset.top)o.offset.top=C[1];j.push(C)}else j=d.map(n,function(G){return parseInt(G,10)});switch(h){case "rect":o={width:Math.abs(j[2]-j[0]),height:Math.abs(j[3]-j[1]),offset:{left:j[0],top:j[1]}};break;case "circle":o={width:j[2]+2,height:j[2]+2,offset:{left:j[0],top:j[1]}};break;case "poly":d.extend(o,{width:Math.abs(o.offset.right-o.offset.left),height:Math.abs(o.offset.bottom-o.offset.top)});o.offset=a.string()==="centercenter"?{left:o.offset.left+o.width/2,top:o.offset.top+o.height/
2}:q(o,j.slice());o.width=o.height=0;break}o.offset.left+=s.left;o.offset.top+=s.top;return o};d.fn.qtip.plugins.modal=function(f){var a=f.plugins.modal;return"object"===typeof a?a:f.plugins.modal=new ba(f)};d.fn.qtip.plugins.modal.initialize="render";d.fn.qtip.plugins.modal.sanitize=function(f){if(f.show)if(typeof f.show.modal!=="object")f.show.modal={on:!!f.show.modal};else if(typeof f.show.modal.on==="undefined")f.show.modal.on=t};d.extend(t,d.fn.qtip.defaults,{show:{modal:{on:m,effect:t,blur:t}}});
d.fn.qtip.plugins.bgiframe=function(f){if(!(d.browser.msie&&/^6\.[0-9]/.test(d.browser.version)&&d("select, object").length))return m;var a=f.plugins.bgiframe;if(a)return a;else{f.plugins.bgiframe=new ca(f);return f.plugins.bgiframe}};d.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
