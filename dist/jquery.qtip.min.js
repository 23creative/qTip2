/*
* qTip2 - Pretty pwoerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Thu Dec 30 08:08:31 2010 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null;
(function(b,G,L){function M(e){var a;if(!e)return FALSE;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};a=e.content.text||FALSE;if(!b.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))a=e.content.text=FALSE;if("title"in e.content&&"object"!==typeof e.content.title)e.content.title={text:e.content.title}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,
at:e.position};if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e&&"object"!==typeof e.style)e.style={classes:e.style};b.each(b.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function O(e,a,i){function j(d){var f,g=d.split("."),k=a[g[0]];for(d=1;d<g.length;d+=1){f=k[g[d]];if(typeof f==="object"&&!f.jquery&&!f.precedance)k=k[g[d]];
else break}return g[d]!==L?[k,g[d]]:[a,g[0]]}function m(d,f){var g={left:0,top:0},k=!b.fn.qtip.plugins.iOS,h,v;if(f){g=m(f);g.left*=-1;g.top*=-1}if(d.offsetParent){do{h=d.offsetParent;v=h===f;g.left+=d.offsetLeft-(k&&h&&!v?h.scrollLeft:0);g.top+=d.offsetTop-(k&&h&&!v?h.scrollTop:0)}while(d=h)}return g}function o(d,f){var g=c.elements.tooltip,k=s+"-accessible "+(f?s+"-accessible-fluid":""),h=!g.is(":visible"),v=FALSE;if(!c.rendered)return FALSE;h&&g.addClass(k);switch(d){case "dimensions":v={height:g.outerHeight(),
width:g.outerWidth()};break;case "position":v=m(g[0],a.position.container);break}h&&g.removeClass(k);return v}function x(){var d=c.elements;if(d.title){d.titlebar.remove();d.titlebar=d.title=d.button=NULL;d.tooltip.removeAttr("aria-labelledby")}}function q(){var d=c.elements,f=a.content.title.button;d.button&&d.button.remove();d.button=f.jquery?f:"string"===typeof f?b("<a />",{html:f}):b("<a />",{"class":"ui-state-default",title:"Close tooltip"}).prepend(b("<span />",{"class":(a.style.widget?"ui":
s)+"-icon ui-icon-close"}));d.button.prependTo(d.titlebar).attr("role","button").addClass(s+"-close").hover(function(g){b(this).toggleClass("ui-state-hover",g.type==="mouseenter")}).click(function(){d.tooltip.hasClass("ui-state-disabled")||c.hide();return FALSE}).bind("mousedown keydown mouseup keyup mouseout",function(g){b(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(g.type))});c.redraw()}function l(){var d=c.elements;d.titlebar&&x();d.titlebar=b("<div />",{"class":s+"-titlebar "+
(a.style.widget?"ui-widget-header":"")}).append(d.title=b("<div />",{id:s+"-"+i+"-title","class":s+"-title",html:a.content.title.text})).prependTo(d.tooltip);if(a.content.title.button)q();else c.rendered===TRUE&&c.redraw()}function A(d){var f=c.elements;if(!c.rendered||!d)return FALSE;if(b.isFunction(d))d=d.call(e);d.jquery&&d.length>0?f.content.empty().append(d.css({display:"block"})):f.content.html(d);f.tooltip.queue("fx",function(g){function k(v){h=h.not(v);if(h.length===0){c.redraw();c.rendered===
TRUE&&c.reposition(c.cache.event);g()}}var h=b("img:not([height]):not([width])",c.elements.content);h.each(function(v,z){var B=["abort","error","load","unload",""].join(".qtip-image ");b(this).bind(B,function(){clearTimeout(c.timers.img[v]);k(this)});(function y(){if(z.height)return k(z);c.timers.img[v]=setTimeout(y,20)})();return TRUE});h.length===0&&k(h)});return c}function C(d,f,g,k){function h(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;t.show.trigger("qtip-"+i+"-inactive");clearTimeout(c.timers.show);
clearTimeout(c.timers.hide);var r=function(){c.show(u)};if(a.show.delay>0)c.timers.show=setTimeout(r,a.show.delay);else r()}function v(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;var r=b(u.relatedTarget||u.target).parents(w)[0]===t.tooltip[0],I=b(u.relatedTarget||u.target)[0]===t.show[0];clearTimeout(c.timers.show);clearTimeout(c.timers.hide);if(a.hide.fixed&&(p.target==="mouse"&&r||/mouse(out|leave|move)/.test(u.type)&&(r||I))){u.stopPropagation();u.preventDefault();return FALSE}t.tooltip.stop(1,
1);if(a.hide.delay>0)c.timers.hide=setTimeout(function(){c.hide(u)},a.hide.delay);else c.hide(u)}function z(u){if(t.tooltip.hasClass("ui-state-disabled"))return FALSE;clearTimeout(c.timers.inactive);c.timers.inactive=setTimeout(function(){c.hide(u)},a.hide.inactive)}function B(u){if(!c.cache.processing){c.cache.processing=1;c.elements.tooltip.is(":visible")&&c.reposition(u);c.cache.processing=0}}var y=".qtip-"+i,p=a.position,t={show:a.show.target,hide:a.hide.target,tooltip:c.elements.tooltip,container:p.container[0]===
document.body?document:p.container},F={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},J=b.browser.msie&&parseInt(b.browser.version,10)===6;if(g&&a.hide.fixed){t.hide=t.hide.add(t.tooltip);t.tooltip.bind("mouseover"+y,function(){t.tooltip.hasClass("ui-state-disabled")||clearTimeout(c.timers.hide)})}if(f){if("number"===typeof a.hide.inactive){t.show.bind("qtip-"+i+"-inactive",z);b.each(b.fn.qtip.inactiveEvents,function(u,r){t.hide.add(c.elements.tooltip).bind(r+y+"-inactive",
z)})}b.each(F.hide,function(u,r){var I=b.inArray(r,F.show);if(I>-1&&b(t.hide).add(t.show).length===b(t.hide).length||r==="unfocus"){t.show.bind(r+y,function(D){t.tooltip.is(":visible")?v(D):h(D)});delete F.show[I]}else t.hide.bind(r+y,v)})}if(d){b.each(F.show,function(u,r){t.show.bind(r+y,h)});t.tooltip.bind("mouseover"+y,function(){c.focus()})}if(k){if(p.adjust.resize||p.viewport)b(b.event.special.resize?p.viewport:G).bind("resize"+y,B);if(p.viewport||J&&t.tooltip.css("position")==="fixed")b(p.viewport).bind("scroll"+
y,B);/unfocus/i.test(a.hide.event)&&b(document).bind("mousedown"+y,function(u){var r=c.elements.tooltip;b(u.target).parents(w).length===0&&b(u.target).add(e).length>1&&r.is(":visible")&&!r.hasClass("ui-state-disabled")&&c.hide(u)});p.target==="mouse"&&b(document).bind("mousemove"+y,function(u){if(p.adjust.mouse&&!t.tooltip.hasClass("ui-state-disabled")&&t.tooltip.is(":visible"))c.reposition(u||b.fn.qtip.mouse)})}}function n(d,f,g,k){k=parseInt(k,10)!==0;var h=".qtip-"+i;f={show:d?a.show.target:NULL,
hide:f?a.hide.target:NULL,tooltip:g?c.elements.tooltip:NULL,content:g?c.elements.content:NULL,container:k?a.position.container[0]===document.body?document:a.position.container:NULL,window:k?G:NULL};if(c.rendered)b([]).pushStack(b.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(h);else d&&f.show.unbind(h+"-create")}var c=this,s="ui-tooltip",w=".qtip."+s;c.id=i;c.rendered=FALSE;c.elements={target:e};c.cache={event:{},target:NULL,disabled:FALSE,position:NULL};
c.timers={img:[]};c.options=a;c.plugins={};b.extend(c,{render:function(d){var f=c.elements,g=b.Event("tooltiprender");if(c.rendered)return FALSE;c.rendered=d?-2:-1;f.tooltip=b("<div/>").attr({id:s+"-"+i,role:"tooltip","class":s+" qtip ui-tooltip-accessible ui-helper-reset "+a.style.classes}).css("z-index",b.fn.qtip.zindex+b(w).length).toggleClass("ui-widget",a.style.widget).toggleClass("ui-state-disabled",c.cache.disabled).data("qtip",c).appendTo(a.position.container);f.content=b("<div />",{"class":s+
"-content "+(a.style.widget?"ui-widget-content":""),id:s+"-"+i+"-content"}).appendTo(f.tooltip);a.content.title.text&&l();A(a.content.text);b.each(b.fn.qtip.plugins,function(){this.initialize==="render"&&this(c)});c.rendered=TRUE;C(1,1,1,1);b.each(a.events,function(k,h){if(h)f.tooltip.bind(k==="toggle"?"tooltipshow tooltiphide":"tooltip"+k,h)});f.tooltip.queue("fx",function(k){f.tooltip.removeClass("ui-tooltip-accessible");g.originalEvent=c.cache.event;f.tooltip.trigger(g,[c]);if(a.show.ready||d){f.tooltip.hide();
c.show(c.cache.event)}k()});return c},get:function(d){switch(d.toLowerCase()){case "offset":d=o("position");break;case "dimensions":d=o("dimensions");break;default:d=j(d.toLowerCase());d=d[0].precedance?d[0].string():d[0].jquery?d[0]:d[0][d[1]];break}return d},set:function(d,f){d=d.toLowerCase();var g=j(d),k=c.elements,h=k.tooltip,v,z,B,y={builtin:{id:function(){var p=f===TRUE?b.fn.qtip.nextid:f,t=s+"-"+p;if(p!==FALSE&&p.length>0&&!b("#ui-tooltip-"+p).length){h[0].id=t;k.content[0].id=t+"-content";
k.title[0].id=t+"-title"}},"^content.text":function(){A(f)},"^content.title.text":function(){if(c.rendered)if(!c.elements.title&&f){l();c.reposition()}else f?c.elements.title.html(f):x()},"^content.title.button":function(){var p=c.elements.button,t=c.elements.title;if(c.rendered)if(f){t||l();q()}else p.remove()},"^position.(my|at)$":function(){var p=/my$/i.test(d)?"my":"at";if("string"===typeof f)a.position[p]=new b.fn.qtip.plugins.Corner(f)},"^position.(my|at|adjust|target)":function(){c.rendered&&
c.reposition()},"^position.container$":function(){if(c.rendered===TRUE){h.appendTo(f);c.reposition()}},"^(show|hide).(event|target|fixed|delay|inactive)":function(p,t,F,J){var u=d.search(/fixed/i)>-1?[0,[0,1,1,1]]:[d.substr(0,3),d.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(u[0])p[t]=J;n.apply(c,u[1]);if(u[0])p[t]=F;C.apply(c,u[1])},"^show.ready$":function(){c.rendered===FALSE&&c.show()},"^style.classes$":function(){c.elements.tooltip.attr("class",s+" qtip ui-helper-reset "+f)},"^style.widget$":function(){var p=
!!f;h.toggleClass("ui-widget",p);k.titlebar.toggleClass("ui-widget-header",p);k.content.toggleClass("ui-widget-content",p);k.button.children("span").toggleClass(s+"-icon",!p).toggleClass("ui-icon",p)},"^events.(render|show|move|hide|focus|blur)":function(p,t,F){k.tooltip[(b.isFunction(f)?"":"un")+"bind"]("tooltip"+t,F)}}};b.each(c.plugins,function(p){if("object"===typeof this.checks)y[p]=this.checks});v=g[0][g[1]];g[0][g[1]]=f.nodeType?b(f):f;M(a);for(z in y)for(B in y[z])RegExp(B,"i").test(d)&&y[z][B].call(c,
g[0],g[1],f,v);return c},toggle:function(d,f){function g(){var B=b(this),y=d?"attr":"removeAttr",p=/^1|0$/.test(B.css("opacity")),t=this.style;c.elements.title&&e[y]("aria-labelledby",s+"-"+i+"-title");e[y]("aria-describedby",s+"-"+i+"-content");if(d){if(b.browser.msie&&t&&p){t.removeAttribute("filter");t.removeAttribute("opacity")}}else p&&B.hide()}if(c.rendered===FALSE)return FALSE;var k=d?"show":"hide",h=c.elements.tooltip,v=a[k],z=h.is(":visible");if((typeof d).search("boolean|number"))d=!h.is(":visible");
if(!z&&!d||h.is(":animated"))return c;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(c.cache.event.type)&&f.target===a.show.target[0]&&h.has(f.relatedTarget).length)return c;c.cache.event=b.extend({},f)}z=b.Event("tooltip"+k);z.originalEvent=f?c.cache.event:NULL;h.trigger(z,[c,90]);if(z.isDefaultPrevented())return c;if(d){c.focus();c.reposition(f);v.solo&&b(w).qtip("hide")}else clearTimeout(c.timers.show);h.attr("aria-hidden",Boolean(!d));h.stop(1,1);if(b.isFunction(v.effect)){v.effect.call(h,
c);h.queue(function(){g.call(this);b(this).dequeue()})}else if(v.effect===FALSE){h[k]();g.call(h)}else h.fadeTo(90,d?1:0,g);d&&v.target.trigger("qtip-"+i+"-inactive");return c},show:function(d){c.toggle(TRUE,d)},hide:function(d){c.toggle(FALSE,d)},focus:function(d){if(c.rendered===FALSE)return FALSE;var f=c.elements.tooltip,g=b(w),k=parseInt(f[0].style.zIndex,10),h=b.fn.qtip.zindex+g.length,v=s+"-focus",z=b.extend({},d);if(!f.hasClass(v)&&k!==h){g.each(function(){this.style.zIndex-=1});b(w+"."+v).each(function(){var B=
b(this),y=B.qtip(),p;if(!y||y.rendered===FALSE)return TRUE;B.removeClass(v);p=b.Event("tooltipblur");p.originalEvent=z;B.trigger(p,[y,h])});d=b.Event("tooltipfocus");d.originalEvent=z;f.trigger(d,[c,h]);if(!d.isDefaultPrevented())f.addClass(v)[0].style.zIndex=h}return c},reposition:function(d){if(c.rendered===FALSE)return FALSE;var f=a.position.target,g=c.elements.tooltip,k=a.position,h=k.my,v=k.at,z=k.adjust,B=c.elements.tooltip.outerWidth(),y=c.elements.tooltip.outerHeight(),p=0,t=0,F=b.Event("tooltipmove"),
J=g.css("position")==="fixed",u=k.viewport.jquery?k.viewport:FALSE,r={left:0,top:0},I={left:function(D){var E=u.scrollLeft,H=v.x==="left"?p:v.x==="right"?-p:-p/2,K=E-D;E=D+B-u.width-E;H=(h.x==="left"?B:h.x==="right"?-B:-B/2)-(h.precedance==="x"||h.x===h.y?H:0);if(K>0&&(h.x!=="left"||E>0))r.left-=H;else if(E>0&&(h.x!=="right"||K>0))r.left-=(h.x==="center"?-1:1)*H+2*z.x;if(r.left<0&&-r.left>E)r.left=D;return r.left-D},top:function(D){var E=u.scrollTop,H=v.y==="top"?t:v.y==="bottom"?-t:-t/2,K=E-D;E=
D+y-u.height-E;H=(h.y==="top"?y:h.y==="bottom"?-y:-y/2)-(h.precedance==="y"||h.x===h.y?H:0);if(K>0&&(h.y!=="top"||E>0))r.top-=H;else if(E>0&&(h.y!=="bottom"||K>0))r.top-=(h.y==="center"?-1:1)*H+2*z.y;if(r.top<0&&-r.top>E)r.top=D;return r.top-D}};u=!u?FALSE:{elem:u,height:u[(u[0]===G?"h":"outerH")+"eight"](),width:u[(u[0]===G?"w":"outerW")+"idth"](),scrollLeft:u.scrollLeft(),scrollTop:u.scrollTop()};if(f==="mouse"){v={x:"left",y:"top"};d=d&&(d.type==="resize"||d.type==="scroll")?c.cache.event:z.mouse||
!d||!d.pageX?b.extend({},b.fn.qtip.mouse):d;r={top:d.pageY,left:d.pageX}}else{if(f==="event")f=d&&d.target&&d.type!=="scroll"&&d.type!=="resize"?c.cache.target=b(d.target):c.cache.target;f=b(f).eq(0);if(f.length===0)return c;else if(f[0]===document||f[0]===G){p=f.width();t=f.height();if(f[0]===G)r={top:J?0:u.scrollTop,left:J?0:u.scrollLeft}}else if(f.is("area")&&b.fn.qtip.plugins.imagemap){r=b.fn.qtip.plugins.imagemap(f,v);p=r.width;t=r.height;r=r.offset}else{p=f.outerWidth();t=f.outerHeight();r=
m(f[0],k.container[0])}r.left+=v.x==="right"?p:v.x==="center"?p/2:0;r.top+=v.y==="bottom"?t:v.y==="center"?t/2:0}r.left+=z.x+(h.x==="right"?-B:h.x==="center"?-B/2:0);r.top+=z.y+(h.y==="bottom"?-y:h.y==="center"?-y/2:0);r.adjusted=u&&f[0]!==G&&f[0]!==document.body?{left:I.left(r.left),top:I.top(r.top)}:{left:0,top:0};g.attr("class",function(){return b(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(s+"-pos-"+h.abbreviation());F.originalEvent=b.extend({},d);g.trigger(F,[c,r,u.elem]);
if(F.isDefaultPrevented())return c;delete r.adjusted;if(g.is(":visible")&&b.isFunction(k.effect)){k.effect.call(g,c,r);g.queue(function(){var D=b(this);D.css({opacity:"",height:""});b.browser.msie&&this.style&&this.style.removeAttribute("filter");D.dequeue()})}else isNaN(r.left,r.top)||g.css(r);return c},redraw:function(){if(!c.rendered||!(b.browser.msie&&parseInt(b.browser.version.charAt(0),10)<9))return FALSE;var d=c.elements.tooltip;d.attr("style");var f;d.css({width:"auto",height:"auto"});f=o("dimensions",
1);b.each(["width","height"],function(g,k){var h=parseInt(d.css("max-"+k),10)||0,v=parseInt(d.css("min-"+k),10)||0;f[k]=h+v?Math.min(Math.max(f[k],v),h):f[k]});d.css(f)},disable:function(d){var f=c.elements.tooltip;if("boolean"!==typeof d)d=!(f.hasClass("ui-state-disabled")||c.cache.disabled);if(c.rendered)f.toggleClass("ui-state-disabled",d);else c.cache.disabled=!!d;return c},destroy:function(){var d=c.elements,f=d.target.data("oldtitle");if(c.rendered){d.tooltip.remove();b.each(c.plugins,function(){this.initialize===
"render"&&this.destroy()})}clearTimeout(c.timers.show);clearTimeout(c.timers.hide);n(1,1,1,1);e.removeData("qtip");f&&e.attr("title",f);e.removeAttr("aria-describedby");return e}})}function P(e,a){var i,j,m=b(this),o=b(document.body),x=this===document?o:m;j=m.metadata?m.metadata(a.metadata):NULL;var q=b.extend(TRUE,{},b.fn.qtip.defaults,a,M((j&&a.metadata.type==="html5"?j[a.metadata.name]:NULL)||j));m.removeData("metadata");j=q.position;if("boolean"===typeof q.content.text)if(q.content.attr!==FALSE&&
m.attr(q.content.attr))q.content.text=m.attr(q.content.attr);else return FALSE;if(j.container===FALSE)j.container=o;if(j.target===FALSE)j.target=x;if(q.show.target===FALSE)q.show.target=x;if(q.hide.target===FALSE)q.hide.target=x;j.at=new b.fn.qtip.plugins.Corner(j.at);j.my=new b.fn.qtip.plugins.Corner(j.my);if(m.data("qtip"))if(q.overwrite)m.qtip("destroy");else if(q.overwrite===FALSE)return FALSE;m.attr("title")&&m.data("oldtitle",m.attr("title")).removeAttr("title");i=new O(m,q,e);m.data("qtip",
i);m.bind("remove.qtip",function(){i.destroy()});return i}function Q(e){var a=this,i=e.elements.tooltip,j=e.options.content.ajax;a.checks={"^content.ajax":function(m,o){if(o==="once")a.once();else j&&j.url&&a.load()}};b.extend(a,{init:function(){if(j&&j.url){a.load();a.once()}},once:function(){j.once?a.destroy():i.bind("tooltipshow.ajax",function(){a.load()})},load:function(){b.ajax(b.extend({success:function(m){e.set("content.text",m)},error:function(m,o,x){e.set("content.text",o+": "+x)},context:e},
j));return a},destroy:function(){i.unbind(".ajax")}});a.init()}function N(e,a,i){var j=Math.ceil(a/2),m=Math.ceil(i/2);a={bottomright:[[0,0],[a,i],[a,0]],bottomleft:[[0,0],[a,0],[0,i]],topright:[[0,i],[a,0],[a,i]],topleft:[[0,0],[0,i],[a,i]],topcenter:[[0,i],[j,0],[a,i]],bottomcenter:[[0,0],[a,0],[j,i]],rightcenter:[[0,0],[a,m],[0,i]],leftcenter:[[a,0],[a,i],[0,m]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=a.topleft;return a[e.string()]}function R(e){function a(n,
c,s){if(m.tip){n=b.extend({},i.corner);c=s.adjusted;var w;if(i.corner.fixed!==TRUE){if(c.left)n.x=n.x==="center"?c.left>0?"left":"right":n.x==="left"?"right":"left";if(c.top)n.y=n.y==="center"?c.top>0?"top":"bottom":n.y==="top"?"bottom":"top";if(n.string()!==x.corner&&(x.top!==c.top||x.left!==c.left))i.update(n,FALSE)}w=i.position(n);if(w.right)w.left=w.right;if(w.bottom)w.top=w.bottom;w.option=Math.max(0,j.offset);s.left-=w.left.charAt?w.option:(w.right?-1:1)*w.left;s.top-=w.top.charAt?w.option:
(w.bottom?-1:1)*w.top;x.left=c.left;x.top=c.top;x.corner=n.string()}}var i=this,j=e.options.style.tip,m=e.elements,o=m.tooltip,x={top:0,left:0,corner:""},q={width:j.width,height:j.height},l={},A=j.border||0,C=j.method||FALSE;i.corner=NULL;i.mimic=NULL;i.checks={"^position.my|style.tip.(corner|mimic|method|border)":function(){A=j.border;if(i.init())e.get("position.target")!=="mouse"&&e.reposition();else i.destroy()},"^style.tip.(height|width)":function(){q={width:j.width,height:j.height};i.create();
i.update();e.reposition()},"^style.(classes|widget)$":function(){i.detectColours();i.update()}};b.extend(i,{init:function(){var n=i.detectCorner();if(n){if(C!=="polygon")C=b("<canvas />")[0].getContext?"canvas":b.browser.msie?"vml":"polygon";i.create();i.detectColours();i.update();o.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",a)}return n},detectCorner:function(){var n=j.corner,c=e.options.position,s=c.at;c=c.my.string?c.my.string():c.my;if(n===FALSE||c===FALSE&&s===FALSE)return FALSE;else if(n===
TRUE)i.corner=new b.fn.qtip.plugins.Corner(c);else if(!n.string){i.corner=new b.fn.qtip.plugins.Corner(n);i.corner.fixed=TRUE}return i.corner.string()!=="centercenter"},detectColours:function(){var n=m.tip.css({backgroundColor:"",border:""}),c=i.corner,s=c[c.precedance],w="border-"+s+"-color";s="border"+s.charAt(0)+s.substr(1)+"Color";var d=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;c=m.titlebar&&c.y==="top"?m.titlebar:m.content;l.fill=n.css("background-color")||"transparent";l.border=n[0].style[s];if(!l.fill||
d.test(l.fill)){l.fill=c.css("background-color");if(d.test(l.fill))l.fill=o.css("background-color")}if(!l.border||d.test(l.border)){l.border=c.css(w);if(d.test(l.border))l.border=o.css(w)||l.fill}b("*",n).add(n).css("background-color","transparent").css("border",0)},create:function(){var n=q.width,c=q.height;m.tip&&m.tip.remove();m.tip=b("<div />",{"class":"ui-tooltip-tip"}).css(q).toggleClass("ui-widget-content",e.options.style.widget).prependTo(o);switch(C){case "canvas":b('<canvas height="'+c+
'" width="'+n+'" />').appendTo(m.tip)[0].getContext("2d").save();break;case "vml":n='<vml:shape coordorigin="0,0" coordsize="'+n+" "+c+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+n+"px; height:"+c+'px;"></vml:shape>';m.tip.html(A?n+=n:n);break;case "polygon":m.tip.append('<div class="ui-tooltip-tip-inner" />').append(A?'<div class="ui-tooltip-tip-border" />':"");break}return i},update:function(n,c){var s=
m.tip.children(),w=q.width,d=q.height,f=A>0?0:1,g=j.mimic,k,h,v,z;if(!n)n=i.corner;if(g===FALSE)g=n;else{g=new b.fn.qtip.plugins.Corner(g);g.precedance=n.precedance;if(g.x==="inherit")g.x=n.x;else if(g.y==="inherit")g.y=n.y;else if(g.x===g.y)g[n.precedance]=n[n.precedance]}v=g.string().indexOf("center")>-1;z=Math[/b|r/.test(g[g.precedance==="y"?"x":"y"])?"ceil":"floor"];switch(C){case "canvas":k=s.get(0).getContext("2d");k.restore&&k.restore();k.clearRect(0,0,3E3,3E3);for(h=N(g,w,d);f<2;f++){if(f){k.save();
k.translate(z((g.x==="left"?1:g.x==="right"?-1:0)*(A+1)*(g.precedance==="y"?0.5:1)),z((g.y==="top"?1:g.y==="bottom"?-1:0)*(A+1)*(g.precedance==="x"?0.5:1)))}k.beginPath();k.moveTo(h[0][0],h[0][1]);k.lineTo(h[1][0],h[1][1]);k.lineTo(h[2][0],h[2][1]);k.closePath();k.fillStyle=l[f?"fill":"border"];k.fill()}break;case "vml":h=N(g,w,d);h="m"+h[0][0]+","+h[0][1]+" l"+h[1][0]+","+h[1][1]+" "+h[2][0]+","+h[2][1]+" xe";s.each(function(B){b(this).attr({path:h,fillcolor:l[B||!A?"fill":"border"]}).css("antialias",
""+v)});break;case "polygon":s.removeAttr("style").css({position:"absolute",left:0,top:0}).each(function(B){var y={x:g.precedance==="x"?g.x==="left"?"right":"left":g.x,y:g.precedance==="y"?g.y==="top"?"bottom":"top":g.y},p=g.x==="center"?["left","right",y.y,d,w]:["top","bottom",y.x,w,d];B=l[!B&&A?"border":"fill"];g.x==="center"||g.y==="center"?b(this).css("border-"+p[2],p[3]+"px solid "+B).css("border-"+p[0],z(p[4]/2)+"px dashed transparent").css("border-"+p[1],z(p[4]/2)+"px dashed transparent"):
b(this).css("border-width",z(d/2)+"px "+z(w/2)+"px").css("border-"+y.x,z(w/2)+"px solid "+B).css("border-"+y.y,z(d/2)+"px solid "+B)});break}if(C!=="canvas"&&A){f=[A*2.75,A];f=g.precedance==="y"?[g.x==="left"?f[1]:g.x==="right"?-f[1]:0,g.y==="bottom"?-f[0]:f[0]]:[g.x==="left"?f[0]:-f[0],g.y==="bottom"?-f[1]:g.y==="top"?f[1]:0];s.eq(1).css({left:f[0],top:f[1]})}c!==FALSE&&i.position(n);return i},position:function(n){var c=m.tip,s={},w=Math.max(0,j.offset),d,f;if(j.corner===FALSE||!c)return FALSE;n=
n||i.corner;d=n.precedance;f=q[d==="x"?"width":"height"];c.css({top:"",bottom:"",left:"",right:"",margin:""});b.each(d==="y"?[n.x,n.y]:[n.y,n.x],function(g,k){if(k==="center"){var h=d==="y"?"left":"top";s[h]="50%";s["margin-"+h]=-Math.floor(f/2)+w}else s[k]=g||!A?parseInt((m.titlebar&&n.y==="top"?m.titlebar:m.content).css("border-"+k+"-width"),10)||0:w});s[n[d]]-=f;c.css(s);return s},destroy:function(){m.tip&&m.tip.remove();o.unbind(".qtip-tip")}});i.init()}function S(e){var a=this,i=e.options.show.modal,
j=e.elements,m=j.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();j.overlay.toggle(m.is(":visible"))}};b.extend(a,{init:function(){if(i.on){m.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(o,x,q){o=o.type.replace("tooltip","");b.isFunction(i[o])?i[o].call(j.overlay,q,x):a[o](q)});a.create();i.blur===TRUE&&j.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var o=b("#qtip-overlay");if(o.length)j.overlay=
o;else{j.overlay=b("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(m.css("z-index"),10)-1}}).appendTo(document.body);b(G).bind("resize.qtipmodal",function(){j.overlay.css({height:Math.max(b(G).height(),b(document).height()),width:Math.max(b(G).width(),b(document).width())})}).trigger("resize")}},toggle:function(o){var x=j.overlay,q=e.options.show.modal.effect,l=o?"show":"hide";x.stop(TRUE,FALSE);if(b.isFunction(q))q.call(x,o);else q===FALSE?
x[l]():x.fadeTo(90,o?0.7:0,function(){o||b(this).hide()})},show:function(){a.toggle(TRUE)},hide:function(){a.toggle(FALSE)},destroy:function(){var o=TRUE;b("*").each(function(){var x=b(this).data("qtip");if(x&&x.id!==e.id&&x.options.show.modal)return o=FALSE});if(o){j.overlay.remove();b(G).unbind(".qtipmodal")}else j.overlay.unbind(".qtipmodal"+e.id);m.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function T(e){var a=this,i=e.elements,j=i.tooltip,m=".bgiframe-"+e.id,o="tooltipmove"+
m+" tooltipshow"+m;b.extend(a,{init:function(){i.bgiframe=b('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');i.bgiframe.appendTo(j);j.bind(o,a.adjust)},adjust:function(){var x=e.get("dimensions"),q=e.plugins.tip,l=e.elements.tip,A;A=parseInt(j.css("border-left-width"),10)||0;A={left:-A,top:-A};if(q&&l){q=q.corner.precedance==="x"?["width","left"]:["height","top"];A[q[1]]-=
l[q[0]]()}i.bgiframe.css(A).css(x)},destroy:function(){a.iframe.remove();j.unbind(o)}});a.init()}b.fn.qtip=function(e,a,i){var j=String(e).toLowerCase(),m=NULL,o=j==="disable"?[TRUE]:b.makeArray(arguments).slice(1,10),x=o[o.length-1],q;if(!arguments.length&&this.data("qtip")||j==="api")return(q=this.data("qtip"))?q:L;else if("string"===typeof e){this.each(function(){var l=b(this).data("qtip");if(!l)return TRUE;if(/option|set/.test(j)&&a)if(i!==L)l.set(a,i);else m=l.get(a);else{if(!l.rendered&&(j===
"show"||j==="toggle")){if(x&&x.timeStamp)l.cache.event=x;l.render(1)}else if(j==="enable"){j="disable";o=[FALSE]}l[j]&&l[j].apply(l[j],o)}});return m!==NULL?m:this}else if("object"===typeof e||!arguments.length){q=M(b.extend(TRUE,{},e));return b.fn.qtip.bind.call(this,q,x)}};b.fn.qtip.bind=function(e,a){return this.each(function(){function i(A){function C(){l.render(typeof A==="object"||j.show.ready);m.show.unbind(o.show);m.hide.unbind(o.hide)}if(l.cache.disabled)return FALSE;l.cache.event=b.extend({},
A);if(j.show.delay>0){clearTimeout(l.timers.show);l.timers.show=setTimeout(C,j.show.delay);o.show!==o.hide&&m.hide.bind(o.hide,function(){clearTimeout(l.timers.show)})}else C()}var j,m,o,x=e.id=!e.id||e.id===FALSE||e.id.length<1||b("#ui-tooltip-"+e.id).length?b.fn.qtip.nextid++:e.id,q=".qtip-"+x+"-create",l=P.call(this,x,e);if(l===FALSE)return TRUE;j=l.options;b.each(b.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(l)});m={show:j.show.target,hide:j.hide.target};o={show:String(j.show.event).replace(" ",
q+" ")+q,hide:String(j.hide.event).replace(" ",q+" ")+q};m.show.bind(o.show,i);if(j.show.ready||j.prerender)i(a)})};b.each({attr:function(e){var a=b(this),i=a.data("qtip");return arguments.length===1&&e==="title"&&i&&i.rendered===TRUE?a.data("oldtitle"):NULL},remove:b.ui?NULL:function(e,a){b(this).each(function(){if(!a)if(!e||b.filter(e,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")})})}},function(e,a){if(!a)return TRUE;b.fn["Old"+e]=b.fn[e];b.fn[e]=function(){return a.apply(this,
arguments)||b.fn["Old"+e].apply(this,arguments)}});b(document.body).attr("role",function(e,a){return!a?"application":a});b(document).bind("mousemove.qtip",function(e){b.fn.qtip.mouse={pageX:e.pageX,pageY:e.pageY}});b.fn.qtip.version="2.0.0pre";b.fn.qtip.nextid=0;b.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");b.fn.qtip.zindex=15E3;b.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();
this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),i=this.y.substr(0,1);return a===i?a:a==="c"||a!=="c"&&i!=="c"?i+a:a+i}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,
"4_2"])[1].replace("_","."))<4.1};b.fn.qtip.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,resize:TRUE},effect:TRUE},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",
widget:FALSE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,focus:NULL,blur:NULL}};b.fn.qtip.plugins.ajax=function(e){var a=e.plugins.ajax;return"object"===typeof a?a:e.plugins.ajax=new Q(e)};b.fn.qtip.plugins.ajax.initialize="render";b.fn.qtip.plugins.ajax.sanitize=function(e){var a=e.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=e.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};b.extend(TRUE,b.fn.qtip.defaults,{content:{ajax:{once:TRUE}}});
b.fn.qtip.plugins.tip=function(e){var a=e.plugins.tip;return"object"===typeof a?a:e.plugins.tip=new R(e)};b.fn.qtip.plugins.tip.initialize="render";b.fn.qtip.plugins.tip.sanitize=function(e){var a=e.style;if(a&&"tip"in a){a=e.style.tip;if(typeof a!=="object")e.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=true;if(typeof a.method!=="string")a.method=TRUE;if(!/canvas|polygon/i.test(a.method))a.method=TRUE;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&
delete a.height;typeof a.border!=="number"&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};b.extend(TRUE,b.fn.qtip.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,method:TRUE,width:8,height:8,border:0,offset:0}}});b.fn.qtip.plugins.imagemap=function(e,a){function i(n,c){for(var s=0,w=1,d=1,f=0,g=0,k=n.width,h=n.height;k>0&&h>0&&w>0&&d>0;){k=Math.floor(k/2);h=Math.floor(h/2);if(a.x==="left")w=k;else if(a.x==="right")w=n.width-k;else w+=Math.floor(k/2);if(a.y==="top")d=h;else if(a.y===
"bottom")d=n.height-h;else d+=Math.floor(h/2);for(s=c.length;s--;){if(c.length<2)break;f=c[s][0]-n.offset.left;g=c[s][1]-n.offset.top;if(a.x==="left"&&f>=w||a.x==="right"&&f<=w||a.x==="center"&&(f<w||f>n.width-w)||a.y==="top"&&g>=d||a.y==="bottom"&&g<=d||a.y==="center"&&(g<d||g>n.height-d))c.splice(s,1)}}return{left:c[0][0],top:c[0][1]}}var j=e.attr("shape").toLowerCase(),m=e.attr("coords").split(","),o=[],x=b('img[usemap="#'+e.parent("map").attr("name")+'"]'),q=x.offset(),l={width:0,height:0,offset:{top:1E10,
right:0,bottom:0,left:1E10}},A=0,C=0;q.left+=Math.ceil((x.outerWidth()-x.width())/2);q.top+=Math.ceil((x.outerHeight()-x.height())/2);if(j==="poly")for(A=m.length;A--;){C=[parseInt(m[--A],10),parseInt(m[A+1],10)];if(C[0]>l.offset.right)l.offset.right=C[0];if(C[0]<l.offset.left)l.offset.left=C[0];if(C[1]>l.offset.bottom)l.offset.bottom=C[1];if(C[1]<l.offset.top)l.offset.top=C[1];o.push(C)}else o=b.map(m,function(n){return parseInt(n,10)});switch(j){case "rect":l={width:Math.abs(o[2]-o[0]),height:Math.abs(o[3]-
o[1]),offset:{left:o[0],top:o[1]}};break;case "circle":l={width:o[2]+2,height:o[2]+2,offset:{left:o[0],top:o[1]}};break;case "poly":b.extend(l,{width:Math.abs(l.offset.right-l.offset.left),height:Math.abs(l.offset.bottom-l.offset.top)});l.offset=a.string()==="centercenter"?{left:l.offset.left+l.width/2,top:l.offset.top+l.height/2}:i(l,o.slice());l.width=l.height=0;break}l.offset.left+=q.left;l.offset.top+=q.top;return l};b.fn.qtip.plugins.modal=function(e){var a=e.plugins.modal;return"object"===typeof a?
a:e.plugins.modal=new S(e)};b.fn.qtip.plugins.modal.initialize="render";b.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=TRUE};b.extend(TRUE,b.fn.qtip.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE}}});b.fn.qtip.plugins.bgiframe=function(e){if(!(b.browser.msie&&/^6\.[0-9]/.test(b.browser.version)&&b("select, object").length))return FALSE;var a=e.plugins.bgiframe;
if(a)return a;else{e.plugins.bgiframe=new T(e);return e.plugins.bgiframe}};b.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
