/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Wed Jan 5 20:11:22 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(d,K,O){function T(e){var a;if(!e)return l;if("object"!==typeof e.metadata)e.metadata={type:e.metadata};if("content"in e){if("object"!==typeof e.content||e.content.jquery)e.content={text:e.content};a=e.content.text||l;if(!d.isFunction(a)&&(!a&&!a.attr||a.length<1||"object"===typeof a&&!a.jquery))a=e.content.text=l;if("title"in e.content&&"object"!==typeof e.content.title)e.content.title={text:e.content.title}}if("position"in e)if("object"!==typeof e.position)e.position={my:e.position,at:e.position};
if("show"in e)if("object"!==typeof e.show)e.show=e.show.jquery?{target:e.show}:{event:e.show};if("hide"in e)if("object"!==typeof e.hide)e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide};if("style"in e)if("object"!==typeof e.style)e.style={classes:e.style};d.each(d.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(e)});return e}function X(e,a,q){function h(c){var f,g=c.split("."),m=a[g[0]];for(c=1;c<g.length;c+=1){f=m[g[c]];if(typeof f==="object"&&!f.jquery&&!f.precedance)m=m[g[c]];else break}return g[c]!==
O?[m,g[c]]:[a,g[0]]}function n(c,f){var g={left:0,top:0},m=!d.fn.qtip.plugins.iOS,i,r;if(f){g=n(f);g.left*=-1;g.top*=-1}if(c.offsetParent){do{i=c.offsetParent;r=i===f;g.left+=c.offsetLeft-(m&&i&&!r?i.scrollLeft:0);g.top+=c.offsetTop-(m&&i&&!r?i.scrollTop:0)}while(c=i)}return g}function j(){return b.elements.tooltip.css("left")!==U}function v(){var c=b.elements,f=a.style.widget;c.tooltip.toggleClass(V,f);c.content.toggleClass(V+"-content",f);c.titlebar&&c.titlebar.toggleClass(V+"-header",f);c.button&&
c.button.toggleClass(H+"-icon",!f)}function s(){var c=b.elements;if(c.title){c.titlebar.remove();c.titlebar=c.title=c.button=F;c.tooltip.removeAttr("aria-labelledby");b.reposition()}}function o(){var c=b.elements,f=a.content.title.button;c.button&&c.button.remove();c.button=f.jquery?f:d("<a />",{"class":"ui-state-default "+(a.style.widget?"":H+"-icon"),title:"Close"}).prepend(d("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));c.button.prependTo(c.titlebar).attr("role","button").hover(function(g){d(this).toggleClass("ui-state-hover",
g.type==="mouseenter")}).click(function(){c.tooltip.hasClass(M)||b.hide();return l}).bind("mousedown keydown mouseup keyup mouseout",function(g){d(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(g.type))});b.redraw()}function y(){var c=b.elements,f=H+"-"+b.id+"-title";c.titlebar&&s();c.titlebar=d("<div />",{"class":H+"-titlebar "+(a.style.widget?"ui-widget-header":"")}).append(c.title=d("<div />",{id:f,"class":H+"-title",html:a.content.title.text})).insertBefore(c.content);c.tooltip.attr("aria-labelledby",
f);if(a.content.title.button)o();else b.rendered===t&&b.redraw()}function E(c){var f=b.elements;if(!b.rendered||!c)return l;if(d.isFunction(c))c=c.call(e);c.jquery&&c.length>0?f.content.empty().append(c.css({display:"block"})):f.content.html(c);f.tooltip.queue("fx",function(g){function m(r){i=i.not(r);if(i.length===0){b.redraw();b.rendered===t&&b.reposition(b.cache.event);g()}}var i=d("img:not([height]):not([width])",b.elements.content);i.each(function(r,p){var C=["abort","error","load","unload",
""].join(".qtip-image ");d(this).bind(C,function(){clearTimeout(b.timers.img[r]);m(this)});(function A(){if(p.height)return m(p);b.timers.img[r]=setTimeout(A,20)})();return t});i.length===0&&m(i)});return b}function G(c,f,g,m){function i(D){if(u.tooltip.hasClass(M))return l;u.show.trigger("qtip-"+q+"-inactive");clearTimeout(b.timers.show);clearTimeout(b.timers.hide);var B=function(){b.show(D)};if(a.show.delay>0)b.timers.show=setTimeout(B,a.show.delay);else B()}function r(D){if(u.tooltip.hasClass(M))return l;
var B=d(D.relatedTarget||D.target).parents(Q)[0]===u.tooltip[0],x=d(D.relatedTarget||D.target)[0]===u.show[0];clearTimeout(b.timers.show);clearTimeout(b.timers.hide);if(a.hide.fixed&&(w.target==="mouse"&&B||/mouse(out|leave|move)/.test(D.type)&&(B||x))){D.stopPropagation();D.preventDefault();return l}u.tooltip.stop(1,1);if(a.hide.delay>0)b.timers.hide=setTimeout(function(){b.hide(D)},a.hide.delay);else b.hide(D)}function p(D){if(u.tooltip.hasClass(M))return l;clearTimeout(b.timers.inactive);b.timers.inactive=
setTimeout(function(){b.hide(D)},a.hide.inactive)}function C(D){if(!b.cache.processing){b.cache.processing=1;j()&&b.reposition(D);b.cache.processing=0}}var A=".qtip-"+q,w=a.position,u={show:a.show.target,hide:a.hide.target,tooltip:b.elements.tooltip,container:w.container[0]===z?document:w.container},I={show:String(a.show.event).split(" "),hide:String(a.hide.event).split(" ")},P=d.browser.msie&&parseInt(d.browser.version,10)===6;if(g&&a.hide.fixed){u.hide=u.hide.add(u.tooltip);u.tooltip.bind("mouseover"+
A,function(){u.tooltip.hasClass(M)||clearTimeout(b.timers.hide)})}if(f){if("number"===typeof a.hide.inactive){u.show.bind("qtip-"+q+"-inactive",p);d.each(d.fn.qtip.inactiveEvents,function(D,B){u.hide.add(b.elements.tooltip).bind(B+A+"-inactive",p)})}d.each(I.hide,function(D,B){var x=d.inArray(B,I.show);if(x>-1&&d(u.hide).add(u.show).length===d(u.hide).length||B==="unfocus"){u.show.bind(B+A,function(R){j()?r(R):i(R)});delete I.show[x]}else u.hide.bind(B+A,r)})}if(c){d.each(I.show,function(D,B){u.show.bind(B+
A,i)});u.tooltip.bind("mouseover"+A,function(){b.focus()})}if(m){if(w.adjust.resize||w.viewport)d(d.event.special.resize?w.viewport:K).bind("resize"+A,C);if(w.viewport||P&&u.tooltip.css("position")==="fixed")d(w.viewport).bind("scroll"+A,C);/unfocus/i.test(a.hide.event)&&d(document).bind("mousedown"+A,function(D){var B=b.elements.tooltip;d(D.target).parents(Q).length===0&&d(D.target).add(e).length>1&&j()&&!B.hasClass(M)&&b.hide(D)});w.target==="mouse"&&d(document).bind("mousemove"+A,function(D){if(w.adjust.mouse&&
!u.tooltip.hasClass(M)&&j())b.reposition(D||d.fn.qtip.mouse)})}}function k(c,f,g,m){m=parseInt(m,10)!==0;var i=".qtip-"+q;f={show:c?a.show.target:F,hide:f?a.hide.target:F,tooltip:g?b.elements.tooltip:F,content:g?b.elements.content:F,container:m?a.position.container[0]===z?document:a.position.container:F,window:m?K:F};if(b.rendered)d([]).pushStack(d.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(i);else c&&f.show.unbind(i+"-create")}var b=this,
z=document.body;b.id=q;b.rendered=l;b.elements={target:e};b.cache={event:{},target:F,disabled:l,position:F};b.timers={img:[]};b.options=a;b.plugins={};d.extend(b,{render:function(c){if(b.rendered)return l;var f=b.elements,g=d.Event("tooltiprender");f.tooltip=d("<div/>").attr({id:H+"-"+q,role:"alert","class":H+" qtip ui-helper-reset "+a.style.classes,"aria-describedby":H+"-"+b.id+"-content"}).toggleClass(M,b.cache.disabled).data("qtip",b).appendTo(a.position.container).append(f.content=d("<div />",
{"class":H+"-content",id:H+"-"+q+"-content"}));b.rendered=t;a.content.title.text&&y();E(a.content.text);d.each(d.fn.qtip.plugins,function(){this.initialize==="render"&&this(b)});G(1,1,1,1);d.each(a.events,function(m,i){if(i)f.tooltip.bind(m==="toggle"?"tooltipshow tooltiphide":"tooltip"+m,i)});f.tooltip.queue("fx",function(m){g.originalEvent=b.cache.event;f.tooltip.trigger(g,[b]);if(a.show.ready||c){f.tooltip.hide();b.show(b.cache.event)}m()});return b},get:function(c){var f=b.elements.tooltip;switch(c.toLowerCase()){case "dimensions":c=
{height:f.outerHeight(),width:f.outerWidth()};break;case "offset":c=n(f[0],a.position.container);break;default:c=h(c.toLowerCase());c=c[0].precedance?c[0].string():c[0].jquery?c[0]:c[0][c[1]];break}return c},set:function(c,f){c=c.toLowerCase();var g=h(c),m=b.elements,i=m.tooltip,r,p,C,A={builtin:{"^id$":function(){var w=f===t?d.fn.qtip.nextid:f,u=H+"-"+w;if(w!==l&&w.length>0&&!d("#"+u).length){i[0].id=u;m.content[0].id=u+"-content";m.title[0].id=u+"-title"}},"^content.text$":function(){E(f)},"^content.title.text$":function(){if(b.rendered)if(!b.elements.title&&
f){y();b.reposition()}else f?b.elements.title.html(f):s()},"^content.title.button$":function(){var w=b.elements.button,u=b.elements.title;if(b.rendered)if(f){u||y();o()}else w.remove()},"^position.(my|at)$":function(){var w=/my$/i.test(c)?"my":"at";if("string"===typeof f)a.position[w]=new d.fn.qtip.plugins.Corner(f)},"^position.container$":function(){b.rendered===t&&i.appendTo(f)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(w,u,I,P){var D=c.search(/fixed/i)>-1?[0,[0,1,1,1]]:[c.substr(0,
3),c.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(D[0])w[u]=P;k.apply(b,D[1]);if(D[0])w[u]=I;G.apply(b,D[1])},"^show.ready$":function(){b.rendered===l&&b.show()},"^style.classes$":function(){b.elements.tooltip.attr("class",H+" qtip ui-helper-reset "+f)},"^style.widget|content.title":v,"^events.(render|show|move|hide|focus|blur)$":function(w,u,I){m.tooltip[(d.isFunction(f)?"":"un")+"bind"]("tooltip"+u,I)},"^position.(my|at|adjust|target|container)|style|content":function(){b.reposition()}}};d.each(b.plugins,
function(w){if("object"===typeof this.checks)A[w]=this.checks});r=g[0][g[1]];g[0][g[1]]=f.nodeType?d(f):f;T(a);for(p in A)for(C in A[p])RegExp(C,"i").test(c)&&A[p][C].call(b,g[0],g[1],f,r);return b},toggle:function(c,f){function g(){if(c){d.browser.msie&&i[0].style.removeAttribute("filter");i.css("visibility","")}else i.css({display:"block",visibility:"hidden",opacity:"",left:U,top:U})}if(b.rendered===l)return l;var m=c?"show":"hide",i=b.elements.tooltip,r=a[m],p=j();if((typeof c).search("boolean|number"))c=
!p;if(!p&&!c||i.is(":animated"))return b;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(b.cache.event.type)&&f.target===a.show.target[0]&&i.has(f.relatedTarget).length)return b;b.cache.event=d.extend({},f)}p=d.Event("tooltip"+m);p.originalEvent=f?b.cache.event:F;i.trigger(p,[b,90]);if(p.isDefaultPrevented())return b;if(c){b.focus();b.reposition(f,0);i.hide();r.solo&&d(Q).not(i).qtip("hide")}else clearTimeout(b.timers.show);i.attr("aria-hidden",Boolean(!c));i.stop(1,1);if(d.isFunction(r.effect)){r.effect.call(i,
b);i.queue("fx",function(C){g.call(this,C);C()})}else if(r.effect===l){i[m]();g.call(i)}else i.fadeTo(90,c?1:0,g);c&&r.target.trigger("qtip-"+q+"-inactive");return b},show:function(c){b.toggle(t,c)},hide:function(c){b.toggle(l,c)},focus:function(c){if(b.rendered===l)return l;var f=b.elements.tooltip,g=d(Q),m=parseInt(f[0].style.zIndex,10),i=d.fn.qtip.zindex+g.length,r=H+"-focus",p=d.extend({},c);if(!f.hasClass(r)&&m!==i){g.each(function(){this.style.zIndex-=1;this.removeAttribute("tabIndex")});d(Q+
"."+r).each(function(){var C=d(this),A=C.qtip(),w;if(!A||A.rendered===l)return t;C.removeClass(r);w=d.Event("tooltipblur");w.originalEvent=p;C.trigger(w,[A,i])});c=d.Event("tooltipfocus");c.originalEvent=p;f.trigger(c,[b,i]);if(!c.isDefaultPrevented()){f.addClass(r)[0].style.zIndex=i;f[0].tabIndex=-1;f[0].focus()}}return b},reposition:function(c,f){if(b.rendered===l)return l;var g=a.position.target,m=b.elements.tooltip,i=a.position,r=i.my,p=i.at,C=i.adjust,A=b.elements.tooltip.outerWidth(),w=b.elements.tooltip.outerHeight(),
u=0,I=0,P=d.Event("tooltipmove"),D=m.css("position")==="fixed",B=i.viewport.jquery?i.viewport:d(K),x={left:0,top:0},R={left:function(L){var J=B.scrollLeft,N=p.x==="left"?u:p.x==="right"?-u:-u/2,S=J-L;J=L+A-B.width-J;N=(r.x==="left"?A:r.x==="right"?-A:-A/2)-(r.precedance==="x"||r.x===r.y?N:0);if(S>0&&(r.x!=="left"||J>0))x.left-=N;else if(J>0&&(r.x!=="right"||S>0))x.left-=(r.x==="center"?-1:1)*N+2*C.x;if(x.left<0&&-x.left>J)x.left=L;return x.left-L},top:function(L){var J=B.scrollTop,N=p.y==="top"?I:
p.y==="bottom"?-I:-I/2,S=J-L;J=L+w-B.height-J;N=(r.y==="top"?w:r.y==="bottom"?-w:-w/2)-(r.precedance==="y"||r.x===r.y?N:0);if(S>0&&(r.y!=="top"||J>0))x.top-=N;else if(J>0&&(r.y!=="bottom"||S>0))x.top-=(r.y==="center"?-1:1)*N+2*C.y;if(x.top<0&&-x.top>J)x.top=L;return x.top-L}};f=f===O||!!f||l;B=!B?l:{elem:B,height:B[(B[0]===K?"h":"outerH")+"eight"](),width:B[(B[0]===K?"w":"outerW")+"idth"](),scrollLeft:B.scrollLeft(),scrollTop:B.scrollTop()};if(g==="mouse"){p={x:"left",y:"top"};c=c&&(c.type==="resize"||
c.type==="scroll")?b.cache.event:C.mouse||!c||!c.pageX?d.extend({},d.fn.qtip.mouse):c;x={top:c.pageY,left:c.pageX}}else{if(g==="event")g=c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?b.cache.target=d(c.target):b.cache.target;g=d(g).eq(0);if(g.length===0)return b;else if(g[0]===document||g[0]===K){u=g.width();I=g.height();if(g[0]===K)x={top:D?0:B.scrollTop,left:D?0:B.scrollLeft}}else if(g.is("area")&&d.fn.qtip.plugins.imagemap){x=d.fn.qtip.plugins.imagemap(g,p);u=x.width;I=x.height;x=x.offset}else{u=
g.outerWidth();I=g.outerHeight();x=n(g[0],i.container[0])}x.left+=p.x==="right"?u:p.x==="center"?u/2:0;x.top+=p.y==="bottom"?I:p.y==="center"?I/2:0}x.left+=C.x+(r.x==="right"?-A:r.x==="center"?-A/2:0);x.top+=C.y+(r.y==="bottom"?-w:r.y==="center"?-w/2:0);x.adjusted=i.viewport.jquery&&g[0]!==K&&g[0]!==z?{left:R.left(x.left),top:R.top(x.top)}:{left:0,top:0};m.attr("class",function(){return d(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(H+"-pos-"+r.abbreviation());P.originalEvent=
d.extend({},c);m.trigger(P,[b,x,B.elem]);if(P.isDefaultPrevented())return b;delete x.adjusted;if(!f||!isNaN(x.left,x.top))m.css(x);else if(j()&&d.isFunction(i.effect)){i.effect.call(m,b,x);m.queue(function(L){d(this).css({opacity:"",height:""});d.browser.msie&&this.style&&this.style.removeAttribute("filter");L()})}return b},redraw:function(){if(!b.rendered||!(d.browser.msie&&parseInt(d.browser.version.charAt(0),10)<9))return l;var c=b.elements.tooltip,f=H+"-fluid",g;c.css({width:"auto",height:"auto"}).addClass(f);
g={height:c.outerHeight(),width:c.outerWidth()};d.each(["width","height"],function(m,i){var r=parseInt(c.css("max-"+i),10)||0,p=parseInt(c.css("min-"+i),10)||0;g[i]=r+p?Math.min(Math.max(g[i],p),r):g[i]});c.css(g).removeClass(f)},disable:function(c){var f=b.elements.tooltip,g=M;if("boolean"!==typeof c)c=!(f.hasClass(g)||b.cache.disabled);if(b.rendered)f.toggleClass(g,c);else b.cache.disabled=!!c;return b},destroy:function(){var c=b.elements,f=c.target.data("oldtitle");if(b.rendered){c.tooltip.remove();
d.each(b.plugins,function(){this.initialize==="render"&&this.destroy()})}clearTimeout(b.timers.show);clearTimeout(b.timers.hide);k(1,1,1,1);e.removeData("qtip");f&&e.attr("title",f);e.removeAttr("aria-describedby");return e}})}function Y(e,a){var q,h,n=d(this),j=d(document.body),v=this===document?j:n;h=n.metadata?n.metadata(a.metadata):F;var s=d.extend(t,{},d.fn.qtip.defaults,a,T((h&&a.metadata.type==="html5"?h[a.metadata.name]:F)||h));n.removeData("metadata");h=s.position;if("boolean"===typeof s.content.text)if(s.content.attr!==
l&&n.attr(s.content.attr))s.content.text=n.attr(s.content.attr);else return l;if(h.container===l)h.container=j;if(h.target===l)h.target=v;if(s.show.target===l)s.show.target=v;if(s.hide.target===l)s.hide.target=v;if(s.position.viewport===t)s.position.viewport=h.container;h.at=new d.fn.qtip.plugins.Corner(h.at);h.my=new d.fn.qtip.plugins.Corner(h.my);if(n.data("qtip"))if(s.overwrite)n.qtip("destroy");else if(s.overwrite===l)return l;n.attr("title")&&n.data("oldtitle",n.attr("title")).removeAttr("title");
q=new X(n,s,e);n.data("qtip",q);n.bind("remove.qtip",function(){q.destroy()});return q}function Z(e){var a=this,q=e.elements.tooltip,h=e.options.content.ajax;a.checks={"^content.ajax":function(n,j){if(j==="once")a.once();else h&&h.url&&a.load()}};d.extend(a,{init:function(){if(h&&h.url){a.load();a.once()}},once:function(){h.once?a.destroy():q.bind("tooltipshow.ajax",function(){a.load()})},load:function(){d.ajax(d.extend({success:function(n){e.set("content.text",n)},error:function(n,j,v){e.set("content.text",
j+": "+v)},context:e},h));return a},destroy:function(){q.unbind(".ajax")}});a.init()}function W(e,a,q){var h=Math.ceil(a/2),n=Math.ceil(q/2);a={bottomright:[[0,0],[a,q],[a,0]],bottomleft:[[0,0],[a,0],[0,q]],topright:[[0,q],[a,0],[a,q]],topleft:[[0,0],[0,q],[a,q]],topcenter:[[0,q],[h,0],[a,q]],bottomcenter:[[0,0],[a,0],[h,q]],rightcenter:[[0,0],[a,n],[0,q]],leftcenter:[[a,0],[a,q],[0,n]]};a.lefttop=a.bottomright;a.righttop=a.bottomleft;a.leftbottom=a.topright;a.rightbottom=a.topleft;return a[e.string()]}
function $(e){function a(k,b,z){if(j.tip){k=d.extend({},h.corner);b=z.adjusted;var c;if(h.corner.fixed!==t){if(b.left)k.x=k.x==="center"?b.left>0?"left":"right":k.x==="left"?"right":"left";if(b.top)k.y=k.y==="center"?b.top>0?"top":"bottom":k.y==="top"?"bottom":"top";if(k.string()!==s.corner&&(s.top!==b.top||s.left!==b.left))c=h.update(k)}c||(c=h.position(k,0));if(c.right!==O)c.left=c.right;if(c.bottom!==O)c.top=c.bottom;c.option=Math.max(0,n.offset);z.left-=c.left.charAt?c.option:(c.right?-1:1)*c.left;
z.top-=c.top.charAt?c.option:(c.bottom?-1:1)*c.top;s.left=b.left;s.top=b.top;s.corner=k.string()}}function q(k,b,z){b=!b?k[k.precedance]:b;b="border-"+b+"-width";k=parseInt((j.titlebar&&k.y==="top"?j.titlebar:j.content).css(b),10);return(z?k||parseInt(v.css(b),10):k)||0}var h=this,n=e.options.style.tip,j=e.elements,v=j.tooltip,s={top:0,left:0,corner:""},o={width:n.width,height:n.height},y={},E=n.border||0,G=n.method||l;h.corner=F;h.mimic=F;h.checks={"^position.my|style.tip.(corner|mimic|method|border)$":function(){h.init()||
h.destroy();e.reposition()},"^style.tip.(height|width)$":function(){o={width:n.width,height:n.height};h.create();h.update();e.reposition()},"^content.title.text|style.(classes|widget)$":function(){j.tip&&h.update()}};d.extend(h,{init:function(){var k=h.detectCorner();if(k){if(G!=="polygon")G=d("<canvas />")[0].getContext?"canvas":d.browser.msie?"vml":"polygon";h.create();h.update();v.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",a)}return k},detectCorner:function(){var k=n.corner,b=e.options.position,
z=b.at;b=b.my.string?b.my.string():b.my;if(k===l||b===l&&z===l)return l;else if(k===t)h.corner=new d.fn.qtip.plugins.Corner(b);else if(!k.string){h.corner=new d.fn.qtip.plugins.Corner(k);h.corner.fixed=t}return h.corner.string()!=="centercenter"},detectColours:function(){var k=j.tip.css({backgroundColor:"",border:""}),b=h.corner,z=b[b.precedance],c="border-"+z+"-color";z="border"+z.charAt(0)+z.substr(1)+"Color";var f=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;b=j.titlebar&&(b.y==="top"||b.y==="center"&&
k.position().top+o.height/2+n.offset<j.titlebar.outerHeight(1))?j.titlebar:j.content;y.fill=k.css("background-color")||"transparent";y.border=k[0].style[z];if(!y.fill||f.test(y.fill)){y.fill=b.css("background-color");if(f.test(y.fill))y.fill=v.css("background-color")}if(!y.border||f.test(y.border)){y.border=v.css(c);if(f.test(y.border)||y.border===d(document.body).css("color"))y.border=b.css(c)||y.fill}d("*",k).add(k).css("background-color","transparent").css("border",0)},create:function(){var k=
o.width,b=o.height;j.tip&&j.tip.remove();j.tip=d("<div />",{"class":"ui-tooltip-tip"}).css(o).prependTo(v);switch(G){case "canvas":d('<canvas height="'+b+'" width="'+k+'" />').appendTo(j.tip)[0].getContext("2d").save();break;case "vml":k='<vml:shape coordorigin="0,0" coordsize="'+k+" "+b+'" stroked="false"  style="behavior:url(#default#VML); display:inline-block; position:absolute; antialias:false; left: 0; top: 0; width:'+k+"px; height:"+b+'px;"></vml:shape>';j.tip.html(E?k+=k:k);break;case "polygon":j.tip.append('<div class="ui-tooltip-tip-inner" />').append(E?
'<div class="ui-tooltip-tip-border" />':"");break}},update:function(k){var b=j.tip.children(),z=o.width,c=o.height,f=n.mimic,g,m,i,r,p;if(!k)k=h.corner;if(f===l)f=k;else{f=new d.fn.qtip.plugins.Corner(f);f.precedance=k.precedance;if(f.x==="inherit")f.x=k.x;else if(f.y==="inherit")f.y=k.y;else if(f.x===f.y)f[k.precedance]=k[k.precedance]}E=n.border===t?q(k,F,t):n.border;g=E>0?0:1;r=f.string().indexOf("center")>-1;p=Math[/b|r/.test(f[f.precedance==="y"?"x":"y"])?"ceil":"floor"];k=h.position(k,1);h.detectColours();
switch(G){case "canvas":m=b[0].getContext("2d");m.restore&&m.restore();m.clearRect(0,0,3E3,3E3);for(i=W(f,z,c);g<2;g++){if(g){m.save();m.translate(p((f.x==="left"?1:f.x==="right"?-1:0)*(E+1)*(f.precedance==="y"?0.5:1)),p((f.y==="top"?1:f.y==="bottom"?-1:0)*(E+1)*(f.precedance==="x"?0.5:1)))}m.beginPath();m.moveTo(i[0][0],i[0][1]);m.lineTo(i[1][0],i[1][1]);m.lineTo(i[2][0],i[2][1]);m.closePath();m.fillStyle=y[g?"fill":"border"];m.fill()}break;case "vml":i=W(f,z,c);i="m"+i[0][0]+","+i[0][1]+" l"+i[1][0]+
","+i[1][1]+" "+i[2][0]+","+i[2][1]+" xe";b.each(function(C){d(this).attr({path:i,fillcolor:y[C||!E?"fill":"border"]}).css("antialias",""+r)});break;case "polygon":b.removeAttr("style").css({position:"absolute",left:0,top:0}).each(function(C){var A={x:f.precedance==="x"?f.x==="left"?"right":"left":f.x,y:f.precedance==="y"?f.y==="top"?"bottom":"top":f.y},w=f.x==="center"?["left","right",A.y,c,z]:["top","bottom",A.x,z,c];C=y[!C&&E?"border":"fill"];f.x==="center"||f.y==="center"?d(this).css("border-"+
w[2],w[3]+"px solid "+C).css("border-"+w[0],p(w[4]/2)+"px dashed transparent").css("border-"+w[1],p(w[4]/2)+"px dashed transparent"):d(this).css("border-width",p(c/2)+"px "+p(z/2)+"px").css("border-"+A.x,p(z/2)+"px solid "+C).css("border-"+A.y,p(c/2)+"px solid "+C)});break}if(G!=="canvas"&&E){g=[E*2.75,E];g=f.precedance==="y"?[f.x==="left"?g[1]:f.x==="right"?-g[1]:0,f.y==="bottom"?-g[0]:g[0]]:[f.x==="left"?g[0]:-g[0],f.y==="bottom"?-g[1]:f.y==="top"?g[1]:0];b.eq(1).css({left:g[0],top:g[1]})}return k},
position:function(k,b){var z=j.tip,c={},f=Math.max(0,n.offset),g,m;if(n.corner===l||!z)return l;k=k||h.corner;g=k.precedance;m=o[g==="x"?"width":"height"];d.each(g==="y"?[k.x,k.y]:[k.y,k.x],function(i,r){var p;if(r==="center"){p=g==="y"?"left":"top";c[p]="50%";c["margin-"+p]=-Math.floor(m/2)+f}else{p=q(k,r,t);if(i||E===O)p=q(k,r);else{if(p)p=0;else{p=d.browser.mozilla;var C=k.y+(p?"":"-")+k.x;p=(p?"-moz-":d.browser.webkit?"-webkit-":"")+(p?"border-radius-"+C:"border-"+C+"-radius");p=parseInt((j.titlebar&&
k.y==="top"?j.titlebar:j.content).css(p),10)||parseInt(v.css(p),10)||0}p=f+p}c[r]=p}});c[k[g]]-=m;b&&z.css({top:"",bottom:"",left:"",right:"",margin:""}).css(c);return c},destroy:function(){j.tip&&j.tip.remove();v.unbind(".qtip-tip")}});h.init()}function aa(e){var a=this,q=e.options.show.modal,h=e.elements,n=h.tooltip;a.checks={"^show.modal.(on|blur)$":function(){a.init();h.overlay.toggle(n.is(":visible"))}};d.extend(a,{init:function(){if(q.on){n.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(j,v,s){j=j.type.replace("tooltip","");d.isFunction(q[j])?q[j].call(h.overlay,s,v):a[j](s)});a.create();q.blur===t&&h.overlay.unbind(".qtipmodal"+e.id).bind("click.qtipmodal"+e.id,function(){e.hide.call(e)})}},create:function(){var j=d("#qtip-overlay");if(j.length)h.overlay=j;else{h.overlay=d("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none",zIndex:parseInt(n.css("z-index"),10)-1}}).appendTo(document.body);d(K).bind("resize.qtipmodal",function(){h.overlay.css({height:Math.max(d(K).height(),
d(document).height()),width:Math.max(d(K).width(),d(document).width())})}).trigger("resize")}},toggle:function(j){var v=h.overlay,s=e.options.show.modal.effect,o=j?"show":"hide";v.stop(t,l);if(d.isFunction(s))s.call(v,j);else s===l?v[o]():v.fadeTo(90,j?0.7:0,function(){j||d(this).hide()})},show:function(){a.toggle(t)},hide:function(){a.toggle(l)},destroy:function(){var j=t;d("*").each(function(){var v=d(this).data("qtip");if(v&&v.id!==e.id&&v.options.show.modal)return j=l});if(j){h.overlay.remove();
d(K).unbind(".qtipmodal")}else h.overlay.unbind(".qtipmodal"+e.id);n.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});a.init()}function ba(e){var a=this,q=e.elements,h=q.tooltip,n=".bgiframe-"+e.id,j="tooltipmove"+n+" tooltipshow"+n;d.extend(a,{init:function(){q.bgiframe=d('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');q.bgiframe.appendTo(h);h.bind(j,a.adjust)},
adjust:function(){var v=e.get("dimensions"),s=e.plugins.tip,o=e.elements.tip,y;y=parseInt(h.css("border-left-width"),10)||0;y={left:-y,top:-y};if(s&&o){s=s.corner.precedance==="x"?["width","left"]:["height","top"];y[s[1]]-=o[s[0]]()}q.bgiframe.css(y).css(v)},destroy:function(){a.iframe.remove();h.unbind(j)}});a.init()}var t=true,l=false,F=null,H="ui-tooltip",V="ui-widget",M="ui-state-disabled",Q=".qtip."+H,U="-31000px";d.fn.qtip=function(e,a,q){var h=String(e).toLowerCase(),n=F,j=h==="disable"?[t]:
d.makeArray(arguments).slice(1,10),v=j[j.length-1],s;if(!arguments.length&&this.data("qtip")||h==="api")return(s=this.data("qtip"))?s:O;else if("string"===typeof e){this.each(function(){var o=d(this).data("qtip");if(!o)return t;if(/option|set/.test(h)&&a)if(q!==O)o.set(a,q);else n=o.get(a);else{if(!o.rendered&&(h==="show"||h==="toggle")){if(v&&v.timeStamp)o.cache.event=v;o.render(1)}else if(h==="enable"){h="disable";j=[l]}o[h]&&o[h].apply(o[h],j)}});return n!==F?n:this}else if("object"===typeof e||
!arguments.length){s=T(d.extend(t,{},e));return d.fn.qtip.bind.call(this,s,v)}};d.fn.qtip.bind=function(e,a){return this.each(function(){function q(y){function E(){o.render(typeof y==="object"||h.show.ready);n.show.unbind(j.show);n.hide.unbind(j.hide)}if(o.cache.disabled)return l;o.cache.event=d.extend({},y);if(h.show.delay>0){clearTimeout(o.timers.show);o.timers.show=setTimeout(E,h.show.delay);j.show!==j.hide&&n.hide.bind(j.hide,function(){clearTimeout(o.timers.show)})}else E()}var h,n,j,v=e.id=
!e.id||e.id===l||e.id.length<1||d("#"+H+"-"+e.id).length?d.fn.qtip.nextid++:e.id,s=".qtip-"+v+"-create",o=Y.call(this,v,e);if(o===l)return t;h=o.options;d.each(d.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(o)});n={show:h.show.target,hide:h.hide.target};j={show:String(h.show.event).replace(" ",s+" ")+s,hide:String(h.hide.event).replace(" ",s+" ")+s};n.show.bind(j.show,q);if(h.show.ready||h.prerender)q(a)})};d.each({attr:function(e){var a=d(this),q=a.data("qtip");return arguments.length===
1&&e==="title"&&q&&q.rendered===t?a.data("oldtitle"):F},remove:d.ui?F:function(e,a){d(this).each(function(){if(!a)if(!e||d.filter(e,[this]).length)d("*",this).add(this).each(function(){d(this).triggerHandler("remove")})})}},function(e,a){if(!a)return t;d.fn["Old"+e]=d.fn[e];d.fn[e]=function(){return a.apply(this,arguments)||d.fn["Old"+e].apply(this,arguments)}});d(document.body).attr("role",function(e,a){return!a?"application":a});d(document).bind("mousemove.qtip",function(e){d.fn.qtip.mouse={pageX:e.pageX,
pageY:e.pageY}});d.fn.qtip.version="2.0.0pre";d.fn.qtip.nextid=0;d.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");d.fn.qtip.zindex=15E3;d.fn.qtip.plugins={Corner:function(e){e=String(e).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.precedance=e.charAt(0).search(/^(t|b)/)>
-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var a=this.x.substr(0,1),q=this.y.substr(0,1);return a===q?a:a==="c"||a!=="c"&&q!=="c"?q+a:a+q}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};d.fn.qtip.defaults={prerender:l,id:l,overwrite:t,metadata:{type:"class"},content:{text:t,attr:"title",title:{text:l,button:l}},position:{my:"top left",at:"bottom right",
target:l,container:l,viewport:l,adjust:{x:0,y:0,mouse:t,resize:t},effect:t},show:{target:l,event:"mouseenter",effect:t,delay:90,solo:l,ready:l},hide:{target:l,event:"mouseleave",effect:t,delay:0,fixed:l,inactive:l},style:{classes:"",widget:l},events:{render:F,move:F,show:F,hide:F,toggle:F,focus:F,blur:F}};d.fn.qtip.plugins.ajax=function(e){var a=e.plugins.ajax;return"object"===typeof a?a:e.plugins.ajax=new Z(e)};d.fn.qtip.plugins.ajax.initialize="render";d.fn.qtip.plugins.ajax.sanitize=function(e){var a=
e.content;if(a&&"ajax"in a){a=a.ajax;if(typeof a!=="object")a=e.content.ajax={url:a};if("boolean"!==typeof a.once&&a.once)a.once=!!a.once}};d.extend(t,d.fn.qtip.defaults,{content:{ajax:{once:t}}});d.fn.qtip.plugins.tip=function(e){var a=e.plugins.tip;return"object"===typeof a?a:e.plugins.tip=new $(e)};d.fn.qtip.plugins.tip.initialize="render";d.fn.qtip.plugins.tip.sanitize=function(e){var a=e.style;if(a&&"tip"in a){a=e.style.tip;if(typeof a!=="object")e.style.tip={corner:a};if(!/string|boolean/i.test(typeof a.corner))a.corner=
t;if(typeof a.method!=="string")a.method=t;if(!/canvas|polygon/i.test(a.method))a.method=t;typeof a.width!=="number"&&delete a.width;typeof a.height!=="number"&&delete a.height;typeof a.border!=="number"&&a.border!==t&&delete a.border;typeof a.offset!=="number"&&delete a.offset}};d.extend(t,d.fn.qtip.defaults,{style:{tip:{corner:t,mimic:l,method:t,width:8,height:8,border:t,offset:0}}});d.fn.qtip.plugins.imagemap=function(e,a){function q(G,k){for(var b=0,z=1,c=1,f=0,g=0,m=G.width,i=G.height;m>0&&i>
0&&z>0&&c>0;){m=Math.floor(m/2);i=Math.floor(i/2);if(a.x==="left")z=m;else if(a.x==="right")z=G.width-m;else z+=Math.floor(m/2);if(a.y==="top")c=i;else if(a.y==="bottom")c=G.height-i;else c+=Math.floor(i/2);for(b=k.length;b--;){if(k.length<2)break;f=k[b][0]-G.offset.left;g=k[b][1]-G.offset.top;if(a.x==="left"&&f>=z||a.x==="right"&&f<=z||a.x==="center"&&(f<z||f>G.width-z)||a.y==="top"&&g>=c||a.y==="bottom"&&g<=c||a.y==="center"&&(g<c||g>G.height-c))k.splice(b,1)}}return{left:k[0][0],top:k[0][1]}}var h=
e.attr("shape").toLowerCase(),n=e.attr("coords").split(","),j=[],v=d('img[usemap="#'+e.parent("map").attr("name")+'"]'),s=v.offset(),o={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},y=0,E=0;s.left+=Math.ceil((v.outerWidth()-v.width())/2);s.top+=Math.ceil((v.outerHeight()-v.height())/2);if(h==="poly")for(y=n.length;y--;){E=[parseInt(n[--y],10),parseInt(n[y+1],10)];if(E[0]>o.offset.right)o.offset.right=E[0];if(E[0]<o.offset.left)o.offset.left=E[0];if(E[1]>o.offset.bottom)o.offset.bottom=
E[1];if(E[1]<o.offset.top)o.offset.top=E[1];j.push(E)}else j=d.map(n,function(G){return parseInt(G,10)});switch(h){case "rect":o={width:Math.abs(j[2]-j[0]),height:Math.abs(j[3]-j[1]),offset:{left:j[0],top:j[1]}};break;case "circle":o={width:j[2]+2,height:j[2]+2,offset:{left:j[0],top:j[1]}};break;case "poly":d.extend(o,{width:Math.abs(o.offset.right-o.offset.left),height:Math.abs(o.offset.bottom-o.offset.top)});o.offset=a.string()==="centercenter"?{left:o.offset.left+o.width/2,top:o.offset.top+o.height/
2}:q(o,j.slice());o.width=o.height=0;break}o.offset.left+=s.left;o.offset.top+=s.top;return o};d.fn.qtip.plugins.modal=function(e){var a=e.plugins.modal;return"object"===typeof a?a:e.plugins.modal=new aa(e)};d.fn.qtip.plugins.modal.initialize="render";d.fn.qtip.plugins.modal.sanitize=function(e){if(e.show)if(typeof e.show.modal!=="object")e.show.modal={on:!!e.show.modal};else if(typeof e.show.modal.on==="undefined")e.show.modal.on=t};d.extend(t,d.fn.qtip.defaults,{show:{modal:{on:l,effect:t,blur:t}}});
d.fn.qtip.plugins.bgiframe=function(e){if(!(d.browser.msie&&/^6\.[0-9]/.test(d.browser.version)&&d("select, object").length))return l;var a=e.plugins.bgiframe;if(a)return a;else{e.plugins.bgiframe=new ba(e);return e.plugins.bgiframe}};d.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
