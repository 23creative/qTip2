/*
* qTip - The jQuery tooltip plugin
* http://craigsworks.com/projects/qtip/
*
* Version: 2.0.0pre
* Copyright 2009 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPL Version 2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Sat Sep 18 20:09:26 2010 +0100
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null;
(function(a,E,G){function O(b,e){var g,h=a();if(!b)return FALSE;try{if("metadata"in b&&"object"!==typeof b.metadata)b.metadata={type:b.metadata};if("content"in b){if("object"!==typeof b.content||b.content.jquery)b.content={text:b.content};g=b.content.text||FALSE;if(!a.isFunction(g)&&(!g&&!g.attr||g.length<1||"object"===typeof g&&!g.jquery))g=b.content.text=FALSE;if("title"in b.content&&"object"!==typeof b.content.title)b.content.title={text:b.content.title}}if("position"in b){if("object"!==typeof b.position)b.position=
{my:b.position,at:b.position};if("object"!==typeof b.position.adjust)b.position.adjust={};if("undefined"!==typeof b.position.adjust.screen)b.position.adjust.screen=!!b.position.adjust.screen}if("show"in b){if("object"!==typeof b.show)b.show={event:b.show};if("object"!==typeof b.show)b.show=b.show.jquery?{target:b.show}:{event:b.show}}if("hide"in b)if("object"!==typeof b.hide)b.hide=b.hide.jquery?{target:b.hide}:{event:b.hide};if("style"in b&&"object"!==typeof b.style)b.style={classes:b.style}}catch(r){}if(a.isFunction(g)){b.content.text=
[];e.each(function(){var l=g.call(this);if(l){b.content.text.push(l);h=h.add(a(this))}})}else h=e;a.each(a.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(b)});return h}function R(b,e,g){function h(c){var d,i;c=c.split(".");d=e[c[0]];for(i=1;i<c.length;i+=1)if(typeof d[c[i]]==="object"&&!d[c[i]].jquery)d=d[c[i]];else break;return[d,c[i]]}function r(c){var d=f.elements.tooltip,i=y+"-accessible",k=!d.is(":visible")?TRUE:FALSE,j=FALSE;if(!f.rendered)return FALSE;k&&d.addClass(i);switch(c){case "dimensions":j=
{height:d.outerHeight(),width:d.outerWidth()};break;case "position":j=d.offset();break}k&&d.removeClass(i);return j}function l(){var c=f.elements;if(c.title){c.titlebar.remove();c.titlebar=c.title=c.button=NULL;c.tooltip.removeAttr("aria-labelledby")}}function t(){var c=f.elements,d=e.content.title.button;c.button&&c.button.remove();c.button=d.jquery?d:"string"===typeof d?a("<a />",{html:d}):a("<a />",{"class":"ui-state-default",text:"Close tooltip",title:"Close tooltip",css:{"text-indent":"-10000em"}}).prepend(a("<span />",
{"class":"ui-icon ui-icon-close"}));c.button.prependTo(c.titlebar).attr("role","button").addClass(y+"-"+(d===TRUE?"close":"button")).hover(function(i){a(this).toggleClass("ui-state-hover",i.type==="mouseenter")}).click(function(){c.tooltip.hasClass("ui-state-disabled")||f.hide();return FALSE}).bind("mousedown keydown mouseup keyup mouseout",function(i){a(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(i.type))})}function m(){var c=f.elements;c.titlebar&&l();c.titlebar=a("<div />",
{"class":y+"-titlebar "+(e.style.widget?"ui-widget-header":"")}).append(c.title=a("<div />",{id:y+"-"+g+"-title","class":y+"-title",html:e.content.title.text})).prependTo(c.wrapper);e.content.title.button&&t()}function w(c){if(!f.rendered||!c)return FALSE;if(a.isFunction(c))c=c.call(b);c.jquery&&c.length>0?f.elements.content.append(c.css({display:"block"})):f.elements.content.html(c);c=void 0;var d=f.elements.tooltip,i,k;if(f.rendered&&a.browser.msie&&parseInt(a.browser.version.charAt(0),10)<9){d.css({width:"auto",
maxWidth:"none"});c=r("dimensions").width;d.css({maxWidth:""});i=parseInt(d.css("max-width"),10)||0;k=parseInt(d.css("min-width"),10)||0;c=Math.min(Math.max(c,k),i);d.width(c)}f.rendered===TRUE&&f.reposition(f.cache.event);return f}function p(c,d,i,k){function j(B){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;o.show.trigger("qtip-"+g+"-inactive");clearTimeout(f.timers.show);clearTimeout(f.timers.hide);var C=function(){f.show(e.position.target!=="mouse"?B:NULL)};if(e.show.delay>0)f.timers.show=
setTimeout(C,e.show.delay);else C()}function n(B){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;var C=a(B.relatedTarget).parents(A)[0]==o.tooltip[0];clearTimeout(f.timers.show);clearTimeout(f.timers.hide);if(e.hide.fixed&&(e.position.target==="mouse"&&C||/mouse(out|leave|move)/.test(B.type)&&C)){B.stopPropagation();B.preventDefault();return FALSE}o.tooltip.stop(TRUE);if(e.hide.delay>0)f.timers.hide=setTimeout(function(){f.hide(B)},e.hide.delay);else f.hide(B)}function u(B){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;
clearTimeout(f.timers.inactive);f.timers.inactive=setTimeout(function(){f.hide(B)},e.hide.inactive)}function q(B){f.elements.tooltip.is(":visible")&&f.reposition(B)}var v=".qtip-"+g,o={show:e.show.target,hide:e.hide.target,tooltip:f.elements.tooltip},z={show:String(e.show.event).split(" "),hide:String(e.hide.event).split(" ")},s=a.browser.msie&&/^6\.[0-9]/.test(a.browser.version);b.bind("remove.qtip",function(){f.destroy()});if(i&&e.hide.fixed){o.hide=o.hide.add(o.tooltip);o.tooltip.bind("mouseover"+
v,function(){o.tooltip.hasClass("ui-state-disabled")||clearTimeout(f.timers.hide)})}if(d){if("number"===typeof e.hide.inactive){o.show.bind("qtip-"+g+"-inactive",u);a.each(a.fn.qtip.inactiveEvents,function(B,C){o.hide.add(f.elements.tooltip).bind(C+v+"-inactive",u)})}a.each(z.hide,function(B,C){var D=a.inArray(C,z.show);if(D>-1&&a(o.hide).add(o.show).length===a(o.hide).length||C==="unfocus"){o.show.bind(C+v,function(L){o.tooltip.is(":visible")?n(L):j(L)});delete z.show[D]}else o.hide.bind(C+v,n)})}if(c){a.each(z.show,
function(B,C){o.show.bind(C+v,j)});o.tooltip.bind("mouseover"+v,function(){f.focus()})}if(k){if(e.position.adjust.resize||e.position.adjust.screen)a(E).bind("resize"+v,q);if(e.position.adjust.screen||s&&o.tooltip.css("position")==="fixed")a(document).bind("scroll"+v,q);/unfocus/i.test(e.hide.event)&&a(document).bind("mousedown"+v,function(B){var C=f.elements.tooltip;a(B.target).parents(A).length===0&&a(B.target).add(b).length>1&&C.is(":visible")&&!C.hasClass("ui-state-disabled")&&f.hide()});e.position.target===
"mouse"&&a(document).bind("mousemove"+v,function(B){if(e.position.adjust.mouse&&!o.tooltip.hasClass("ui-state-disabled")&&o.tooltip.is(":visible"))f.reposition(B||a.fn.qtip.mouse)})}}function x(c,d,i,k){k=parseInt(k,10)!==0;var j=".qtip-"+g,n={show:c?e.show.target:a("<div/>"),hide:d?e.hide.target:a("<div/>"),tooltip:i?f.elements.tooltip:a("<div/>")};d={show:String(e.show.event).split(" "),hide:String(e.hide.event).split(" ")};if(f.rendered){a.each(d.show,function(u,q){n.show.unbind(q+j)});n.show.unbind("mousemove"+
j).unbind("mouseout"+j).unbind("qtip-"+g+"-inactive");a.each(d.hide,function(u,q){n.hide.add(n.tooltip).unbind(q+j)});a.each(a.fn.qtip.inactiveEvents,function(u,q){n.hide.add(i?f.elements.content:NULL).unbind(q+j+"-inactive")});n.hide.unbind("mouseout"+j);n.tooltip.unbind("mouseover"+j);if(k){a(E).unbind("resize"+j);a(document).unbind("mousedown"+j+" mousemove"+j)}}else c&&n.show.unbind(d.show+j+"-create")}var f=this,y="ui-tooltip",A=".qtip."+y;f.id=g;f.rendered=FALSE;f.elements={target:b};f.cache=
{event:{},target:NULL,disabled:FALSE};f.timers={};f.options=e;f.plugins={};a.extend(f,{render:function(c){var d=f.elements;if(f.rendered)return FALSE;f.rendered=c?-2:-1;d.tooltip=a("<div/>").attr({id:y+"-"+g,role:"tooltip","class":y+" qtip ui-helper-reset "+e.style.classes}).css("z-index",a.fn.qtip.zindex+a(A).length).toggleClass("ui-widget",e.style.widget).toggleClass("ui-state-disabled",f.cache.disabled).data("qtip",f).appendTo(e.position.container);d.wrapper=a("<div />",{"class":y+"-wrapper"}).appendTo(d.tooltip);
d.content=a("<div />",{"class":y+"-content"+(e.style.widget?"ui-widget-content":""),id:y+"-"+g+"-content"}).appendTo(d.wrapper);w(e.content.text);e.content.title.text&&m();a.each(a.fn.qtip.plugins,function(){this.initialize==="render"&&this(f)});f.rendered=TRUE;if(e.show.ready||c){d.tooltip.hide();f.show(f.cache.event)}p(1,1,1,1);a.each(e.events,function(i,k){d.tooltip.bind("tooltip"+i,k)});d.tooltip.trigger("tooltiprender",[f.hash()]);return f},get:function(c){switch(c.toLowerCase()){case "offset":c=
r("position");break;case "dimensions":c=r("dimensions");break;default:c=h(c.toLowerCase());c=c[0].precedance?c[0].string():c[0].jquery?c[0]:c[0][c[1]];break}return c},set:function(c,d){var i=h(c.toLowerCase()),k,j,n,u={builtin:{"^content.text":function(){w(d)},"^content.title.text":function(){if(f.rendered)if(!f.elements.title&&d){m();f.reposition()}else d?f.elements.title.html(d):l()},"^content.title.button":function(){var q=f.elements.button,v=f.elements.title;if(f.rendered)if(d){v||m();t()}else q.remove()},
"^position.container$":function(){if(f.rendered===TRUE){f.elements.tooltip.appendTo(d);f.reposition()}},"^position.(my|at)$":function(){var q=/my$/i.test(c)?"my":"at";if("string"===typeof d)e.position[q]=new a.fn.qtip.plugins.Corner(d)},"^position.(my|at|adjust|target)":function(){f.rendered&&f.reposition()},"^(show|hide).(event|target|fixed)":function(q,v,o,z){var s=c.search(/fixed/i)>-1?[0,[0,1,1,1]]:c.search(/hide/i)<0?["show",[1,0,0,0]]:["hide",[0,1,0,0]];if(s[0])q[v]=z;x.apply(f,s[1]);if(s[0])q[v]=
o;p.apply(f,s[1])}}};a.each(f.plugins,function(q){if("object"===typeof this.checks)u[q]=this.checks});k=i[0][i[1]];i[0][i[1]]=d;O(e,b);for(j in u)for(n in u[j])RegExp(n,"i").test(c)&&u[j][n].call(f,i[0],i[1],d,k);return f},toggle:function(c,d){function i(){var v=c?"attr":"removeAttr",o=/^1|0$/.test(a(this).css("opacity"));f.elements.title&&b[v]("aria-labelledby",y+"-"+g+"-title");b[v]("aria-describedby",y+"-"+g+"-content");if(c){if(a.browser.msie&&a(this).get(0).style&&o){q=a(this).get(0).style;q.removeAttribute("filter");
q.removeAttribute("opacity")}}else o&&a(this).hide()}if(f.rendered===FALSE)return FALSE;var k=c?"show":"hide",j=f.elements.tooltip,n=e[k],u=j.is(":visible"),q;if((typeof c).search("boolean|number"))c=!j.is(":visible");if(!u&&!c||j.is(":animated"))return f;if(d){if(f.cache.event&&/over|enter/.test(d.type)&&/out|leave/.test(f.cache.event.type)&&a(d.target).add(e.show.target).length<2&&a(d.relatedTarget).parents(A).length>0)return f;f.cache.event=a.extend({},d)}u=a.Event("tooltip"+k);u.originalEvent=
a.extend({},d);j.trigger(u,[f.hash(),90]);if(u.isDefaultPrevented())return f;if(c){f.focus();f.reposition(d);n.solo&&a(A).qtip("hide")}else clearTimeout(f.timers.show);j.attr("aria-hidden",Boolean(!c));j.stop(TRUE,FALSE);if(a.isFunction(n.effect)){n.effect.call(j,f.hash());j.queue(function(){i.call(this);a(this).dequeue()})}else if(n.effect===FALSE){j[k]();i.call(j)}else j.fadeTo(90,c?1:0,i);c&&n.target.trigger("qtip-"+g+"-inactive");return f},show:function(c){f.toggle(TRUE,c)},hide:function(c){f.toggle(FALSE,
c)},focus:function(c){if(!f.rendered)return FALSE;var d=f.elements.tooltip,i=a(A),k=parseInt(d.css("z-index"),10),j=a.fn.qtip.zindex+i.length,n=y+"-focus",u=a.extend({},c);if(!d.hasClass(n)&&k!==j){i.each(function(){var q=a(this).qtip(),v=a.Event("tooltipblur"),o,z;if(!q||q.rendered===FALSE)return TRUE;o=q.elements.tooltip;z=parseInt(o.css("z-index"),10);isNaN(z)||o.css({zIndex:z-1});o.removeClass(n);v.originalEvent=u;o.trigger(v,[q,j])});c=a.Event("tooltipfocus");c.originalEvent=u;d.trigger(c,[f.hash(),
j]);c.isDefaultPrevented()||d.css({zIndex:j}).addClass(n)}return f},reposition:function(c){if(f.rendered===FALSE)return FALSE;var d=e.position.target,i=f.elements.tooltip,k=e.position,j=k.my,n=k.at,u=f.elements.tooltip.width(),q=f.elements.tooltip.height(),v=a(k.container)[0],o=0,z=0,s={left:0,top:0},B=a.Event("tooltipmove"),C=i.css("position")==="fixed",D=a(E),L={left:function(F){var I=d==="mouse"?c.pageX:d.offset().left,J=D.scrollLeft(),H=D.width(),M=n.x==="left"?o:n.x==="right"?-o:o/2,K=j.x!==
n.x&&n.x!=="center"?o:0,P=M+(j.x==="left"?-u:j.x==="right"?u:u/2)+-2*k.adjust.x;H=F+u-H-J;if(J-F>0&&!(F>=I&&F<I+o))s.left+=P-M+K;else if(H>0&&F+u>I)s.left+=(j.x==="center"?-1:1)*(P-M-K);return s.left-F},top:function(F){var I=D.scrollTop(),J=D.height(),H=n.y==="top"?z:n.y==="bottom"?-z:0,M=j.y!==n.y&&n.y!=="center"?z:0,K=H+(j.y==="top"?-q:j.y==="bottom"?q:-q/2)+-2*k.adjust.y;J=F+q-J-I;if(I-F>0)s.top+=j.y==="center"?-K+H:K;else if(J>0)s.top+=K-H-M;return s.top-F}};if(d==="mouse"){n={x:"left",y:"top"};
c=a.extend({},a.fn.qtip.mouse);s={top:c.pageY,left:c.pageX}}else{if(d==="event")d=c&&c.target&&c.type!=="scroll"&&c.type!=="resize"?f.cache.target=a(c.target):f.cache.target;if(d[0]===document||d[0]===E){o=d.width();z=d.height();if(d[0]===E)s={top:C?0:D.scrollTop(),left:C?0:D.scrollLeft()}}else if(d.is("area")&&a.fn.qtip.plugins.imagemap){s=a.fn.qtip.plugins.imagemap(d,n);o=s.width;z=s.height;s=s.offset}else{o=d.outerWidth();z=d.outerHeight();s=d.offset();if(k.adjust.offset){do{s.left-=v.offsetLeft-
v.scrollLeft;s.top-=v.offsetTop-v.scrollTop}while(v=v.offsetParent)}}s.left+=n.x==="right"?o:n.x==="center"?o/2:0;s.top+=n.y==="bottom"?z:n.y==="center"?z/2:0}s.left+=k.adjust.x+(j.x==="right"?-u:j.x==="center"?-u/2:0);s.top+=k.adjust.y+(j.y==="bottom"?-q:j.y==="center"?-q/2:0);s.adjusted=k.adjust.screen&&d[0]!==E&&d[0]!==document.body?{left:L.left(s.left),top:L.top(s.top)}:{left:0,top:0};if(k.container[0]==document.body){if(s.top+D.scrollTop()<1)s.top=0;if(s.left+D.scrollLeft()<1)s.left=0}i.attr("class",
function(){return a(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(y+"-pos-"+j.abbreviation());B.originalEvent=a.extend({},c);i.trigger(B,[f.hash(),s]);if(B.isDefaultPrevented())return f;delete s.adjust;if(i.is(":visible")&&a.isFunction(k.effect)){k.effect.call(i,s);i.queue(function(){a(this).css({opacity:"",height:""});a.browser.msie&&a(this).get(0).style&&a(this).get(0).style.removeAttribute("filter");a(this).dequeue()})}else isNaN(s.left,s.top)||i.css(s);return f},disable:function(c){var d=
f.elements.tooltip;if(f.rendered)d.toggleClass("ui-state-disabled",c);else f.cache.disabled=!!c;return f},destroy:function(){var c=f.elements,d=c.target.data("oldtitle");f.rendered&&a.each(f.plugins,function(){this.initialize==="render"&&this.destroy()});x(1,1,1,1);b.removeData("qtip");f.rendered&&c.tooltip.remove();d&&b.attr("title",d);b.removeAttr("aria-describedby");return b},hash:function(){var c=a.extend({},f);delete c.cache;delete c.timers;delete c.options;delete c.plugins;delete c.render;delete c.hash;
return c}})}function S(b,e){var g;g=a(this).metadata?a(this).metadata(e.metadata):{};g=a.extend(TRUE,{},e,g);var h=g.position,r=a(this)[0]===document?a(document.body):a(this);if("boolean"===typeof g.content.text)if(g.content.attr!==FALSE&&a(this).attr(g.content.attr))g.content.text=a(this).attr(g.content.attr);else return FALSE;if(h.container===FALSE)h.container=a(document.body);if(h.target===FALSE)h.target=r;if(g.show.target===FALSE)g.show.target=r;if(g.hide.target===FALSE)g.hide.target=r;h.at=new a.fn.qtip.plugins.Corner(h.at);
h.my=new a.fn.qtip.plugins.Corner(h.my);if(a(this).data("qtip"))if(g.overwrite)a(this).qtip("destroy");else if(g.overwrite===FALSE)return FALSE;g=new R(a(this),g,b);a(this).data("qtip",g);return g}function T(b){var e=this;e.checks={"^content.ajax":function(){this.plugins.ajax.load(this.options.content.ajax)}};a.extend(e,{init:function(){var g=b.options.content.ajax;b.elements.tooltip.bind("tooltiprender.ajax",function(){e.load(g);b.elements.tooltip.bind("tooltipshow.ajax",function(){g.once===FALSE&&
b.rendered===TRUE&&e.load(g)})})},load:function(g){a.ajax(a.extend(TRUE,{},g,{success:function(h,r){if(a.isFunction(g.success))if(g.success.call(b.hash(),h,r)===FALSE)return;b.set("content.text",h);N.remove()},error:function(h,r,l){var t=r||l;if(a.isFunction(g.error)){h=g.error.call(b.hash(),h,r,l);if(h===FALSE)return}b.set("content.text",t)}}));return e},destroy:function(){b.elements.tooltip.unbind("tooltipshow.ajax")}});e.init()}function Q(b,e,g){var h=Math.floor(e/2),r=Math.floor(g/2);e={bottomright:[[0,
0],[e,g],[e,0]],bottomleft:[[0,0],[e,0],[0,g]],topright:[[0,g],[e,0],[e,g]],topleft:[[0,0],[0,g],[e,g]],topcenter:[[0,g],[h,0],[e,g]],bottomcenter:[[0,0],[e,0],[h,g]],rightcenter:[[0,0],[e,r],[0,g]],leftcenter:[[e,0],[e,g],[0,r]]};e.lefttop=e.bottomright;e.righttop=e.bottomleft;e.leftbottom=e.topright;e.rightbottom=e.topleft;return e[b]}function U(b){function e(c){var d=l.tip,i=["left","right"],k={left:0,right:0,top:0,bottom:0},j=0;if(r.corner===FALSE||!d)return FALSE;c=c||h.corner;d.css({top:"",
bottom:"",left:"",right:"",margin:""});i[c.precedance==="y"?"push":"unshift"]("top","bottom");if(a.browser.msie)k={top:c.precedance==="y"?0:0,left:0,bottom:c.precedance==="y"?0:0,right:0};switch(c[c.precedance==="y"?"x":"y"]){case "center":d.css(i[0],"50%").css("margin-"+i[0],-(p[c.precedance==="y"?"width":"height"]/2));break;case i[0]:d.css(i[0],k[i[0]]+y);break;case i[1]:d.css(i[1],k[i[1]]+y);break}j=p[c.precedance==="x"?"width":"height"];if(f){t.toggleClass("ui-tooltip-accessible",!t.is(":visible"));
j-=parseInt(m.css("border-"+c[c.precedance]+"-width"),10)||0;t.removeClass("ui-tooltip-accessible")}d.css(c[c.precedance],-1*k[c[c.precedance]]-j)}function g(c,d,i){if(l.tip){c=a.extend({},h.corner);d=h.mimic.adjust?a.extend({},h.mimic):NULL;var k=c.precedance==="y"?["y","top","left","height"]:["x","left","top","width"],j=i.adjusted,n=parseInt(m.css("border-"+c[k[0]]+"-width"),10)||0;a.each([c,d],function(){if(j.left)this.x=this.x==="center"?j.left>0?"left":"right":this.x==="left"?"right":"left";
if(j.top)this.y=this.y==="center"?j.top>0?"top":"bottom":this.y==="top"?"bottom":"top"});i[k[1]]+=(c[k[0]]===k[1]?1:-1)*(p[k[3]]-n);i[k[2]]-=y;if(c.string()!==w.corner.string()&&(w.top!==j.top||w.left!==j.left))h.update(c,d);w.left=j.left;w.top=j.top;w.corner=c}}var h=this,r=b.options.style.tip,l=b.elements,t=l.tooltip,m=l.wrapper,w={top:0,left:0,corner:{string:function(){}}},p={width:r.width,height:r.height},x={},f=r.border||0,y=r.adjust||0,A=r.method||FALSE;h.corner=NULL;h.mimic=NULL;h.checks={"^position.my|style.tip.(corner|mimic|method|border)":function(){f=
r.border;if(h.detectCorner()){h.create();h.detectColours();h.update()}else h.tip.remove();this.get("position.target")!=="mouse"&&this.reposition()},"^style.tip.(height|width)":function(){p={width:r.width,height:r.height};h.create();h.update();b.reposition()}};a.extend(h,{init:function(){if(A===TRUE)A=a("<canvas />")[0].getContext?"canvas":a.browser.msie&&(h.mimic&&/center/i.test(h.mimic.string())||p.height!==p.width)?"vml":"polygon";else if(A==="canvas")A=a.browser.msie?"vml":!a("<canvas />")[0].getContext?
"polygon":"canvas";else if(A==="polygon")A=a.browser.msie&&/center/i.test(h.mimic.string())?"vml":A;if(h.detectCorner()){h.create();h.detectColours();h.update();t.bind("tooltipmove.tip",g)}return h},detectCorner:function(){var c=r.corner,d=r.mimic||c,i=b.options.position.at,k=b.options.position.my;if(k.string)k=k.string();if(c===FALSE||k===FALSE&&i===FALSE)return FALSE;else{if(c===TRUE)h.corner=new a.fn.qtip.plugins.Corner(k);else if(!c.string)h.corner=new a.fn.qtip.plugins.Corner(c);if(d===TRUE)h.mimic=
new a.fn.qtip.plugins.Corner(k);else if(!d.string){h.mimic=new a.fn.qtip.plugins.Corner(d);h.mimic.precedance=h.corner.precedance}}return h.corner.string()!=="centercenter"},detectColours:function(){var c=l.tip,d=h.mimic[h.mimic.precedance],i="border-"+d+"-color";x.fill=c.css("background-color","").css("border","").css("background-color")||"transparent";x.border=c.get(0).style?c.get(0).style["border"+d.charAt(0)+d.substr(1)+"Color"]:c.css(i)||"transparent";if(/rgba?\(0, 0, 0(, 0)?\)|transparent/i.test(x.fill))x.fill=
m.css(f?"background-color":i);if(!x.border||/rgba?\(0, 0, 0(, 0)?\)|transparent/i.test(x.border))x.border=m.css(i)||x.fill;a("*",c).add(c).css("background-color","transparent").css("border",0)},create:function(){var c=p.width,d=p.height;l.tip&&l.tip.remove();l.tip=a('<div class="ui-tooltip-tip" />').toggleClass("ui-widget-content",b.options.style.widget).css(p).prependTo(t);switch(A){case "canvas":l.tip.append('<canvas height="'+d+'" width="'+c+'" />');break;case "vml":l.tip.html('<vml:shape coordorigin="0 0" coordsize="'+
c+" "+d+'" stroked="'+!!f+'"  style="behavior:url(#default#VML); display:inline-block; antialias:TRUE; position: absolute;  top:0; left:0; width:'+c+"px; height:"+d+"px; vertical-align:"+h.corner.y+';"><vml:stroke weight="'+(f-2)+'px" joinstyle="miter" miterlimit="10"  style="behavior:url(#default#VML); display:inline-block;" /></vml:shape>');break;case "polygon":l.tip.append('<div class="ui-tooltip-tip-inner" />').append(f?'<div class="ui-tooltip-tip-border" />':"");break}return h},update:function(c,
d){var i=l.tip,k=p.width,j=p.height,n=f>0?0:1,u=Math.ceil(f/2+0.5),q;d||(d=c?c:h.mimic);if(!c)c=h.corner;if(d.x==="false")d.x=c.x;if(d.y==="false")d.y=c.y;i=i.children();switch(A){case "canvas":i=i.get(0).getContext("2d");i.restore();i.clearRect(0,0,3E3,3E3);for(q=Q(d.string(),k,j);n<2;n++){if(n){i.save();i.translate(Math.floor((d.x==="left"?1:d.x==="right"?-1:0)*(f+1)*(d.precedance==="y"?0.5:1)),Math.floor((d.y==="top"?1:d.y==="bottom"?-1:0)*(f+1)*(d.precedance==="x"?0.5:1)))}i.beginPath();i.moveTo(q[0][0],
q[0][1]);i.lineTo(q[1][0],q[1][1]);i.lineTo(q[2][0],q[2][1]);i.closePath();i.fillStyle=x[n?"fill":"border"];i.fill()}break;case "vml":q=Q(d.string(),k,j);n="m"+q[0][0]+","+q[0][1]+" l"+q[1][0]+","+q[1][1]+" "+q[2][0]+","+q[2][1]+" xe";i.attr({path:n,fillcolor:x.fill});if(f){i.children().attr("color",x.border);if(d.precedance==="y"){i.css("top",(d.y==="top"?1:-1)*(f-2));i.css("left",d.x==="left"?1:-2)}else{i.css("left",(d.x==="left"?1:-1)*(f-2));i.css("top",d.y==="top"?1:-2)}}break;case "polygon":if(d.precedance===
"y"){n=k>j?1.5:k<j?5:2.2;u=[d.x==="left"?u:d.x==="right"?-u:0,Math.floor(n*u*(d.y==="bottom"?-1:1)*(d.x==="center"?0.8:1))]}else{n=k<j?1.5:k>j?5:2.2;u=[Math.floor(n*u*(d.x==="right"?-1:1)*(d.y==="center"?0.9:1)),d.y==="top"?u:d.y==="bottom"?-u:0]}i.removeAttr("style").each(function(v){var o={x:d.precedance==="x"?d.x==="left"?"right":"left":d.x,y:d.precedance==="y"?d.y==="top"?"bottom":"top":d.y},z=d.x==="center"?["left","right",o.y,j,k]:["top","bottom",o.x,k,j],s=x[!v&&f?"border":"fill"];v&&a(this).css({position:"absolute",
"z-index":1,left:u[0],top:u[1]});d.x==="center"||d.y==="center"?a(this).css("border-"+z[2],z[3]+"px solid "+s).css("border-"+z[0],Math.floor(z[4]/2)+"px dashed transparent").css("border-"+z[1],Math.floor(z[4]/2)+"px dashed transparent"):a(this).css("border-width",Math.floor(j/2)+"px "+Math.floor(k/2)+"px").css("border-"+o.x,Math.floor(k/2)+"px solid "+s).css("border-"+o.y,Math.floor(j/2)+"px solid "+s)});break}e(c);return h},destroy:function(){l.tip&&l.tip.remove();t.unbind("tooltipmove.tip")}})}
function V(b,e){var g=this,h=b.elements,r=h.tooltip;h.overlay=a("#qtip-overlay");a.extend(g,{init:function(){e=a.extend(TRUE,a.fn.qtip.plugins.modal.defaults,e);r.bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",function(l,t,m){l=l.type.replace("tooltip","");a.isFunction(e[l])?e[l].call(h.overlay,m,t):g[l](m)});h.overlay.length||g.create();e.blur===TRUE&&h.overlay.bind("click.qtipmodal"+b.id,function(){b.hide.call(b)})},create:function(){h.overlay=a("<div />",{id:"qtip-overlay",css:{position:"absolute",
top:0,left:0,display:"none"}}).appendTo(document.body);a(E).bind("resize.qtipmodal",function(){h.overlay.css({height:Math.max(a(E).height(),a(document).height()),width:Math.max(a(E).width(),a(document).width())})}).trigger("resize")},toggle:function(l){var t=h.overlay,m=b.options.show.modal.effect,w=l?"show":"hide";t.stop(TRUE,FALSE);if(a.isFunction(m))m.call(t,l);else m===FALSE?t[w]():t.fadeTo(90,l?0.7:0,function(){l||a(this).hide()})},show:function(){g.toggle(TRUE)},hide:function(){g.toggle(FALSE)},
destroy:function(){var l=TRUE;a("*").each(function(){var t=a(this).data("qtip");if(t&&t.id!==b.id&&t.options.show.modal)return l=FALSE});if(l){h.overlay.remove();a(E).unbind("scroll.qtipmodal resize.qtipmodal")}else h.overlay.unbind("click.qtipmodal"+b.id);r.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});g.init()}function W(b){var e=this,g=b.elements,h=g.tooltip,r=".bgiframe-"+b.id,l="tooltipmove"+r+" tooltipshow"+r;a.extend(e,{init:function(){g.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');
g.bgiframe.appendTo(h);h.bind(l,e.adjust)},adjust:function(){var t=b.calculate("dimensions"),m=b.plugins.tip,w=b.elements.tip,p;p=parseInt(h.css("border-left-width"),10);p={left:-p,top:-p};if(m&&w){m=m.corner.precedance==="x"?["width","left"]:["height","top"];p[m[1]]-=w[m[0]]()}g.bgiframe.css(p).css(t)},destroy:function(){e.iframe.remove();h.unbind(l)}});e.init()}a.fn.qtip=function(b,e,g){var h=String(b).toLowerCase(),r=FALSE,l=h==="disable"?[TRUE]:a.makeArray(arguments).slice(1,10),t=l[l.length-
1],m=a.extend(TRUE,{},b),w;if(!arguments.length&&a(this).data("qtip")||h==="api")return(m=a(this).eq(0).data("qtip"))?m.hash():G;else if("string"===typeof b){a(this).each(function(){var p=a(this).data("qtip");if(!p)return TRUE;if(/option|set/.test(h)&&e)if(g!==G)p.set(e,g);else r=p.get(e);else{if(!p.rendered&&(h==="show"||h==="toggle")){if(t&&t.timeStamp)p.cache.event=t;p.render()}else if(h==="enable"){h="disable";l=[FALSE]}p[h]&&p[h].apply(p[h],l)}});return r!==FALSE?r:a(this)}else if("object"===
typeof b){w=O(m,this);m=a.extend(TRUE,{},a.fn.qtip.defaults,m);return a.fn.qtip.bind.call(w,m,t)}};a.fn.qtip.bind=function(b,e){return a(this).each(function(g){function h(f){function y(){l.render(typeof f==="object"||t.show.ready);m.show.unbind(w.show);m.hide.unbind(w.hide)}if(l.cache.disabled)return FALSE;l.cache.event=a.extend({},f);if(t.show.delay>0){clearTimeout(l.timers.show);l.timers.show=setTimeout(y,t.show.delay);w.show!==w.hide&&m.hide.bind(w.hide,function(){clearTimeout(l.timers.show)})}else y()}
var r,l,t,m,w,p,x=b.content.text;r=b.id===FALSE||b.id.length<1||a("#ui-tooltip-"+b.id).length?a.fn.qtip.nextid++:b.id;p=".qtip-"+r+"-create";l=S.call(a(this),r,b);if(l===FALSE)return TRUE;t=l.options;if(a.isArray(x))t.content.text=x[g];a(this).attr("title")&&a(this).data("oldtitle",a(this).attr("title")).removeAttr("title");a.each(a.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(l)});m={show:t.show.target,hide:t.hide.target};w={show:String(t.show.event).replace(" ",p+" ")+p,hide:String(t.hide.event).replace(" ",
p+" ")+p};m.show.bind(w.show,h);if(b.show.ready||b.prerender||b.show.event===FALSE)h(e)})};a.each({attr:function(b){var e=a(this).data("qtip");return arguments.length===1&&b==="title"&&e&&e.rendered===TRUE?a(this).data("oldtitle"):NULL},remove:a.ui?NULL:function(b,e){this.each(function(){if(!e)if(!b||a.filter(b,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}},function(b,e){if(!e)return TRUE;var g=a.fn[b];a.fn[b]=function(){return e.apply(this,arguments)||
g.apply(this,arguments)}});a(document.body).attr("role",function(b,e){return!e?"application":e});a(document).bind("mousemove.qtip",function(b){a.fn.qtip.mouse={pageX:b.pageX,pageY:b.pageY}});a.fn.qtip.nextid=0;a.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");a.fn.qtip.zindex=15E3;a.fn.qtip.plugins={Corner:function(b){this.x=(String(b).replace(/middle/i,"center").match(/left|right|center/i)||["false"])[0].toLowerCase();this.y=(String(b).replace(/middle/i,
"center").match(/top|bottom|center/i)||["false"])[0].toLowerCase();this.precedance=b.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var e=this.x.substr(0,1),g=this.y.substr(0,1);return e===g?e:e==="c"||e!=="c"&&g!=="c"?g+e:e+g}}};a.fn.qtip.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},position:{my:"top left",
at:"bottom right",target:FALSE,container:FALSE,adjust:{x:0,y:0,mouse:TRUE,screen:FALSE,resize:TRUE,offset:FALSE},effect:TRUE},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",widget:FALSE},events:{render:a.noop,move:a.noop,show:a.noop,hide:a.noop,focus:a.noop,blur:a.noop}};var N=a();a.fn.qtip.plugins.ajax=function(b){var e=b.plugins.ajax,g=b.options.content;if(g.ajax&&
g.ajax.url)if(e)return e;else{b.plugins.ajax=new T(b);return b.plugins.ajax}};a.fn.qtip.plugins.ajax.initialize="render";a.fn.qtip.plugins.ajax.sanitize=function(b){if(b.content!==G)if(b.content.ajax!==G){if(typeof b.content.ajax!=="object")b.content.ajax={url:b.content.ajax};if(b.content.text===FALSE)b.content.text="Loading...";b.content.ajax.once=Boolean(b.content.ajax.once);b.content.ajax.preload=Boolean(b.content.ajax.preload);if(b.content.ajax.preload){b=b.content.ajax.url;a("#qtip-preload").length||
a('<div id="qtip-preload" class="ui-tooltip-accessible" />').appendTo(document.body);N.length||(N=a("<div />").appendTo("#qtip-preload").load(b+" img"))}}};a.fn.qtip.plugins.tip=function(b){var e=b.plugins.tip,g=b.options.style.tip;if(g&&g.corner)if(e)return e;else{b.plugins.tip=new U(b);b.plugins.tip.init();return b.plugins.tip}};a.fn.qtip.plugins.tip.initialize="render";a.fn.qtip.plugins.tip.sanitize=function(b){if(b.style===G)b.style={};if(b.style.tip===G)b.style.tip={corner:TRUE};if(typeof b.style.tip!==
"object")b.style.tip={corner:!!b.style.tip};if(typeof b.style.tip.method!=="string")b.style.tip.method=TRUE;if(!/canvas|polygon/i.test(b.style.tip.method))b.style.tip.method=TRUE;if(typeof b.style.tip.width!=="number")b.style.tip.width=12;if(typeof b.style.tip.height!=="number")b.style.tip.height=12;if(typeof b.style.tip.border!=="number")b.style.tip.border=0};a.fn.qtip.plugins.imagemap=function(b,e){function g(x,f){for(var y=0,A=1,c=1,d=0,i=0,k=x.width,j=x.height;k>0&&j>0&&A>0&&c>0;){k=Math.floor(k/
2);j=Math.floor(j/2);if(e.x==="left")A=k;else if(e.x==="right")A=x.width-k;else A+=Math.floor(k/2);if(e.y==="top")c=j;else if(e.y==="bottom")c=x.height-j;else c+=Math.floor(j/2);for(y=f.length;y--;){if(f.length<2)break;d=f[y][0]-x.offset.left;i=f[y][1]-x.offset.top;if(e.x==="left"&&d>=A||e.x==="right"&&d<=A||e.x==="center"&&(d<A||d>x.width-A)||e.y==="top"&&i>=c||e.y==="bottom"&&i<=c||e.y==="center"&&(i<c||i>x.height-c))f.splice(y,1)}}return{left:f[0][0],top:f[0][1]}}var h=b.attr("shape").toLowerCase(),
r=b.attr("coords").split(","),l=[],t=a('img[usemap="#'+b.parent("map").attr("name")+'"]').offset(),m={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},w=0,p=0;if(h==="poly")for(w=r.length;w--;){p=[parseInt(r[--w],10),parseInt(r[w+1],10)];if(p[0]>m.offset.right)m.offset.right=p[0];if(p[0]<m.offset.left)m.offset.left=p[0];if(p[1]>m.offset.bottom)m.offset.bottom=p[1];if(p[1]<m.offset.top)m.offset.top=p[1];l.push(p)}else l=a.map(r,function(x){return parseInt(x,10)});switch(h){case "rect":m=
{width:Math.abs(l[2]-l[0]),height:Math.abs(l[3]-l[1]),offset:{left:l[0],top:l[1]}};break;case "circle":m={width:l[2]+2,height:l[2]+2,offset:{left:l[0],top:l[1]}};break;case "poly":a.extend(m,{width:Math.abs(m.offset.right-m.offset.left),height:Math.abs(m.offset.bottom-m.offset.top)});m.offset=e.string()==="centercenter"?{left:m.offset.left+m.width/2,top:m.offset.top+m.height/2}:g(m,l.slice());m.width=m.height=0;break}m.offset.left+=t.left;m.offset.top+=t.top;return m};a.fn.qtip.plugins.modal=function(b){var e=
b.plugins.modal,g=b.options.show.modal;if(e)return e;else if(g&&g.on===TRUE){b.plugins.modal=new V(b,g);return b.plugins.modal}};a.fn.qtip.plugins.modal.initialize="render";a.fn.qtip.plugins.modal.sanitize=function(b){if(b.show&&b.show.modal!==G)if(typeof b.show.modal!=="object")b.show.modal={on:!!b.show.modal}};a.fn.qtip.plugins.modal.defaults={on:TRUE,effect:TRUE,blur:TRUE};a.fn.qtip.plugins.bgiframe=function(b){if(!(a.browser.msie&&/^6\.[0-9]/.test(a.browser.version)&&a("select, object").length))return FALSE;
var e=b.plugins.bgiframe;if(e)return e;else{b.plugins.bgiframe=new W(b);return b.plugins.bgiframe}};a.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
