/*
* qTip2 - Pretty powerful tooltips
* http://craigsworks.com/projects/qtip2/
*
* Version: 2.0.0pre
* Copyright 2009-2010 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPLv2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Tue Feb 1 19:43:41 2011 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

(function(a,N,U){function aa(){var c=N.console;return c&&(c.error||c.log||a.noop).apply(c,arguments)}function X(c){var b;if(!c||"object"!==typeof c)return p;if("object"!==typeof c.metadata)c.metadata={type:c.metadata};if("content"in c){if("object"!==typeof c.content||c.content.jquery)c.content={text:c.content};b=c.content.text||p;if(!a.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))c.content.text=p;if("title"in c.content){if("object"!==typeof c.content.title)c.content.title=
{text:c.content.title};b=c.content.title.text||p;if(!a.isFunction(b)&&(!b&&!b.attr||b.length<1||"object"===typeof b&&!b.jquery))c.content.title.text=p}}if("position"in c)if("object"!==typeof c.position)c.position={my:c.position,at:c.position};if("show"in c)if("object"!==typeof c.show)c.show=c.show.jquery?{target:c.show}:{event:c.show};if("hide"in c)if("object"!==typeof c.hide)c.hide=c.hide.jquery?{target:c.hide}:{event:c.hide};if("style"in c)if("object"!==typeof c.style)c.style={classes:c.style};
a.each(a.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(c)});return c}function ba(c,b,i,k){function r(e){var f,g=e.split("."),t=b[g[0]];for(e=1;e<g.length;e+=1){f=t[g[e]];if(typeof f==="object"&&!f.jquery&&!f.precedance)t=t[g[e]];else break}return g[e]!==U?[t,g[e]]:[b,g[0]]}function h(e,f){var g={left:0,top:0},t=!a.fn.qtip.plugins.iOS,n,w;if(f){if(f.offsetParent!==u){g=h(f);g.left*=-1;g.top*=-1;g.left+=parseInt(a.css(f,"margin-left"),10)||0;g.top+=parseInt(a.css(f,"margin-top"),10)||0}else{g.left+=
u.scrollLeft;g.top+=u.scrollTop}if(f!==u)if(a.css(f,"overflow")!=="visible"){g.left-=f.scrollLeft;g.top-=f.scrollTop}}if(e.offsetParent){do{n=e.offsetParent;w=n===f;g.left+=e.offsetLeft-(t&&n&&!w?n.scrollLeft:0);g.top+=e.offsetTop-(t&&n&&!w?n.scrollTop:0)}while(e=n)}return g}function l(){return j.css("left")!==ca&&j.css("visibility")!=="hidden"}function x(){var e=d.elements,f=b.style.widget;j.toggleClass($,f);e.content.toggleClass($+"-content",f);e.titlebar&&e.titlebar.toggleClass($+"-header",f);
e.button&&e.button.toggleClass(O+"-icon",!f)}function o(){var e=d.elements;if(e.title){e.titlebar.remove();e.titlebar=e.title=e.button=E;d.reposition()}}function A(){var e=d.elements,f=b.content.title.button;e.button&&e.button.remove();e.button=f.jquery?f:a("<a />",{"class":"ui-state-default "+(b.style.widget?"":O+"-icon"),title:"Close tooltip","aria-label":"Close tooltip"}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));e.button.appendTo(e.titlebar).attr("role","button").hover(function(g){a(this).toggleClass("ui-state-hover",
g.type==="mouseenter")}).click(function(g){j.hasClass(S)||d.hide(g);return p}).bind("mousedown keydown mouseup keyup mouseout",function(g){a(this).toggleClass("ui-state-active ui-state-focus",g.type.substr(-4)==="down")});d.redraw()}function z(){var e=d.elements,f=C+"-title";e.titlebar&&o();e.titlebar=a("<div />",{"class":O+"-titlebar "+(b.style.widget?"ui-widget-header":"")}).append(e.title=a("<div />",{id:f,"class":O+"-title","aria-atomic":y})).insertBefore(e.content);if(b.content.title.button)A();
else d.rendered&&d.redraw()}function B(e){var f=d.elements.title;if(!d.rendered||!e)return p;if(a.isFunction(e))e=e.call(c,d)||"";e.jquery&&e.length>0?f.empty().append(e.css({display:"block"})):f.html(e);d.redraw();d.rendered&&l()&&d.reposition(d.cache.event)}function P(e){var f=d.elements.content;if(!d.rendered||!e)return p;if(a.isFunction(e))e=e.call(c,d)||"";e.jquery&&e.length>0?f.empty().append(e.css({display:"block"})):f.html(e);j.queue("fx",function(g){function t(w){n=n.not(w);if(n.length===
0){d.redraw();d.rendered&&l()&&d.reposition(d.cache.event);g()}}var n=f.find("img:not([height]):not([width])");n.each(function(w,G){var L=["abort","error","load","unload",""].join(".qtip-image ");a(this).bind(L,function(){clearTimeout(d.timers.img[w]);t(this)});(function F(){if(G.height)return t(G);d.timers.img[w]=setTimeout(F,20)})();return y});n.length===0&&t(n)});return d}function m(e,f,g,t){function n(s){if(j.hasClass(S))return p;H.show.trigger("qtip-"+i+"-inactive");clearTimeout(d.timers.show);
clearTimeout(d.timers.hide);var I=function(){d.show(s)};if(b.show.delay>0)d.timers.show=setTimeout(I,b.show.delay);else I()}function w(s){if(j.hasClass(S))return p;var I=a(s.relatedTarget||s.target),K=I.closest(Y)[0]===j[0];I=I[0]===H.show[0];clearTimeout(d.timers.show);clearTimeout(d.timers.hide);if(D.target==="mouse"&&K||b.hide.fixed&&/mouse(out|leave|move)/.test(s.type)&&(K||I)){s.stopPropagation();s.preventDefault();return p}j.stop(1,1);if(b.hide.delay>0)d.timers.hide=setTimeout(function(){d.hide(s)},
b.hide.delay);else d.hide(s)}function G(s){if(j.hasClass(S))return p;clearTimeout(d.timers.inactive);d.timers.inactive=setTimeout(function(){d.hide(s)},b.hide.inactive)}function L(s){l()&&d.reposition(s)}var F=".qtip-"+i,D=b.position,H={show:b.show.target,hide:b.hide.target,container:D.container[0]===u?document:D.container},Q={show:String(b.show.event).split(" "),hide:String(b.hide.event).split(" ")},T=a(document),J=a.browser.msie&&parseInt(a.browser.version,10)===6;if(g){if(b.hide.fixed){H.hide=
H.hide.add(j);j.bind("mouseover"+F,function(){j.hasClass(S)||clearTimeout(d.timers.hide)})}j.bind("mouseenter"+F+" mouseleave"+F,function(s){d[s.type==="mouseenter"?"focus":"blur"](s)})}if(f){if("number"===typeof b.hide.inactive){H.show.bind("qtip-"+i+"-inactive",G);a.each(a.fn.qtip.inactiveEvents,function(s,I){H.hide.add(d.elements.tooltip).bind(I+F+"-inactive",G)})}a.each(Q.hide,function(s,I){var K=a.inArray(I,Q.show),M=a(H.hide);if(K>-1&&M.add(H.show).length===M.length||I==="unfocus"){H.show.bind(I+
F,function(R){l()?w(R):n(R)});delete Q.show[K]}else H.hide.bind(I+F,w)})}e&&a.each(Q.show,function(s,I){H.show.bind(I+F,n)});if(t){if(D.adjust.resize||D.viewport)a(a.event.special.resize?D.viewport:N).bind("resize"+F,L);if(D.viewport||J&&j.css("position")==="fixed")a(D.viewport).bind("scroll"+F,L);/unfocus/i.test(b.hide.event)&&T.bind("mousedown"+F,function(s){var I=a(s.target);I.parents(Y).length===0&&I.add(c).length>1&&l()&&!j.hasClass(S)&&d.hide(s)});D.target==="mouse"&&T.bind("mousemove"+F,function(s){if(D.adjust.mouse&&
!j.hasClass(S)&&l())d.reposition(s||a.fn.qtip.mouse)})}}function q(e,f,g,t){t=parseInt(t,10)!==0;var n=".qtip-"+i;f={show:e?b.show.target:E,hide:f?b.hide.target:E,tooltip:g?d.elements.tooltip:E,content:g?d.elements.content:E,container:t?b.position.container[0]===u?document:b.position.container:E,window:t?N:E};if(d.rendered)a([]).pushStack(a.grep([f.show,f.hide,f.tooltip,f.container,f.content,f.window],function(){return this!==null})).unbind(n);else e&&f.show.unbind(n+"-create")}var d=this,u=document.body,
C=O+"-"+i,v=0,j;d.id=i;d.rendered=p;d.elements={target:c};d.timers={img:[]};d.options=b;d.checks={};d.plugins={};d.cache={event:{},target:E,disabled:p,lastFocus:u,attr:k};d.checks.builtin={"^id$":function(e,f,g){e=g===y?a.fn.qtip.nextid:g;f=O+"-"+e;if(e!==p&&e.length>0&&!a("#"+f).length){j[0].id=f;d.elements.content[0].id=f+"-content";d.elements.title[0].id=f+"-title"}},"^content.text$":function(e,f,g){P(g)},"^content.title.text$":function(e,f,g){if(!g)return o();!d.elements.title&&g&&z();B(g)},"^content.title.button$":function(e,
f,g){e=d.elements.button;f=d.elements.title;if(d.rendered)if(g){f||z();A()}else e.remove()},"^position.(my|at)$":function(e,f,g){if("string"===typeof g)e[f]=new a.fn.qtip.plugins.Corner(g)},"^position.container$":function(e,f,g){d.rendered&&j.appendTo(g)},"^(show|hide).(event|target|fixed|delay|inactive)$":function(e,f,g,t){var n=f.search(/fixed/i)>-1?[0,[0,1,1,1]]:[f.substr(0,3),f.charAt(0)==="s"?[1,0,0,0]:[0,1,0,0]];if(n[0])e[f]=t;q.apply(d,n[1]);if(n[0])e[f]=g;m.apply(d,n[1])},"^show.ready$":function(){d.rendered||
d.show()},"^style.classes$":function(e,f,g){a.attr(j[0],"class",O+" qtip ui-helper-reset "+g)},"^style.widget|content.title":x,"^events.(render|show|move|hide|focus|blur)$":function(e,f,g){j[(a.isFunction(g)?"":"un")+"bind"]("tooltip"+f,g)}};a.extend(d,{render:function(e){if(d.rendered)return p;var f=d.elements,g=b.content.text,t=b.content.title.text,n=a.Event("tooltiprender");a.attr(c[0],"aria-describedby",C);j=f.tooltip=a("<div/>").attr({id:C,"class":O+" qtip ui-helper-reset "+b.style.classes,role:"alert",
"aria-live":"polite","aria-atomic":p,"aria-describedby":C+"-content","aria-hidden":y}).toggleClass(S,d.cache.disabled).data("qtip",d).appendTo(b.position.container).append(f.content=a("<div />",{"class":O+"-content",id:C+"-content","aria-atomic":y}));d.rendered=y;if(t){z();B(t)}P(g);x();a.each(a.fn.qtip.plugins,function(){this.initialize==="render"&&this(d)});m(1,1,1,1);a.each(b.events,function(w,G){if(G)j.bind(w==="toggle"?"tooltipshow tooltiphide":"tooltip"+w,G)});j.css("visibility","hidden").queue("fx",
function(w){n.originalEvent=d.cache.event;j.trigger(n,[d]);if(b.show.ready||e)d.show(d.cache.event);w()});return d},get:function(e){switch(e.toLowerCase()){case "dimensions":e={height:j.outerHeight(),width:j.outerWidth()};break;case "offset":e=h(j[0],b.position.container[0]);break;default:e=r(e.toLowerCase());e=e[0].precedance?e[0].string():e[0].jquery?e[0]:e[0][e[1]];break}return e},set:function(e,f){function g(L,F){L=L.toLowerCase();var D=r(L),H,Q,T;H=D[0][D[1]];D[0][D[1]]=F.nodeType?a(F):F;for(Q in w)for(T in w[Q])RegExp(T,
"i").test(L)&&w[Q][T].call(d,D[0],D[1],F,H)}var t=/^position.(my|at|adjust|target|container)|style|content/i,n=p,w=d.checks,G;if("string"===typeof e){G=e;e={};e[G]=f}v=1;for(G in e){g(G,e[G]);n=t.test(G)||n}v=0;n&&l()&&d.rendered&&d.reposition();X(b);return d},toggle:function(e,f){function g(){if(e)a.browser.msie&&j[0].style.removeAttribute("filter");else j.css({display:"",visibility:"hidden",width:"",opacity:"",left:"",top:""})}if(!d.rendered)return p;var t=e?"show":"hide",n=b[t],w=l();if((typeof e).search("boolean|number"))e=
!w;if(w===e)return d;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(d.cache.event.type)&&f.target===b.show.target[0]&&j.has(f.relatedTarget).length)return d;d.cache.event=a.extend({},f)}w=a.Event("tooltip"+t);w.originalEvent=f?d.cache.event:E;j.trigger(w,[d,90]);if(w.isDefaultPrevented())return d;a.attr(j[0],"aria-hidden",!!!e);if(e){j.hide().css({visibility:""});d.focus(f);d.reposition(f,0);n.solo&&a(Y).not(j).qtip("hide",w)}else{clearTimeout(d.timers.show);d.blur(f)}j.stop(1,1);if(a.isFunction(n.effect)){n.effect.call(j,
d);j.queue("fx",function(G){g.call(this,G);G()})}else if(n.effect===p){j[t]();g.call(j)}else j.fadeTo(90,e?1:0,g);e&&n.target.trigger("qtip-"+i+"-inactive");return d},show:function(e){d.toggle(y,e)},hide:function(e){d.toggle(p,e)},focus:function(e){if(!d.rendered)return p;var f=a(Y),g=parseInt(j[0].style.zIndex,10),t=a.fn.qtip.zindex+f.length;e=a.extend({},e);if(!j.hasClass(Z)){if(g!==t){f.each(function(){if(this.style.zIndex>g)this.style.zIndex-=1});f.filter("."+Z).qtip("blur",e)}d.cache.lastFocus=
document.activeElement;f=a.Event("tooltipfocus");f.originalEvent=e;j.trigger(f,[d,t]);if(!f.isDefaultPrevented())j.addClass(Z)[0].style.zIndex=t}return d},blur:function(e){e=a.extend({},e);var f;j.removeClass(Z);f=a.Event("tooltipblur");f.originalEvent=e;j.trigger(f,[d])},reposition:function(e,f){if(!d.rendered||v)return p;v=y;var g=b.position.target,t=b.position,n=t.my,w=t.at,G=t.adjust,L=j.outerWidth(),F=j.outerHeight(),D=0,H=0,Q=a.Event("tooltipmove"),T=j.css("position")==="fixed",J=t.viewport.jquery?
t.viewport:a(N),s={left:0,top:0},I={left:function(K){var M=J.scrollLeft,R=w.x==="left"?D:w.x==="right"?-D:-D/2,V=M-K;M=K+L-J.width-M;R=(n.x==="left"?L:n.x==="right"?-L:-L/2)-(n.precedance==="x"||n.x===n.y?R:0);if(V>0&&(n.x!=="left"||M>0))s.left-=R;else if(M>0&&(n.x!=="right"||V>0))s.left-=(n.x==="center"?-1:1)*R+2*G.x;if(s.left<0&&-s.left>M)s.left=K;return s.left-K},top:function(K){var M=J.scrollTop,R=w.y==="top"?H:w.y==="bottom"?-H:-H/2,V=M-K;M=K+F-J.height-M;R=(n.y==="top"?F:n.y==="bottom"?-F:-F/
2)-(n.precedance==="y"||n.x===n.y?R:0);if(V>0&&(n.y!=="top"||M>0))s.top-=R;else if(M>0&&(n.y!=="bottom"||V>0))s.top-=(n.y==="center"?-1:1)*R+2*G.y;if(s.top<0&&-s.top>M)s.top=K;return s.top-K}};f=f===U||!!f||p;J=!J?p:{elem:J,height:J[(J[0]===N?"h":"outerH")+"eight"](),width:J[(J[0]===N?"w":"outerW")+"idth"](),scrollLeft:J.scrollLeft(),scrollTop:J.scrollTop()};if(g==="mouse"){w={x:"left",y:"top"};e=e&&(e.type==="resize"||e.type==="scroll")?d.cache.event:G.mouse||!e||!e.pageX?a.extend({},a.fn.qtip.mouse):
e;s={top:e.pageY,left:e.pageX}}else{if(g==="event")g=e&&e.target&&e.type!=="scroll"&&e.type!=="resize"?d.cache.target=a(e.target):d.cache.target;g=a(g).eq(0);if(g.length===0)return d;else if(g[0]===document||g[0]===N){D=g.width();H=g.height();if(g[0]===N)s={top:T?0:J.scrollTop,left:T?0:J.scrollLeft}}else if(g.is("area")&&a.fn.qtip.plugins.imagemap){s=a.fn.qtip.plugins.imagemap(g,w);D=s.width;H=s.height;s=s.offset}else if(g[0].namespaceURI=="http://www.w3.org/2000/svg"&&a.fn.qtip.plugins.svg){s=a.fn.qtip.plugins.svg(g,
w);D=s.width;H=s.height;s=s.offset}else{D=g.outerWidth();H=g.outerHeight();s=h(g[0],t.container[0])}s.left+=w.x==="right"?D:w.x==="center"?D/2:0;s.top+=w.y==="bottom"?H:w.y==="center"?H/2:0}s.left+=G.x+(n.x==="right"?-L:n.x==="center"?-L/2:0);s.top+=G.y+(n.y==="bottom"?-F:n.y==="center"?-F/2:0);s.adjusted=t.viewport.jquery&&g[0]!==N&&g[0]!==u?{left:I.left(s.left),top:I.top(s.top)}:{left:0,top:0};j.attr("class",function(){return a.attr(this,"class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(O+"-pos-"+
n.abbreviation());Q.originalEvent=a.extend({},e);j.trigger(Q,[d,s,J.elem]);if(Q.isDefaultPrevented())return d;delete s.adjusted;if(!f||!isNaN(s.left,s.top))j.css(s);else if(l()&&a.isFunction(t.effect)){t.effect.call(j,d,s);j.queue(function(K){a(this).css({opacity:"",height:""});a.browser.msie&&this.style&&this.style.removeAttribute("filter");K()})}v=p;return d},redraw:function(){if(!d.rendered||!(a.browser.msie&&a.browser.version<8))return p;var e=O+"-fluid",f;j.css({width:"auto",height:"auto"}).addClass(e);
f={height:j.outerHeight(),width:j.outerWidth()};a.each(["width","height"],function(g,t){var n=parseInt(j.css("max-"+t),10)||0,w=parseInt(j.css("min-"+t),10)||0;f[t]=n+w?Math.min(Math.max(f[t],w),n):f[t]});j.css(f).removeClass(e)},disable:function(e){var f=S;if("boolean"!==typeof e)e=!(j.hasClass(f)||d.cache.disabled);if(d.rendered){j.toggleClass(f,e);a.attr(j[0],"aria-disabled",e)}else d.cache.disabled=!!e;return d},destroy:function(){var e=c[0],f=a.data(e,W);if(d.rendered){j.remove();a.each(d.plugins,
function(){this.initialize==="render"&&this.destroy()})}clearTimeout(d.timers.show);clearTimeout(d.timers.hide);q(1,1,1,1);a.removeData(e,"qtip");f&&a.attr(e,"title",f);c.removeAttr("aria-describedby");return c}})}function da(c,b){var i,k,r,h,l=a(this),x=a(document.body),o=this===document?x:l;k=l.metadata?l.metadata(b.metadata):E;h=b.metadata.type==="html5"&&k?k[b.metadata.name]:E;var A=l.data(b.metadata.name||"qtipopts");try{A=typeof A==="string"?(new Function("return "+A))():A}catch(z){aa("Unable to parse HTML5 attribute data: "+
A)}h=a.extend(y,{},a.fn.qtip.defaults,b,typeof A==="object"?X(A):E,X(h||k));k&&a.removeData(this,"metadata");k=h.position;h.id=c;if("boolean"===typeof h.content.text){r=l.attr(h.content.attr);if(h.content.attr!==p&&r)h.content.text=r;else return p}if(k.container===p)k.container=x;if(k.target===p)k.target=o;if(h.show.target===p)h.show.target=o;if(h.hide.target===p)h.hide.target=o;if(h.position.viewport===y)h.position.viewport=k.container;k.at=new a.fn.qtip.plugins.Corner(k.at);k.my=new a.fn.qtip.plugins.Corner(k.my);
if(a.data(this,"qtip"))if(h.overwrite)l.qtip("destroy");else if(h.overwrite===p)return p;if(a.attr(this,"title")){a.data(this,W,a.attr(this,"title"));l.removeAttr("title")}i=new ba(l,h,c,!!r);a.data(this,"qtip",i);l.bind("remove.qtip",function(){i.destroy()});return i}function ea(c){var b=this,i=c.elements.tooltip,k=c.options.content.ajax,r=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;c.checks.ajax={"^content.ajax":function(h,l){if(l==="once")b.once();else k&&k.url&&b.load()}};a.extend(b,
{init:function(){if(k&&k.url){b.load();i.one("tooltipshow",b.once)}},once:function(){k.once?b.destroy():i.bind("tooltipshow.qtip-ajax",b.load)},load:function(){var h=k.url.indexOf(" "),l=k.url,x;if(h>-1){x=l.substr(h);l=l.substr(0,h)}a.ajax(a.extend({success:function(o){if(x)o=a("<div/>").append(o.replace(r,"")).find(x);c.set("content.text",o)},error:function(o,A,z){c.set("content.text",A+": "+z)},context:c},k,{url:l}));return b},destroy:function(){i.unbind(".qtip-ajax")}});b.init()}function fa(c,
b,i){var k=Math.ceil(b/2),r=Math.ceil(i/2);b={bottomright:[[0,0],[b,i],[b,0]],bottomleft:[[0,0],[b,0],[0,i]],topright:[[0,i],[b,0],[b,i]],topleft:[[0,0],[0,i],[b,i]],topcenter:[[0,i],[k,0],[b,i]],bottomcenter:[[0,0],[b,0],[k,i]],rightcenter:[[0,0],[b,r],[0,i]],leftcenter:[[b,0],[b,i],[0,r]]};b.lefttop=b.bottomright;b.righttop=b.bottomleft;b.leftbottom=b.topright;b.rightbottom=b.topleft;return b[c.string()]}function ga(c){function b(m,q,d){if(l.tip){m=a.extend({},r.corner);q=d.adjusted;var u;if(r.corner.fixed!==
y){if(q.left)m.x=m.x==="center"?q.left>0?"left":"right":m.x==="left"?"right":"left";if(q.top)m.y=m.y==="center"?q.top>0?"top":"bottom":m.y==="top"?"bottom":"top";if(m.string()!==o.corner&&(o.top!==q.top||o.left!==q.left))u=r.update(m)}u||(u=r.position(m,0));if(u.right!==U)u.left=u.right;if(u.bottom!==U)u.top=u.bottom;u.option=Math.max(0,h.offset);d.left-=u.left.charAt?u.option:(u.right?-1:1)*u.left;d.top-=u.top.charAt?u.option:(u.bottom?-1:1)*u.top;o.left=q.left;o.top=q.top;o.corner=m.string()}}function i(m,
q,d){q=!q?m[m.precedance]:q;q="border-"+q+"-width";m=parseInt((l.titlebar&&m.y==="top"?l.titlebar:l.content).css(q),10);return(d?m||parseInt(x.css(q),10):m)||0}function k(m){var q=m.precedance==="y",d=A[q?"width":"height"],u=A[q?"height":"width"],C=m.string().indexOf("center")>-1,v=d*(C?0.5:1),j=Math.pow;m=Math.round;var e=Math.sqrt(j(v,2)+j(u,2));v=[B/v*e,B/u*e];v[2]=Math.sqrt(j(v[0],2)-j(B,2));v[3]=Math.sqrt(j(v[1],2)-j(B,2));C=(e+v[2]+v[3]+(C?0:v[0]))/e;d=[m(C*u),m(C*d)];return{height:d[q?0:1],
width:d[q?1:0]}}var r=this,h=c.options.style.tip,l=c.elements,x=l.tooltip,o={top:0,left:0,corner:""},A={width:h.width,height:h.height},z={},B=h.border||0,P=a("<canvas />")[0].getContext;r.corner=E;r.mimic=E;c.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){r.init()||r.destroy();c.reposition()},"^style.tip.(height|width)$":function(){A={width:h.width,height:h.height};r.create();r.update();c.reposition()},"^content.title.text|style.(classes|widget)$":function(){l.tip&&r.update()}};
a.extend(r,{init:function(){var m=r.detectCorner()&&(P||a.browser.msie);if(m){r.create();r.update();x.unbind(".qtip-tip").bind("tooltipmove.qtip-tip",b)}return m},detectCorner:function(){var m=h.corner,q=c.options.position,d=q.at;q=q.my.string?q.my.string():q.my;if(m===p||q===p&&d===p)return p;else if(m===y)r.corner=new a.fn.qtip.plugins.Corner(q);else if(!m.string){r.corner=new a.fn.qtip.plugins.Corner(m);r.corner.fixed=y}return r.corner.string()!=="centercenter"},detectColours:function(){var m=
l.tip.css({backgroundColor:"",border:""}),q=r.corner,d=q[q.precedance],u="border-"+d+"-color";d="border"+d.charAt(0)+d.substr(1)+"Color";var C=/rgba?\(0, 0, 0(, 0)?\)|transparent/i;q=l.titlebar&&(q.y==="top"||q.y==="center"&&m.position().top+A.height/2+h.offset<l.titlebar.outerHeight(1))?l.titlebar:l.content;z.fill=m.css("background-color")||"transparent";z.border=m[0].style[d];if(!z.fill||C.test(z.fill)){z.fill=q.css("background-color");if(C.test(z.fill))z.fill=x.css("background-color")}if(!z.border||
C.test(z.border)){z.border=x.css(u);if(C.test(z.border)||z.border===a(document.body).css("color"))z.border=q.css(u)!==a(c.elements.content).css("color")?q.css(u):"transparent"}a("*",m).add(m).css("background-color","transparent").css("border","0px dashed transparent")},create:function(){var m=A.width,q=A.height;l.tip&&l.tip.remove();l.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:m,height:q}).prependTo(x);if(P)a("<canvas />").appendTo(l.tip)[0].getContext("2d").save();else{m='<vml:shape coordorigin="0,0" style="display:block; position:absolute; behavior:url(#default#VML);"></vml:shape>';
l.tip.html(B?m+=m:m)}},update:function(m){var q=l.tip,d=q.children(),u=A.width,C=A.height,v=h.mimic,j=Math.round,e,f,g;if(!m)m=r.corner;if(v===p)v=m;else{v=new a.fn.qtip.plugins.Corner(v);v.precedance=m.precedance;if(v.x==="inherit")v.x=m.x;else if(v.y==="inherit")v.y=m.y;else if(v.x===v.y)v[m.precedance]=m[m.precedance]}e=v.precedance;r.detectColours();B=z.border==="transparent"||z.border==="#123456"?0:h.border===y?i(m,E,y):h.border;f=fa(v,u,C);g=k(m);q.css(g);q=m.precedance==="y"?[j(v.x==="left"?
B:v.x==="right"?g.width-u-B:(g.width-u)/2),j(v.y==="top"?g.height-C:0)]:[j(v.x==="left"?g.width-u:0),j(v.y==="top"?B:v.y==="bottom"?g.height-C-B:(g.height-C)/2)];if(P){d.attr(g);d=d[0].getContext("2d");d.restore();d.save();d.clearRect(0,0,3E3,3E3);d.translate(q[0],q[1]);d.beginPath();d.moveTo(f[0][0],f[0][1]);d.lineTo(f[1][0],f[1][1]);d.lineTo(f[2][0],f[2][1]);d.closePath();d.fillStyle=z.fill;d.strokeStyle=z.border;d.lineWidth=B*2;d.lineJoin="miter";d.miterLimit=100;d.stroke();d.fill()}else{f="m"+
f[0][0]+","+f[0][1]+" l"+f[1][0]+","+f[1][1]+" "+f[2][0]+","+f[2][1]+" xe";q[2]=B&&/^(r|b)/i.test(m.string())?1:0;d.css({antialias:""+(v.string().indexOf("center")>-1),left:q[0]-q[2]*Number(e==="x"),top:q[1]-q[2]*Number(e==="y"),width:u+B,height:C+B}).each(function(t){var n=a(this);n.attr({coordsize:u+B+" "+(C+B),path:f,fillcolor:z.fill,filled:!!t,stroked:!!!t}).css({display:B||t?"block":"none"});!t&&B>0&&n.html()===""&&n.html('<vml:stroke weight="'+B*2+'px" color="'+z.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:block;" />')})}return r.position(m,
1)},position:function(m,q){var d=l.tip,u={},C=Math.max(0,h.offset),v,j,e;if(h.corner===p||!d)return p;m=m||r.corner;v=m.precedance;j=k(m);e=a.browser.msie&&B&&/^(b|r)/i.test(m.string())?1:0;a.each(v==="y"?[m.x,m.y]:[m.y,m.x],function(f,g){var t,n;if(g==="center"){t=v==="y"?"left":"top";u[t]="50%";u["margin-"+t]=-Math.round(j[v==="y"?"width":"height"]/2)+C}else{t=i(m,g,y);n=a.browser.mozilla;var w=m.y+(n?"":"-")+m.x;n=(n?"-moz-":a.browser.webkit?"-webkit-":"")+(n?"border-radius-"+w:"border-"+w+"-radius");
n=parseInt((l.titlebar&&m.y==="top"?l.titlebar:l.content).css(n),10)||parseInt(x.css(n),10)||0;u[g]=f||!B?i(m,g):C+(n>t?n:0)}});u[m[v]]-=j[v==="x"?"width":"height"]+e;q&&d.css({top:"",bottom:"",left:"",right:"",margin:""}).css(u);return u},destroy:function(){l.tip&&l.tip.remove();x.unbind(".qtip-tip")}});r.init()}function ha(c){var b=this,i=c.options.show.modal,k=c.elements,r=k.tooltip;c.checks.modal={"^show.modal.(on|blur)$":function(){b.init();k.overlay.toggle(r.is(":visible"))}};a.extend(b,{init:function(){if(i.on){r.unbind(".qtipmodal").bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(h,l,x){h=h.type.replace("tooltip","");a.isFunction(i[h])?i[h].call(k.overlay,x,l):b[h](x)});b.create();i.blur===y&&k.overlay.unbind(".qtipmodal"+c.id).bind("click.qtipmodal"+c.id,function(){c.hide.call(c)})}},create:function(){var h=a("#qtip-overlay"),l;if(h.length)return k.overlay=h;l=k.overlay=a("<div />",{id:"#qtip-overlay".substr(1),css:{position:"absolute",top:0,left:0,display:"none"}}).appendTo(document.body);a(N).bind("resize.qtipmodal",function(){l.css({height:Math.max(a(N).height(),
a(document).height()),width:Math.max(a(N).width(),a(document).width())})}).trigger("resize");return l},toggle:function(h){var l=k.overlay,x=c.options.show.modal.effect,o=h?"show":"hide",A;l||(l=b.create());if(!(l.is(":animated")&&!h)){l.stop(y,p);if(h){A=parseInt(a.css(r[0],"z-index"),10);l.css("z-index",(A||a.fn.qtip.zindex)-1)}if(a.isFunction(x))x.call(l,h);else x===p?l[o]():l.fadeTo(90,h?0.7:0,function(){h||a(this).hide()})}},show:function(){b.toggle(y)},hide:function(){b.toggle(p)},destroy:function(){var h=
y;a("*").each(function(){var l=a(this).data("qtip");if(l&&l.id!==c.id&&l.options.show.modal)return h=p});if(h){k.overlay.remove();a(N).unbind(".qtipmodal")}else k.overlay.unbind(".qtipmodal"+c.id);r.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});b.init()}function ia(c){var b=this,i=c.elements,k=i.tooltip,r=".bgiframe-"+c.id,h="tooltipmove"+r+" tooltipshow"+r;a.extend(b,{init:function(){i.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');
i.bgiframe.appendTo(k);k.bind(h,b.adjust)},adjust:function(){var l=c.get("dimensions"),x=c.plugins.tip,o=c.elements.tip,A;A=parseInt(k.css("border-left-width"),10)||0;A={left:-A,top:-A};if(x&&o){x=x.corner.precedance==="x"?["width","left"]:["height","top"];A[x[1]]-=o[x[0]]()}i.bgiframe.css(A).css(l)},destroy:function(){b.iframe.remove();k.unbind(h)}});b.init()}var y=true,p=false,E=null,O="ui-tooltip",$="ui-widget",S="ui-state-disabled",Y="div.qtip."+O,Z=O+"-focus",ca="-31000px",W="oldtitle";a.fn.qtip=
function(c,b,i){var k=String(c).toLowerCase(),r=E,h=k==="disable"?[y]:a.makeArray(arguments).slice(1,10),l=h[h.length-1],x=this[0]?a.data(this[0],"qtip"):E;if(!arguments.length&&x||k==="api")return x;else if("string"===typeof c){this.each(function(){var o=a.data(this,"qtip");if(!o)return y;if(/option|set/.test(k)&&b)if(a.isPlainObject(b)||i!==U)o.set(b,i);else r=o.get(b);else{if(!o.rendered&&(k==="show"||k==="toggle")){if(l&&l.timeStamp)o.cache.event=l;o.render(1)}else if(k==="enable"){k="disable";
h=[p]}o[k]&&o[k].apply(o[k],h)}});return r!==E?r:this}else if("object"===typeof c||!arguments.length){x=X(a.extend(y,{},c));return a.fn.qtip.bind.call(this,x,l)}};a.fn.qtip.bind=function(c,b){return this.each(function(){function i(A){function z(){o.render(typeof A==="object"||k.show.ready);r.show.unbind(h.show);r.hide.unbind(h.hide)}if(o.cache.disabled)return p;o.cache.event=a.extend({},A);if(k.show.delay>0){clearTimeout(o.timers.show);o.timers.show=setTimeout(z,k.show.delay);h.show!==h.hide&&r.hide.bind(h.hide,
function(){clearTimeout(o.timers.show)})}else z()}var k,r,h,l=!c.id||c.id===p||c.id.length<1||a("#"+O+"-"+c.id).length?a.fn.qtip.nextid++:c.id,x=".qtip-"+l+"-create",o=da.call(this,l,c);if(o===p)return y;k=o.options;a.each(a.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(o)});r={show:k.show.target,hide:k.hide.target};h={show:String(k.show.event).replace(" ",x+" ")+x,hide:String(k.hide.event).replace(" ",x+" ")+x};r.show.bind(h.show,i);if(k.show.ready||k.prerender)i(b)})};a.each({attr:function(c,
b){if(this.length){var i=this[0],k=a.data(i,"qtip");if(c==="title")if(arguments.length<2)return a.data(i,W);else if(typeof k==="object"){k&&k.rendered&&k.options.content.attr==="title"&&k.cache.attr&&k.set("content.text",b);a.fn.attr_replacedByqTip.apply(this,arguments);a.data(i,W,a.attr(i,"title"));return this.removeAttr("title")}}},clone:function(){var c=a([]),b;a("*",this).add(this).each(function(){var i=a.data(this,W);if(i){a.attr(this,"title",i);c=c.add(this)}});b=a.fn.clone_replacedByqTip.apply(this,
arguments);c.removeAttr("title");return b},remove:a.ui?E:function(c,b){a(this).each(function(){if(!b)if(!c||a.filter(c,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})}},function(c,b){if(!b)return y;var i=a.fn[c+"_replacedByqTip"]=a.fn[c];a.fn[c]=function(){return b.apply(this,arguments)||i.apply(this,arguments)}});a(N).load(function(){var c=document,b=c.body;a(c).bind("mousemove.qtip",function(i){a.fn.qtip.mouse={pageX:i.pageX,pageY:i.pageY}});c.activeElement===
U&&c.addEventListener("focus",function(i){if(i&&i.target)c.activeElement=i.target===c?b:i.target},true)});a.fn.qtip.version="2.0.0pre";a.fn.qtip.nextid=0;a.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");a.fn.qtip.zindex=15E3;a.fn.qtip.plugins={Corner:function(c){c=String(c).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase();this.x=(c.match(/left|right/i)||c.match(/center/)||["inherit"])[0].toLowerCase();this.y=(c.match(/top|bottom|center/i)||
["inherit"])[0].toLowerCase();this.precedance=c.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var b=this.x.substr(0,1),i=this.y.substr(0,1);return b===i?b:b==="c"||b!=="c"&&i!=="c"?i+b:b+i}},iOS:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))<4.1};a.fn.qtip.defaults={prerender:p,id:p,overwrite:y,content:{text:y,attr:"title",title:{text:p,
button:p}},position:{my:"top left",at:"bottom right",target:p,container:p,viewport:p,adjust:{x:0,y:0,mouse:y,resize:y},effect:y},show:{target:p,event:"mouseenter",effect:y,delay:90,solo:p,ready:p},hide:{target:p,event:"mouseleave",effect:y,delay:0,fixed:p,inactive:p},style:{classes:"",widget:p},events:{render:E,move:E,show:E,hide:E,toggle:E,focus:E,blur:E}};a.fn.qtip.plugins.ajax=function(c){var b=c.plugins.ajax;return"object"===typeof b?b:c.plugins.ajax=new ea(c)};a.fn.qtip.plugins.ajax.initialize=
"render";a.fn.qtip.plugins.ajax.sanitize=function(c){var b=c.content;if(b&&"ajax"in b){b=b.ajax;if(typeof b!=="object")b=c.content.ajax={url:b};if("boolean"!==typeof b.once&&b.once)b.once=!!b.once}};a.extend(y,a.fn.qtip.defaults,{content:{ajax:{once:y}}});a.fn.qtip.plugins.tip=function(c){var b=c.plugins.tip;return"object"===typeof b?b:c.plugins.tip=new ga(c)};a.fn.qtip.plugins.tip.initialize="render";a.fn.qtip.plugins.tip.sanitize=function(c){var b=c.style;if(b&&"tip"in b){b=c.style.tip;if(typeof b!==
"object")c.style.tip={corner:b};if(!/string|boolean/i.test(typeof b.corner))b.corner=y;typeof b.width!=="number"&&delete b.width;typeof b.height!=="number"&&delete b.height;typeof b.border!=="number"&&b.border!==y&&delete b.border;typeof b.offset!=="number"&&delete b.offset}};a.extend(y,a.fn.qtip.defaults,{style:{tip:{corner:y,mimic:p,width:6,height:6,border:y,offset:0}}});a.fn.qtip.plugins.imagemap=function(c,b){function i(B,P){for(var m=0,q=1,d=1,u=0,C=0,v=B.width,j=B.height;v>0&&j>0&&q>0&&d>0;){v=
Math.floor(v/2);j=Math.floor(j/2);if(b.x==="left")q=v;else if(b.x==="right")q=B.width-v;else q+=Math.floor(v/2);if(b.y==="top")d=j;else if(b.y==="bottom")d=B.height-j;else d+=Math.floor(j/2);for(m=P.length;m--;){if(P.length<2)break;u=P[m][0]-B.offset.left;C=P[m][1]-B.offset.top;if(b.x==="left"&&u>=q||b.x==="right"&&u<=q||b.x==="center"&&(u<q||u>B.width-q)||b.y==="top"&&C>=d||b.y==="bottom"&&C<=d||b.y==="center"&&(C<d||C>B.height-d))P.splice(m,1)}}return{left:P[0][0],top:P[0][1]}}var k=c.attr("shape").toLowerCase(),
r=c.attr("coords").split(","),h=[],l=a('img[usemap="#'+c.parent("map").attr("name")+'"]'),x=l.offset(),o={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},A=0,z=0;x.left+=Math.ceil((l.outerWidth()-l.width())/2);x.top+=Math.ceil((l.outerHeight()-l.height())/2);if(k==="poly")for(A=r.length;A--;){z=[parseInt(r[--A],10),parseInt(r[A+1],10)];if(z[0]>o.offset.right)o.offset.right=z[0];if(z[0]<o.offset.left)o.offset.left=z[0];if(z[1]>o.offset.bottom)o.offset.bottom=z[1];if(z[1]<o.offset.top)o.offset.top=
z[1];h.push(z)}else h=a.map(r,function(B){return parseInt(B,10)});switch(k){case "rect":o={width:Math.abs(h[2]-h[0]),height:Math.abs(h[3]-h[1]),offset:{left:h[0],top:h[1]}};break;case "circle":o={width:h[2]+2,height:h[2]+2,offset:{left:h[0],top:h[1]}};break;case "poly":a.extend(o,{width:Math.abs(o.offset.right-o.offset.left),height:Math.abs(o.offset.bottom-o.offset.top)});o.offset=b.string()==="centercenter"?{left:o.offset.left+o.width/2,top:o.offset.top+o.height/2}:i(o,h.slice());o.width=o.height=
0;break}o.offset.left+=x.left;o.offset.top+=x.top;return o};a.fn.qtip.plugins.svg=function(c){var b=a(document),i=c[0];c={width:0,height:0,offset:{top:1E10,left:1E10}};var k,r,h;if(i.getBBox&&i.parentNode){k=i.getBBox();r=i.getScreenCTM();i=i.farthestViewportElement||i;if(!i.createSVGPoint)return c;i=i.createSVGPoint();i.x=k.x;i.y=k.y;h=i.matrixTransform(r);c.offset.left=h.x;c.offset.top=h.y;i.x+=k.width;i.y+=k.height;h=i.matrixTransform(r);c.width=h.x-c.offset.left;c.height=h.y-c.offset.top;c.offset.left+=
b.scrollLeft();c.offset.top+=b.scrollTop()}return c};a.fn.qtip.plugins.modal=function(c){var b=c.plugins.modal;return"object"===typeof b?b:c.plugins.modal=new ha(c)};a.fn.qtip.plugins.modal.initialize="render";a.fn.qtip.plugins.modal.sanitize=function(c){if(c.show)if(typeof c.show.modal!=="object")c.show.modal={on:!!c.show.modal};else if(typeof c.show.modal.on==="undefined")c.show.modal.on=y};a.extend(y,a.fn.qtip.defaults,{show:{modal:{on:p,effect:y,blur:y}}});a.fn.qtip.plugins.bgiframe=function(c){if(!(a.browser.msie&&
/^6\.[0-9]/.test(a.browser.version)&&a("select, object").length))return p;var b=c.plugins.bgiframe;if(b)return b;else{c.plugins.bgiframe=new ia(c);return c.plugins.bgiframe}};a.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
