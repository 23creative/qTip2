/*
* qTip - The jQuery tooltip plugin
* http://craigsworks.com/projects/qtip/
*
* Version: 2.0.0pre
* Copyright 2009 Craig Michael Thompson - http://craigsworks.com
*
* Dual licensed under MIT or GPL Version 2 licenses
*   http://en.wikipedia.org/wiki/MIT_License
*   http://en.wikipedia.org/wiki/GNU_General_Public_License
*
* Date: Thu Nov 4 15:07:43 2010 +0000
*/

"use strict"; // Enable ECMAScript "strict" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/
/*jslint browser: true, onevar: true, undef: true, nomen: true, bitwise: true, regexp: true, newcap: true, immed: true, strict: true */
/*global window: false, jQuery: false */

var TRUE=true,FALSE=false,NULL=null;
(function(a,E,M){function N(c,d){var i,g=a();if(!c)return FALSE;try{if("metadata"in c&&"object"!==typeof c.metadata)c.metadata={type:c.metadata};if("content"in c){if("object"!==typeof c.content||c.content.jquery)c.content={text:c.content};i=c.content.text||FALSE;if(!a.isFunction(i)&&(!i&&!i.attr||i.length<1||"object"===typeof i&&!i.jquery))i=c.content.text=FALSE;if("title"in c.content&&"object"!==typeof c.content.title)c.content.title={text:c.content.title}}if("position"in c){if("object"!==typeof c.position)c.position=
{my:c.position,at:c.position};if("object"!==typeof c.position.adjust)c.position.adjust={};if("undefined"!==typeof c.position.adjust.screen)c.position.adjust.screen=!!c.position.adjust.screen}if("show"in c){if("object"!==typeof c.show)c.show={event:c.show};if("object"!==typeof c.show)c.show=c.show.jquery?{target:c.show}:{event:c.show}}if("hide"in c)if("object"!==typeof c.hide)c.hide=c.hide.jquery?{target:c.hide}:{event:c.hide};if("style"in c&&"object"!==typeof c.style)c.style={classes:c.style}}catch(p){}if(a.isFunction(i)){c.content.text=
[];d.each(function(){var l=i.call(this);if(l){c.content.text.push(l);g=g.add(a(this))}})}else g=d;a.each(a.fn.qtip.plugins,function(){this.sanitize&&this.sanitize(c)});return g}function Q(c,d,i){function g(b){var f,h=b.split("."),j=d[h[0]];for(b=1;b<h.length;b+=1){f=j[h[b]];if(typeof f==="object"&&!f.jquery&&!f.precedance)j=j[h[b]];else break}return h[b]!==M?[j,h[b]]:[d,h[0]]}function p(b){var f=e.elements.tooltip,h=v+"-accessible",j=!f.is(":visible")?TRUE:FALSE,k=FALSE;if(!e.rendered)return FALSE;
j&&f.addClass(h);switch(b){case "dimensions":k={height:f.outerHeight(),width:f.outerWidth()};break;case "position":k=f.offset();break}j&&f.removeClass(h);return k}function l(){var b=e.elements;if(b.title){b.titlebar.remove();b.titlebar=b.title=b.button=NULL;b.tooltip.removeAttr("aria-labelledby")}}function t(){var b=e.elements,f=d.content.title.button;b.button&&b.button.remove();b.button=f.jquery?f:"string"===typeof f?a("<a />",{html:f}):a("<a />",{"class":"ui-state-default",text:"Close tooltip",
title:"Close tooltip",css:{"text-indent":"-10000em"}}).prepend(a("<span />",{"class":"ui-icon ui-icon-close"}));b.button.prependTo(b.titlebar).attr("role","button").addClass(v+"-"+(f===TRUE?"close":"button")).hover(function(h){a(this).toggleClass("ui-state-hover",h.type==="mouseenter")}).click(function(){b.tooltip.hasClass("ui-state-disabled")||e.hide();return FALSE}).bind("mousedown keydown mouseup keyup mouseout",function(h){a(this).toggleClass("ui-state-active ui-state-focus",/down$/i.test(h.type))})}
function n(){var b=e.elements;b.titlebar&&l();b.titlebar=a("<div />",{"class":v+"-titlebar "+(d.style.widget?"ui-widget-header":"")}).append(b.title=a("<div />",{id:v+"-"+i+"-title","class":v+"-title",html:d.content.title.text})).prependTo(b.wrapper);d.content.title.button&&t()}function y(b){function f(){if(--h<1){var j=void 0,k=e.elements.tooltip,q,s;if(e.rendered&&a.browser.msie&&parseInt(a.browser.version.charAt(0),10)<9){k.css({width:"auto",maxWidth:"none"});j=p("dimensions").width;k.css({maxWidth:""});
q=parseInt(k.css("max-width"),10)||0;s=parseInt(k.css("min-width"),10)||0;j=Math.min(Math.max(j,s),q);k.width(j)}e.rendered===TRUE&&e.reposition(e.cache.event)}}var h;if(!e.rendered||!b)return FALSE;if(a.isFunction(b))b=b.call(c);b.jquery&&b.length>0?e.elements.content.empty().append(b.css({display:"block"})):e.elements.content.html(b);h=a("img",e.elements.content).each(function(){a(this).load(f);var j=this.src;this.src="";this.src=j}).length;h===0&&f();return e}function r(b,f,h,j){function k(B){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;
o.show.trigger("qtip-"+i+"-inactive");clearTimeout(e.timers.show);clearTimeout(e.timers.hide);var C=function(){e.show(d.position.target!=="mouse"?B:NULL)};if(d.show.delay>0)e.timers.show=setTimeout(C,d.show.delay);else C()}function q(B){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;var C=a(B.relatedTarget).parents(m)[0]==o.tooltip[0];clearTimeout(e.timers.show);clearTimeout(e.timers.hide);if(d.hide.fixed&&(d.position.target==="mouse"&&C||/mouse(out|leave|move)/.test(B.type)&&C)){B.stopPropagation();
B.preventDefault();return FALSE}o.tooltip.stop(TRUE);if(d.hide.delay>0)e.timers.hide=setTimeout(function(){e.hide(B)},d.hide.delay);else e.hide(B)}function s(B){if(o.tooltip.hasClass("ui-state-disabled"))return FALSE;clearTimeout(e.timers.inactive);e.timers.inactive=setTimeout(function(){e.hide(B)},d.hide.inactive)}function A(B){e.elements.tooltip.is(":visible")&&e.reposition(B)}var w=".qtip-"+i,o={show:d.show.target,hide:d.hide.target,tooltip:e.elements.tooltip},z={show:String(d.show.event).split(" "),
hide:String(d.hide.event).split(" ")},u=a.browser.msie&&/^6\.[0-9]/.test(a.browser.version);c.bind("remove.qtip",function(){e.destroy()});if(h&&d.hide.fixed){o.hide=o.hide.add(o.tooltip);o.tooltip.bind("mouseover"+w,function(){o.tooltip.hasClass("ui-state-disabled")||clearTimeout(e.timers.hide)})}if(f){if("number"===typeof d.hide.inactive){o.show.bind("qtip-"+i+"-inactive",s);a.each(a.fn.qtip.inactiveEvents,function(B,C){o.hide.add(e.elements.tooltip).bind(C+w+"-inactive",s)})}a.each(z.hide,function(B,
C){var F=a.inArray(C,z.show);if(F>-1&&a(o.hide).add(o.show).length===a(o.hide).length||C==="unfocus"){o.show.bind(C+w,function(K){o.tooltip.is(":visible")?q(K):k(K)});delete z.show[F]}else o.hide.bind(C+w,q)})}if(b){a.each(z.show,function(B,C){o.show.bind(C+w,k)});o.tooltip.bind("mouseover"+w,function(){e.focus()})}if(j){if(d.position.adjust.resize||d.position.adjust.screen)a(E).bind("resize"+w,A);if(d.position.adjust.screen||u&&o.tooltip.css("position")==="fixed")a(document).bind("scroll"+w,A);/unfocus/i.test(d.hide.event)&&
a(document).bind("mousedown"+w,function(B){var C=e.elements.tooltip;a(B.target).parents(m).length===0&&a(B.target).add(c).length>1&&C.is(":visible")&&!C.hasClass("ui-state-disabled")&&e.hide()});d.position.target==="mouse"&&a(document).bind("mousemove"+w,function(B){if(d.position.adjust.mouse&&!o.tooltip.hasClass("ui-state-disabled")&&o.tooltip.is(":visible"))e.reposition(B||a.fn.qtip.mouse)})}}function x(b,f,h,j){j=parseInt(j,10)!==0;var k=".qtip-"+i,q={show:b?d.show.target:a("<div/>"),hide:f?d.hide.target:
a("<div/>"),tooltip:h?e.elements.tooltip:a("<div/>")};f={show:String(d.show.event).split(" "),hide:String(d.hide.event).split(" ")};if(e.rendered){a.each(f.show,function(s,A){q.show.unbind(A+k)});q.show.unbind("mousemove"+k).unbind("mouseout"+k).unbind("qtip-"+i+"-inactive");a.each(f.hide,function(s,A){q.hide.add(q.tooltip).unbind(A+k)});a.each(a.fn.qtip.inactiveEvents,function(s,A){q.hide.add(h?e.elements.content:NULL).unbind(A+k+"-inactive")});q.hide.unbind("mouseout"+k);q.tooltip.unbind("mouseover"+
k);if(j){a(E).unbind("resize"+k);a(document).unbind("mousedown"+k+" mousemove"+k)}}else b&&q.show.unbind(f.show+k+"-create")}var e=this,v="ui-tooltip",m=".qtip."+v;e.id=i;e.rendered=FALSE;e.elements={target:c};e.cache={event:{},target:NULL,disabled:FALSE};e.timers={};e.options=d;e.plugins={};a.extend(e,{render:function(b){var f=e.elements,h=a.Event("tooltiprender");if(e.rendered)return FALSE;e.rendered=b?-2:-1;f.tooltip=a("<div/>").attr({id:v+"-"+i,role:"tooltip","class":v+" qtip ui-tooltip-accessible ui-helper-reset "+
d.style.classes}).css("z-index",a.fn.qtip.zindex+a(m).length).toggleClass("ui-widget",d.style.widget).toggleClass("ui-state-disabled",e.cache.disabled).data("qtip",e).appendTo(d.position.container);f.wrapper=a("<div />",{"class":v+"-wrapper"}).appendTo(f.tooltip);f.content=a("<div />",{"class":v+"-content "+(d.style.widget?"ui-widget-content":""),id:v+"-"+i+"-content"}).appendTo(f.wrapper);y(d.content.text);d.content.title.text&&n();a.each(a.fn.qtip.plugins,function(){this.initialize==="render"&&
this(e)});e.rendered=TRUE;r(1,1,1,1);a.each(d.events,function(j,k){f.tooltip.bind("tooltip"+j,k)});if(d.show.ready||b){f.tooltip.hide();e.show(e.cache.event)}f.tooltip.removeClass("ui-tooltip-accessible");h.originalEvent=a.extend({},e.cache.event);f.tooltip.trigger(h,[e.hash()]);return e},get:function(b){switch(b.toLowerCase()){case "offset":b=p("position");break;case "dimensions":b=p("dimensions");break;default:b=g(b.toLowerCase());b=b[0].precedance?b[0].string():b[0].jquery?b[0]:b[0][b[1]];break}return b},
set:function(b,f){b=b.toLowerCase();var h=g(b),j=e.elements,k=j.tooltip,q,s,A,w={builtin:{id:function(){var o=f===TRUE?a.fn.qtip.nextid:f,z=v+"-"+o;if(o!==FALSE&&o.length>0&&!a("#ui-tooltip-"+o).length){k[0].id=z;j.content[0].id=z+"-content";j.title[0].id=z+"-title"}},"^content.text":function(){y(f)},"^content.title.text":function(){if(e.rendered)if(!e.elements.title&&f){n();e.reposition()}else f?e.elements.title.html(f):l()},"^content.title.button":function(){var o=e.elements.button,z=e.elements.title;
if(e.rendered)if(f){z||n();t()}else o.remove()},"^position.(my|at)$":function(){var o=/my$/i.test(b)?"my":"at";if("string"===typeof f)d.position[o]=new a.fn.qtip.plugins.Corner(f)},"^position.(my|at|adjust|target)":function(){e.rendered&&e.reposition()},"^position.container$":function(){if(e.rendered===TRUE){k.appendTo(f);e.reposition()}},"^(show|hide).(event|target|fixed|delay|inactive)":function(o,z,u,B){var C=b.search(/fixed/i)>-1?[0,[0,1,1,1]]:[b.substr(0,3),b.charAt(0)==="s"?[1,0,0,0]:[0,1,0,
0]];if(C[0])o[z]=B;x.apply(e,C[1]);if(C[0])o[z]=u;r.apply(e,C[1])},"^show.ready$":function(){e.rendered===FALSE&&e.show()},"^style.classes$":function(){e.elements.tooltip.css("class",v+" qtip ui-helper-reset "+f)},"^style.widget$":function(){k.toggleClass("ui-widget",!!f);j.titlebar.toggleClass("ui-widget-header",!!f);j.content.toggleClass("ui-widget-content",!!f)},"^events.(render|show|move|hide|focus|blur)":function(o,z,u,B){a.isFunction(f)?j.tooltip.bind("tooltip"+z,u):j.tooltip.unbind("tooltip"+
z,B)}}};a.each(e.plugins,function(o){if("object"===typeof this.checks)w[o]=this.checks});q=h[0][h[1]];h[0][h[1]]=f.nodeType?a(f):f;N(d,c);for(s in w)for(A in w[s])RegExp(A,"i").test(b)&&w[s][A].call(e,h[0],h[1],f,q);return e},toggle:function(b,f){function h(){var w=a(this),o=b?"attr":"removeAttr",z=/^1|0$/.test(w.css("opacity"));e.elements.title&&c[o]("aria-labelledby",v+"-"+i+"-title");c[o]("aria-describedby",v+"-"+i+"-content");if(b){if(a.browser.msie&&this.style&&z){A=this.style;A.removeAttribute("filter");
A.removeAttribute("opacity")}}else z&&w.hide()}if(e.rendered===FALSE)return FALSE;var j=b?"show":"hide",k=e.elements.tooltip,q=d[j],s=k.is(":visible"),A;if((typeof b).search("boolean|number"))b=!k.is(":visible");if(!s&&!b||k.is(":animated"))return e;if(f){if(e.cache.event&&/over|enter/.test(f.type)&&/out|leave/.test(e.cache.event.type)&&a(f.target).add(d.show.target).length<2&&a(f.relatedTarget).parents(m).length>0)return e;e.cache.event=a.extend({},f)}s=a.Event("tooltip"+j);s.originalEvent=a.extend({},
f);k.trigger(s,[e.hash(),90]);if(s.isDefaultPrevented())return e;if(b){e.focus();e.reposition(f);q.solo&&a(m).qtip("hide")}else clearTimeout(e.timers.show);k.attr("aria-hidden",Boolean(!b));k.stop(TRUE,FALSE);if(a.isFunction(q.effect)){q.effect.call(k,e.hash());k.queue(function(){h.call(this);a(this).dequeue()})}else if(q.effect===FALSE){k[j]();h.call(k)}else k.fadeTo(90,b?1:0,h);b&&q.target.trigger("qtip-"+i+"-inactive");return e},show:function(b){e.toggle(TRUE,b)},hide:function(b){e.toggle(FALSE,
b)},focus:function(b){if(e.rendered===false)return FALSE;var f=e.elements.tooltip,h=a(m),j=parseInt(f.css("z-index"),10),k=a.fn.qtip.zindex+h.length,q=v+"-focus",s=a.extend({},b);if(!f.hasClass(q)&&j!==k){h.css("z-index",function(A,w){return w-1});a(m+"."+q).each(function(){var A=a(this),w=A.qtip(),o;if(!w||w.rendered===FALSE)return TRUE;A.removeClass(q);o=a.Event("tooltipblur");o.originalEvent=s;A.trigger(o,[w,k])});b=a.Event("tooltipfocus");b.originalEvent=s;f.trigger(b,[e.hash(),k]);b.isDefaultPrevented()||
f.css({zIndex:k}).addClass(q)}return e},reposition:function(b){if(e.rendered===FALSE)return FALSE;var f=d.position.target,h=e.elements.tooltip,j=d.position,k=j.my,q=j.at,s=e.elements.tooltip.width(),A=e.elements.tooltip.height(),w=a(j.container)[0],o=0,z=0,u={left:0,top:0},B=a.Event("tooltipmove"),C=h.css("position")==="fixed",F=a(E),K={left:function(D){var H=f==="mouse"?b.pageX:f.offset().left,I=F.scrollLeft(),G=F.width(),L=q.x==="left"?o:q.x==="right"?-o:o/2,J=k.x!==q.x&&q.x!=="center"?o:0,O=L+
(k.x==="left"?-s:k.x==="right"?s:s/2)+-2*j.adjust.x;G=D+s-G-I;if(I-D>0&&!(D>=H&&D<H+o))u.left+=O-L+J;else if(G>0&&D+s>H)u.left+=(k.x==="center"?-1:1)*(O-L-J);return u.left-D},top:function(D){var H=F.scrollTop(),I=F.height(),G=q.y==="top"?z:q.y==="bottom"?-z:0,L=k.y!==q.y&&q.y!=="center"?z:0,J=G+(k.y==="top"?-A:k.y==="bottom"?A:-A/2)+-2*j.adjust.y;I=D+A-I-H;if(H-D>0)u.top+=k.y==="center"?-J+G:J;else if(I>0)u.top+=J-G-L;return u.top-D}};if(f==="mouse"){q={x:"left",y:"top"};b=a.extend({},a.fn.qtip.mouse);
u={top:b.pageY,left:b.pageX}}else{if(f==="event")f=b&&b.target&&b.type!=="scroll"&&b.type!=="resize"?e.cache.target=a(b.target):e.cache.target;f=a(f).eq(0);if(f.length===0)return e;else if(f[0]===document||f[0]===E){o=f.width();z=f.height();if(f[0]===E)u={top:C?0:F.scrollTop(),left:C?0:F.scrollLeft()}}else if(f.is("area")&&a.fn.qtip.plugins.imagemap){u=a.fn.qtip.plugins.imagemap(f,q);o=u.width;z=u.height;u=u.offset}else{o=f.outerWidth();z=f.outerHeight();u=f.offset();if(j.adjust.offset){do{u.left-=
w.offsetLeft-w.scrollLeft;u.top-=w.offsetTop-w.scrollTop}while(w=w.offsetParent)}}u.left+=q.x==="right"?o:q.x==="center"?o/2:0;u.top+=q.y==="bottom"?z:q.y==="center"?z/2:0}u.left+=j.adjust.x+(k.x==="right"?-s:k.x==="center"?-s/2:0);u.top+=j.adjust.y+(k.y==="bottom"?-A:k.y==="center"?-A/2:0);u.adjusted=j.adjust.screen&&f[0]!==E&&f[0]!==document.body?{left:K.left(u.left),top:K.top(u.top)}:{left:0,top:0};if(j.container[0]==document.body){if(u.top+F.scrollTop()<1)u.top=0;if(u.left+F.scrollLeft()<1)u.left=
0}h.attr("class",function(){return a(this).attr("class").replace(/ui-tooltip-pos-\w+/i,"")}).addClass(v+"-pos-"+k.abbreviation());B.originalEvent=a.extend({},b);h.trigger(B,[e.hash(),u]);if(B.isDefaultPrevented())return e;delete u.adjusted;if(h.is(":visible")&&a.isFunction(j.effect)){j.effect.call(h,e.hash(),u);h.queue(function(){var D=a(this);D.css({opacity:"",height:""});a.browser.msie&&this.style&&this.style.removeAttribute("filter");D.dequeue()})}else isNaN(u.left,u.top)||h.css(u);return e},disable:function(b){var f=
e.elements.tooltip;if(e.rendered)f.toggleClass("ui-state-disabled",b);else e.cache.disabled=!!b;return e},destroy:function(){var b=e.elements,f=b.target.data("oldtitle");e.rendered&&a.each(e.plugins,function(){this.initialize==="render"&&this.destroy()});x(1,1,1,1);c.removeData("qtip");e.rendered&&b.tooltip.remove();f&&c.attr("title",f);c.removeAttr("aria-describedby");return c},hash:function(){var b=a.extend({},e);delete b.cache;delete b.timers;delete b.options;delete b.plugins;delete b.render;delete b.hash;
return b}})}function R(c,d){var i,g=a(this);i=a(document.body);var p=g.metadata?g.metadata(d.metadata):{};p=a.extend(TRUE,{},d,p);var l=p.position,t=this===document?i:g;if("boolean"===typeof p.content.text)if(p.content.attr!==FALSE&&g.attr(p.content.attr))p.content.text=g.attr(p.content.attr);else return FALSE;if(l.container===FALSE)l.container=i;if(l.target===FALSE)l.target=t;if(p.show.target===FALSE)p.show.target=t;if(p.hide.target===FALSE)p.hide.target=t;l.at=new a.fn.qtip.plugins.Corner(l.at);
l.my=new a.fn.qtip.plugins.Corner(l.my);if(g.data("qtip"))if(p.overwrite)g.qtip("destroy");else if(p.overwrite===FALSE)return FALSE;i=new Q(g,p,c);g.data("qtip",i);return i}function S(c){var d=this;d.checks={"^content.ajax":function(){this.plugins.ajax.load(this.options.content.ajax)}};a.extend(d,{init:function(){var i=c.options.content.ajax;c.elements.tooltip.bind("tooltiprender.ajax",function(){d.load(i);c.elements.tooltip.bind("tooltipshow.ajax",function(){i.once===FALSE&&c.rendered===TRUE&&d.load(i)})})},
load:function(i){a.ajax(a.extend(TRUE,{},i,{success:function(g,p){if(a.isFunction(i.success))if(i.success.call(c.hash(),g,p)===FALSE)return;c.set("content.text",g)},error:function(g,p,l){var t=p||l;if(a.isFunction(i.error)){g=i.error.call(c.hash(),g,p,l);if(g===FALSE)return}c.set("content.text",t)}}));return d},destroy:function(){c.elements.tooltip.unbind("tooltipshow.ajax")}});d.init()}function P(c,d,i){var g=Math.floor(d/2),p=Math.floor(i/2);d={bottomright:[[0,0],[d,i],[d,0]],bottomleft:[[0,0],
[d,0],[0,i]],topright:[[0,i],[d,0],[d,i]],topleft:[[0,0],[0,i],[d,i]],topcenter:[[0,i],[g,0],[d,i]],bottomcenter:[[0,0],[d,0],[g,i]],rightcenter:[[0,0],[d,p],[0,i]],leftcenter:[[d,0],[d,i],[0,p]]};d.lefttop=d.bottomright;d.righttop=d.bottomleft;d.leftbottom=d.topright;d.rightbottom=d.topleft;return d[c]}function T(c){function d(m){var b=l.tip,f=["left","right"],h=p.offset,j;if(p.corner===FALSE||!b)return FALSE;m=m||g.corner;j=m.precedance;b.css({top:"",bottom:"",left:"",right:"",margin:""});f[j===
"y"?"push":"unshift"]("top","bottom");h=Math.max(m[j==="y"?"x":"y"]==="center"?h:0,h);switch(m[j==="y"?"x":"y"]){case "center":b.css(f[0],"50%").css("margin-"+f[0],-(r[j==="y"?"width":"height"]/2)+h);break;case f[0]:b.css(f[0],h);break;case f[1]:b.css(f[1],h);break}h=r[j==="x"?"width":"height"];if(e){t.toggleClass("ui-tooltip-accessible",!t.is(":visible"));h-=parseInt(n.css("border-"+m[j]+"-width"),10)||0;t.removeClass("ui-tooltip-accessible")}b.css(m[j],-h)}function i(m,b,f){if(l.tip){m=a.extend({},
g.corner);b=g.mimic.adjust?a.extend({},g.mimic):NULL;var h=m.precedance==="y"?["y","top","left","height","x"]:["x","left","top","width","y"],j=f.adjusted,k=[parseInt(n.css("border-"+m[h[0]]+"-width"),10)||0,0];a.each([m,b],function(){if(j.left)this.x=this.x==="center"?j.left>0?"left":"right":this.x==="left"?"right":"left";if(j.top)this.y=this.y==="center"?j.top>0?"top":"bottom":this.y==="top"?"bottom":"top"});k[1]=Math.max(m[h[4]]==="center"?p.offset:0,p.offset);f[h[1]]+=(m[h[0]]===h[1]?1:-1)*(r[h[3]]-
k[0]);f[h[2]]-=(m[h[4]]===h[2]||m[h[4]]==="center"?1:-1)*k[1];if(m.string()!==y.corner.string()&&(y.top!==j.top||y.left!==j.left))g.update(m,b);y.left=j.left;y.top=j.top;y.corner=m}}var g=this,p=c.options.style.tip,l=c.elements,t=l.tooltip,n=l.wrapper,y={top:0,left:0,corner:{string:function(){}}},r={width:p.width,height:p.height},x={},e=p.border||0,v=p.method||FALSE;g.corner=NULL;g.mimic=NULL;g.checks={"^position.my|style.tip.(corner|mimic|method|border)":function(){e=p.border;if(g.detectCorner()){g.create();
g.detectColours();g.update()}else g.tip.remove();this.get("position.target")!=="mouse"&&this.reposition()},"^style.tip.(height|width)":function(){r={width:p.width,height:p.height};g.create();g.update();c.reposition()}};a.extend(g,{init:function(){var m=a.browser.msie,b=g.mimic&&/center/i.test(g.mimic.string());if(v===TRUE)v=a("<canvas />")[0].getContext?"canvas":m&&(b||r.height!==r.width)?"vml":"polygon";else if(v==="canvas")v=m?"vml":!a("<canvas />")[0].getContext?"polygon":"canvas";else if(v===
"polygon")v=m&&b?"vml":v;if(g.detectCorner()){g.create();g.detectColours();g.update();t.bind("tooltipmove.tip",i)}return g},detectCorner:function(){var m=p.corner,b=p.mimic||m,f=c.options.position.at,h=c.options.position.my;if(h.string)h=h.string();if(m===FALSE||h===FALSE&&f===FALSE)return FALSE;else{if(m===TRUE)g.corner=new a.fn.qtip.plugins.Corner(h);else if(!m.string)g.corner=new a.fn.qtip.plugins.Corner(m);if(b===TRUE)g.mimic=new a.fn.qtip.plugins.Corner(h);else if(!b.string){g.mimic=new a.fn.qtip.plugins.Corner(b);
g.mimic.precedance=g.corner.precedance}}return g.corner.string()!=="centercenter"},detectColours:function(){var m=l.tip,b=g.mimic[g.mimic.precedance],f="border-"+b+"-color";x.fill=m.css("background-color","").css("border","").css("background-color")||"transparent";x.border=m.get(0).style?m.get(0).style["border"+b.charAt(0)+b.substr(1)+"Color"]:m.css(f)||"transparent";if(/rgba?\(0, 0, 0(, 0)?\)|transparent/i.test(x.fill))x.fill=n.css(e?"background-color":f);if(!x.border||/rgba?\(0, 0, 0(, 0)?\)|transparent/i.test(x.border))x.border=
n.css(f)||x.fill;a("*",m).add(m).css("background-color","transparent").css("border",0)},create:function(){var m=r.width,b=r.height;l.tip&&l.tip.remove();l.tip=a('<div class="ui-tooltip-tip" />').toggleClass("ui-widget-content",c.options.style.widget).css(r).prependTo(t);switch(v){case "canvas":l.tip.append('<canvas height="'+b+'" width="'+m+'" />');break;case "vml":l.tip.html('<vml:shape coordorigin="0 0" coordsize="'+m+" "+b+'" stroked="'+!!e+'"  style="behavior:url(#default#VML); display:inline-block; antialias:TRUE; position: absolute;  top:0; left:0; width:'+
m+"px; height:"+b+"px; vertical-align:"+g.corner.y+';"><vml:stroke weight="'+(e-2)+'px" joinstyle="miter" miterlimit="10"  style="behavior:url(#default#VML); display:inline-block;" /></vml:shape>');break;case "polygon":l.tip.append('<div class="ui-tooltip-tip-inner" />').append(e?'<div class="ui-tooltip-tip-border" />':"");break}return g},update:function(m,b){var f=l.tip,h=r.width,j=r.height,k=e>0?0:1,q=Math.ceil(e/2+0.5),s;b||(b=m?m:g.mimic);if(!m)m=g.corner;if(b.x==="false")b.x=m.x;if(b.y==="false")b.y=
m.y;f=f.children();switch(v){case "canvas":f=f.get(0).getContext("2d");f.restore();f.clearRect(0,0,3E3,3E3);for(s=P(b.string(),h,j);k<2;k++){if(k){f.save();f.translate(Math.floor((b.x==="left"?1:b.x==="right"?-1:0)*(e+1)*(b.precedance==="y"?0.5:1)),Math.floor((b.y==="top"?1:b.y==="bottom"?-1:0)*(e+1)*(b.precedance==="x"?0.5:1)))}f.beginPath();f.moveTo(s[0][0],s[0][1]);f.lineTo(s[1][0],s[1][1]);f.lineTo(s[2][0],s[2][1]);f.closePath();f.fillStyle=x[k?"fill":"border"];f.fill()}break;case "vml":s=P(b.string(),
h,j);k="m"+s[0][0]+","+s[0][1]+" l"+s[1][0]+","+s[1][1]+" "+s[2][0]+","+s[2][1]+" xe";f.attr({path:k,fillcolor:x.fill});if(e){f.children().attr("color",x.border);if(b.precedance==="y"){f.css("top",(b.y==="top"?1:-1)*(e-2));f.css("left",b.x==="left"?1:-2)}else{f.css("left",(b.x==="left"?1:-1)*(e-2));f.css("top",b.y==="top"?1:-2)}}break;case "polygon":if(b.precedance==="y"){k=h>j?1.5:h<j?5:2.2;q=[b.x==="left"?q:b.x==="right"?-q:0,Math.floor(k*q*(b.y==="bottom"?-1:1)*(b.x==="center"?0.8:1))]}else{k=
h<j?1.5:h>j?5:2.2;q=[Math.floor(k*q*(b.x==="right"?-1:1)*(b.y==="center"?0.9:1)),b.y==="top"?q:b.y==="bottom"?-q:0]}f.removeAttr("style").each(function(A){var w={x:b.precedance==="x"?b.x==="left"?"right":"left":b.x,y:b.precedance==="y"?b.y==="top"?"bottom":"top":b.y},o=b.x==="center"?["left","right",w.y,j,h]:["top","bottom",w.x,h,j],z=x[!A&&e?"border":"fill"];A&&a(this).css({position:"absolute","z-index":1,left:q[0],top:q[1]});b.x==="center"||b.y==="center"?a(this).css("border-"+o[2],o[3]+"px solid "+
z).css("border-"+o[0],Math.floor(o[4]/2)+"px dashed transparent").css("border-"+o[1],Math.floor(o[4]/2)+"px dashed transparent"):a(this).css("border-width",Math.floor(j/2)+"px "+Math.floor(h/2)+"px").css("border-"+w.x,Math.floor(h/2)+"px solid "+z).css("border-"+w.y,Math.floor(j/2)+"px solid "+z)});break}d(m);return g},destroy:function(){l.tip&&l.tip.remove();t.unbind("tooltipmove.tip")}})}function U(c,d){var i=this,g=c.elements,p=g.tooltip;g.overlay=a("#qtip-overlay");a.extend(i,{init:function(){p.bind("tooltipshow.qtipmodal tooltiphide.qtipmodal",
function(l,t,n){l=l.type.replace("tooltip","");a.isFunction(d[l])?d[l].call(g.overlay,n,t):i[l](n)});g.overlay.length||i.create();d.blur===TRUE&&g.overlay.bind("click.qtipmodal"+c.id,function(){c.hide.call(c)})},create:function(){g.overlay=a("<div />",{id:"qtip-overlay",css:{position:"absolute",top:0,left:0,display:"none"}}).appendTo(document.body);a(E).bind("resize.qtipmodal",function(){g.overlay.css({height:Math.max(a(E).height(),a(document).height()),width:Math.max(a(E).width(),a(document).width())})}).trigger("resize")},
toggle:function(l){var t=g.overlay,n=c.options.show.modal.effect,y=l?"show":"hide";t.stop(TRUE,FALSE);if(a.isFunction(n))n.call(t,l);else n===FALSE?t[y]():t.fadeTo(90,l?0.7:0,function(){l||a(this).hide()})},show:function(){i.toggle(TRUE)},hide:function(){i.toggle(FALSE)},destroy:function(){var l=TRUE;a("*").each(function(){var t=a(this).data("qtip");if(t&&t.id!==c.id&&t.options.show.modal)return l=FALSE});if(l){g.overlay.remove();a(E).unbind("scroll.qtipmodal resize.qtipmodal")}else g.overlay.unbind("click.qtipmodal"+
c.id);p.unbind("tooltipshow.qtipmodal tooltiphide.qtipmodal")}});i.init()}function V(c){var d=this,i=c.elements,g=i.tooltip,p=".bgiframe-"+c.id,l="tooltipmove"+p+" tooltipshow"+p;a.extend(d,{init:function(){i.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0);"></iframe>');i.bgiframe.appendTo(g);g.bind(l,d.adjust)},adjust:function(){var t=c.get("dimensions"),n=c.plugins.tip,
y=c.elements.tip,r;r=parseInt(g.css("border-left-width"),10);r={left:-r,top:-r};if(n&&y){n=n.corner.precedance==="x"?["width","left"]:["height","top"];r[n[1]]-=y[n[0]]()}i.bgiframe.css(r).css(t)},destroy:function(){d.iframe.remove();g.unbind(l)}});d.init()}a.fn.qtip=function(c,d,i){var g=String(c).toLowerCase(),p=NULL,l=g==="disable"?[TRUE]:a.makeArray(arguments).slice(1,10),t=l[l.length-1],n=a.extend(TRUE,{},c),y;if(!arguments.length&&this.data("qtip")||g==="api")return(n=this.data("qtip"))?n.hash():
M;else if("string"===typeof c){this.each(function(){var r=a(this).data("qtip");if(!r)return TRUE;if(/option|set/.test(g)&&d)if(i!==M)r.set(d,i);else p=r.get(d);else{if(!r.rendered&&(g==="show"||g==="toggle")){if(t&&t.timeStamp)r.cache.event=t;r.render()}else if(g==="enable"){g="disable";l=[FALSE]}r[g]&&r[g].apply(r[g],l)}});return p!==NULL?p:this}else if("object"===typeof c){y=N(n,this);n=a.extend(TRUE,{},a.fn.qtip.defaults,n);return a.fn.qtip.bind.call(y,n,t)}};a.fn.qtip.bind=function(c,d){return this.each(function(i){function g(v){function m(){n.render(typeof v===
"object"||y.show.ready);r.show.unbind(x.show);r.hide.unbind(x.hide)}if(n.cache.disabled)return FALSE;n.cache.event=a.extend({},v);if(y.show.delay>0){clearTimeout(n.timers.show);n.timers.show=setTimeout(m,y.show.delay);x.show!==x.hide&&r.hide.bind(x.hide,function(){clearTimeout(n.timers.show)})}else m()}var p=a(this),l=c.id,t=c.content.text,n,y,r,x,e;c.id=l=l===FALSE||l.length<1||a("#ui-tooltip-"+l).length?a.fn.qtip.nextid++:l;e=".qtip-"+l+"-create";n=R.call(this,l,c);if(n===FALSE)return TRUE;y=n.options;
if(a.isArray(t))y.content.text=t[i];p.attr("title")&&p.data("oldtitle",p.attr("title")).removeAttr("title");a.each(a.fn.qtip.plugins,function(){this.initialize==="initialize"&&this(n)});r={show:y.show.target,hide:y.hide.target};x={show:String(y.show.event).replace(" ",e+" ")+e,hide:String(y.hide.event).replace(" ",e+" ")+e};r.show.bind(x.show,g);if(c.show.ready||c.prerender||c.show.event===FALSE)g(d)})};a.each({attr:function(c){var d=a(this).data("qtip");return arguments.length===1&&c==="title"&&
d&&d.rendered===TRUE?a(this).data("oldtitle"):NULL},remove:a.ui?NULL:function(c,d){this.each(function(){if(!d)if(!c||a.filter(c,[this]).length)a("*",this).add(this).each(function(){a(this).triggerHandler("remove")})})},offset:parseFloat((/CPU.+OS ([0-9_]{3}).*AppleWebkit.*Mobile/i.exec(navigator.userAgent)||[0,"4_2"])[1].replace("_","."))>4?NULL:function(){var c=a(this).Oldoffset();c.top-=E.scrollY;c.left-=E.scrollX;return c}},function(c,d){if(!d)return TRUE;a.fn["Old"+c]=a.fn[c];a.fn[c]=function(){return d.apply(this,
arguments)||a.fn["Old"+c].apply(this,arguments)}});a(document.body).attr("role",function(c,d){return!d?"application":d});a(document).bind("mousemove.qtip",function(c){a.fn.qtip.mouse={pageX:c.pageX,pageY:c.pageY}});a.fn.qtip.nextid=0;a.fn.qtip.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");a.fn.qtip.zindex=15E3;a.fn.qtip.plugins={Corner:function(c){this.x=(String(c).replace(/middle/i,"center").match(/left|right|center/i)||["false"])[0].toLowerCase();this.y=
(String(c).replace(/middle/i,"center").match(/top|bottom|center/i)||["false"])[0].toLowerCase();this.precedance=c.charAt(0).search(/^(t|b)/)>-1?"y":"x";this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y};this.abbreviation=function(){var d=this.x.substr(0,1),i=this.y.substr(0,1);return d===i?d:d==="c"||d!=="c"&&i!=="c"?i+d:d+i}}};a.fn.qtip.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,metadata:{type:"class"},content:{text:TRUE,attr:"title",title:{text:FALSE,button:FALSE}},
position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,adjust:{x:0,y:0,mouse:TRUE,screen:FALSE,resize:TRUE,offset:FALSE},effect:TRUE},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE},style:{classes:"",widget:FALSE},events:{render:a.noop,move:a.noop,show:a.noop,hide:a.noop,focus:a.noop,blur:a.noop}};a.fn.qtip.plugins.ajax=function(c){var d=c.plugins.ajax,i=c.options.content.ajax;
if(i&&i.url)if(d)return d;else{c.plugins.ajax=new S(c);return c.plugins.ajax}};a.fn.qtip.plugins.ajax.initialize="render";a.fn.qtip.plugins.ajax.sanitize=function(c){try{var d=c.content.ajax;if(typeof d!=="object")c.content.ajax={url:d};if(c.content.text===FALSE)c.content.text="Loading...";d.once=!!d.once}catch(i){}};a.extend(TRUE,a.fn.qtip.defaults,{content:{ajax:{once:TRUE}}});a.fn.qtip.plugins.tip=function(c){var d=c.plugins.tip,i=c.options.style.tip;if(i&&i.corner)if(d)return d;else{c.plugins.tip=
new T(c);c.plugins.tip.init();return c.plugins.tip}};a.fn.qtip.plugins.tip.initialize="render";a.fn.qtip.plugins.tip.sanitize=function(c){try{var d=c.style.tip;if(typeof d!=="object")c.style.tip={corner:!!d};if(typeof d.method!=="string")d.method=TRUE;if(!/canvas|polygon/i.test(d.method))d.method=TRUE;if(typeof d.width!=="number")d.width=12;if(typeof d.height!=="number")d.height=12;if(typeof d.border!=="number")d.border=0}catch(i){}};a.extend(TRUE,a.fn.qtip.defaults,{style:{tip:{corner:TRUE,method:TRUE,
width:12,height:12,border:0,offset:0}}});a.fn.qtip.plugins.imagemap=function(c,d){function i(x,e){for(var v=0,m=1,b=1,f=0,h=0,j=x.width,k=x.height;j>0&&k>0&&m>0&&b>0;){j=Math.floor(j/2);k=Math.floor(k/2);if(d.x==="left")m=j;else if(d.x==="right")m=x.width-j;else m+=Math.floor(j/2);if(d.y==="top")b=k;else if(d.y==="bottom")b=x.height-k;else b+=Math.floor(k/2);for(v=e.length;v--;){if(e.length<2)break;f=e[v][0]-x.offset.left;h=e[v][1]-x.offset.top;if(d.x==="left"&&f>=m||d.x==="right"&&f<=m||d.x==="center"&&
(f<m||f>x.width-m)||d.y==="top"&&h>=b||d.y==="bottom"&&h<=b||d.y==="center"&&(h<b||h>x.height-b))e.splice(v,1)}}return{left:e[0][0],top:e[0][1]}}var g=c.attr("shape").toLowerCase(),p=c.attr("coords").split(","),l=[],t=a('img[usemap="#'+c.parent("map").attr("name")+'"]').offset(),n={width:0,height:0,offset:{top:1E10,right:0,bottom:0,left:1E10}},y=0,r=0;if(g==="poly")for(y=p.length;y--;){r=[parseInt(p[--y],10),parseInt(p[y+1],10)];if(r[0]>n.offset.right)n.offset.right=r[0];if(r[0]<n.offset.left)n.offset.left=
r[0];if(r[1]>n.offset.bottom)n.offset.bottom=r[1];if(r[1]<n.offset.top)n.offset.top=r[1];l.push(r)}else l=a.map(p,function(x){return parseInt(x,10)});switch(g){case "rect":n={width:Math.abs(l[2]-l[0]),height:Math.abs(l[3]-l[1]),offset:{left:l[0],top:l[1]}};break;case "circle":n={width:l[2]+2,height:l[2]+2,offset:{left:l[0],top:l[1]}};break;case "poly":a.extend(n,{width:Math.abs(n.offset.right-n.offset.left),height:Math.abs(n.offset.bottom-n.offset.top)});n.offset=d.string()==="centercenter"?{left:n.offset.left+
n.width/2,top:n.offset.top+n.height/2}:i(n,l.slice());n.width=n.height=0;break}n.offset.left+=t.left;n.offset.top+=t.top;return n};a.fn.qtip.plugins.modal=function(c){var d=c.plugins.modal,i=c.options.show.modal;if(d)return d;else if(i&&i.on===TRUE){c.plugins.modal=new U(c,i);return c.plugins.modal}};a.fn.qtip.plugins.modal.initialize="render";a.fn.qtip.plugins.modal.sanitize=function(c){if(c.show)if(typeof c.show.modal!=="object")c.show.modal={on:!!c.show.modal};else if(typeof c.show.modal.on===
"undefined")c.show.modal.on=TRUE};a.extend(TRUE,a.fn.qtip.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE}}});a.fn.qtip.plugins.bgiframe=function(c){if(!(a.browser.msie&&/^6\.[0-9]/.test(a.browser.version)&&a("select, object").length))return FALSE;var d=c.plugins.bgiframe;if(d)return d;else{c.plugins.bgiframe=new V(c);return c.plugins.bgiframe}};a.fn.qtip.plugins.bgiframe.initialize="render"})(jQuery,window);
